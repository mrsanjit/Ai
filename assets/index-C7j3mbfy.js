(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bg={exports:{}},nc={},Sg={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function BR(){if(oS)return ft;oS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,C={};function A(V,ee,ve){this.props=V,this.context=ee,this.refs=C,this.updater=ve||b}A.prototype.isReactComponent={},A.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},A.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function R(){}R.prototype=A.prototype;function N(V,ee,ve){this.props=V,this.context=ee,this.refs=C,this.updater=ve||b}var k=N.prototype=new R;k.constructor=N,P(k,A.prototype),k.isPureReactComponent=!0;var $=Array.isArray,I=Object.prototype.hasOwnProperty,D={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function U(V,ee,ve){var Ce,le={},pe=null,Le=null;if(ee!=null)for(Ce in ee.ref!==void 0&&(Le=ee.ref),ee.key!==void 0&&(pe=""+ee.key),ee)I.call(ee,Ce)&&!F.hasOwnProperty(Ce)&&(le[Ce]=ee[Ce]);var Oe=arguments.length-2;if(Oe===1)le.children=ve;else if(1<Oe){for(var _e=Array(Oe),ke=0;ke<Oe;ke++)_e[ke]=arguments[ke+2];le.children=_e}if(V&&V.defaultProps)for(Ce in Oe=V.defaultProps,Oe)le[Ce]===void 0&&(le[Ce]=Oe[Ce]);return{$$typeof:t,type:V,key:pe,ref:Le,props:le,_owner:D.current}}function z(V,ee){return{$$typeof:t,type:V.type,key:ee,ref:V.ref,props:V.props,_owner:V._owner}}function G(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function j(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ve){return ee[ve]})}var K=/\/+/g;function Q(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):ee.toString(36)}function re(V,ee,ve,Ce,le){var pe=typeof V;(pe==="undefined"||pe==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(pe){case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case t:case e:Le=!0}}if(Le)return Le=V,le=le(Le),V=Ce===""?"."+Q(Le,0):Ce,$(le)?(ve="",V!=null&&(ve=V.replace(K,"$&/")+"/"),re(le,ee,ve,"",function(ke){return ke})):le!=null&&(G(le)&&(le=z(le,ve+(!le.key||Le&&Le.key===le.key?"":(""+le.key).replace(K,"$&/")+"/")+V)),ee.push(le)),1;if(Le=0,Ce=Ce===""?".":Ce+":",$(V))for(var Oe=0;Oe<V.length;Oe++){pe=V[Oe];var _e=Ce+Q(pe,Oe);Le+=re(pe,ee,ve,_e,le)}else if(_e=_(V),typeof _e=="function")for(V=_e.call(V),Oe=0;!(pe=V.next()).done;)pe=pe.value,_e=Ce+Q(pe,Oe++),Le+=re(pe,ee,ve,_e,le);else if(pe==="object")throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Le}function ie(V,ee,ve){if(V==null)return V;var Ce=[],le=0;return re(V,Ce,"","",function(pe){return ee.call(ve,pe,le++)}),Ce}function ae(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ve){(V._status===0||V._status===-1)&&(V._status=1,V._result=ve)},function(ve){(V._status===0||V._status===-1)&&(V._status=2,V._result=ve)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var de={current:null},J={transition:null},ce={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:J,ReactCurrentOwner:D};function ne(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:ie,forEach:function(V,ee,ve){ie(V,function(){ee.apply(this,arguments)},ve)},count:function(V){var ee=0;return ie(V,function(){ee++}),ee},toArray:function(V){return ie(V,function(ee){return ee})||[]},only:function(V){if(!G(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ft.Component=A,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=N,ft.StrictMode=r,ft.Suspense=d,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,ft.act=ne,ft.cloneElement=function(V,ee,ve){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ce=P({},V.props),le=V.key,pe=V.ref,Le=V._owner;if(ee!=null){if(ee.ref!==void 0&&(pe=ee.ref,Le=D.current),ee.key!==void 0&&(le=""+ee.key),V.type&&V.type.defaultProps)var Oe=V.type.defaultProps;for(_e in ee)I.call(ee,_e)&&!F.hasOwnProperty(_e)&&(Ce[_e]=ee[_e]===void 0&&Oe!==void 0?Oe[_e]:ee[_e])}var _e=arguments.length-2;if(_e===1)Ce.children=ve;else if(1<_e){Oe=Array(_e);for(var ke=0;ke<_e;ke++)Oe[ke]=arguments[ke+2];Ce.children=Oe}return{$$typeof:t,type:V.type,key:le,ref:pe,props:Ce,_owner:Le}},ft.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},ft.createElement=U,ft.createFactory=function(V){var ee=U.bind(null,V);return ee.type=V,ee},ft.createRef=function(){return{current:null}},ft.forwardRef=function(V){return{$$typeof:c,render:V}},ft.isValidElement=G,ft.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:ae}},ft.memo=function(V,ee){return{$$typeof:f,type:V,compare:ee===void 0?null:ee}},ft.startTransition=function(V){var ee=J.transition;J.transition={};try{V()}finally{J.transition=ee}},ft.unstable_act=ne,ft.useCallback=function(V,ee){return de.current.useCallback(V,ee)},ft.useContext=function(V){return de.current.useContext(V)},ft.useDebugValue=function(){},ft.useDeferredValue=function(V){return de.current.useDeferredValue(V)},ft.useEffect=function(V,ee){return de.current.useEffect(V,ee)},ft.useId=function(){return de.current.useId()},ft.useImperativeHandle=function(V,ee,ve){return de.current.useImperativeHandle(V,ee,ve)},ft.useInsertionEffect=function(V,ee){return de.current.useInsertionEffect(V,ee)},ft.useLayoutEffect=function(V,ee){return de.current.useLayoutEffect(V,ee)},ft.useMemo=function(V,ee){return de.current.useMemo(V,ee)},ft.useReducer=function(V,ee,ve){return de.current.useReducer(V,ee,ve)},ft.useRef=function(V){return de.current.useRef(V)},ft.useState=function(V){return de.current.useState(V)},ft.useSyncExternalStore=function(V,ee,ve){return de.current.useSyncExternalStore(V,ee,ve)},ft.useTransition=function(){return de.current.useTransition()},ft.version="18.3.1",ft}var aS;function vw(){return aS||(aS=1,Sg.exports=BR()),Sg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function qR(){if(sS)return nc;sS=1;var t=vw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(c,d,f){var g,y={},_=null,b=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(b=d.ref);for(g in d)r.call(d,g)&&!o.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:_,ref:b,props:y,_owner:i.current}}return nc.Fragment=n,nc.jsx=s,nc.jsxs=s,nc}var lS;function UR(){return lS||(lS=1,bg.exports=qR()),bg.exports}var M=UR(),X=vw();const H=Tt(X);var qd={},Tg={exports:{}},Kn={},Cg={exports:{}},Ag={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function jR(){return uS||(uS=1,function(t){function e(J,ce){var ne=J.length;J.push(ce);e:for(;0<ne;){var V=ne-1>>>1,ee=J[V];if(0<i(ee,ce))J[V]=ce,J[ne]=ee,ne=V;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ce=J[0],ne=J.pop();if(ne!==ce){J[0]=ne;e:for(var V=0,ee=J.length,ve=ee>>>1;V<ve;){var Ce=2*(V+1)-1,le=J[Ce],pe=Ce+1,Le=J[pe];if(0>i(le,ne))pe<ee&&0>i(Le,le)?(J[V]=Le,J[pe]=ne,V=pe):(J[V]=le,J[Ce]=ne,V=Ce);else if(pe<ee&&0>i(Le,ne))J[V]=Le,J[pe]=ne,V=pe;else break e}}return ce}function i(J,ce){var ne=J.sortIndex-ce.sortIndex;return ne!==0?ne:J.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var d=[],f=[],g=1,y=null,_=3,b=!1,P=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(J){for(var ce=n(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=J)r(f),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(f)}}function $(J){if(C=!1,k(J),!P)if(n(d)!==null)P=!0,ae(I);else{var ce=n(f);ce!==null&&de($,ce.startTime-J)}}function I(J,ce){P=!1,C&&(C=!1,R(U),U=-1),b=!0;var ne=_;try{for(k(ce),y=n(d);y!==null&&(!(y.expirationTime>ce)||J&&!j());){var V=y.callback;if(typeof V=="function"){y.callback=null,_=y.priorityLevel;var ee=V(y.expirationTime<=ce);ce=t.unstable_now(),typeof ee=="function"?y.callback=ee:y===n(d)&&r(d),k(ce)}else r(d);y=n(d)}if(y!==null)var ve=!0;else{var Ce=n(f);Ce!==null&&de($,Ce.startTime-ce),ve=!1}return ve}finally{y=null,_=ne,b=!1}}var D=!1,F=null,U=-1,z=5,G=-1;function j(){return!(t.unstable_now()-G<z)}function K(){if(F!==null){var J=t.unstable_now();G=J;var ce=!0;try{ce=F(!0,J)}finally{ce?Q():(D=!1,F=null)}}else D=!1}var Q;if(typeof N=="function")Q=function(){N(K)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=K,Q=function(){ie.postMessage(null)}}else Q=function(){A(K,0)};function ae(J){F=J,D||(D=!0,Q())}function de(J,ce){U=A(function(){J(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){P||b||(P=!0,ae(I))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(J){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var ne=_;_=ce;try{return J()}finally{_=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ne=_;_=J;try{return ce()}finally{_=ne}},t.unstable_scheduleCallback=function(J,ce,ne){var V=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?V+ne:V):ne=V,J){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ne+ee,J={id:g++,callback:ce,priorityLevel:J,startTime:ne,expirationTime:ee,sortIndex:-1},ne>V?(J.sortIndex=ne,e(f,J),n(d)===null&&J===n(f)&&(C?(R(U),U=-1):C=!0,de($,ne-V))):(J.sortIndex=ee,e(d,J),P||b||(P=!0,ae(I))),J},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(J){var ce=_;return function(){var ne=_;_=ce;try{return J.apply(this,arguments)}finally{_=ne}}}}(Ag)),Ag}var cS;function zR(){return cS||(cS=1,Cg.exports=jR()),Cg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function VR(){if(fS)return Kn;fS=1;var t=vw(),e=zR();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,v=1;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(a){return d.call(y,a)?!0:d.call(g,a)?!1:f.test(a)?y[a]=!0:(g[a]=!0,!1)}function b(a,u,v,w){if(v!==null&&v.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:v!==null?!v.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function P(a,u,v,w){if(u===null||typeof u>"u"||b(a,u,v,w))return!0;if(w)return!1;if(v!==null)switch(v.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function C(a,u,v,w,T,E,B){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=v,this.propertyName=a,this.type=u,this.sanitizeURL=E,this.removeEmptyString=B}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){A[a]=new C(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];A[u]=new C(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){A[a]=new C(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){A[a]=new C(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){A[a]=new C(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){A[a]=new C(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){A[a]=new C(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){A[a]=new C(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){A[a]=new C(a,5,!1,a.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function N(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(R,N);A[u]=new C(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(R,N);A[u]=new C(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(R,N);A[u]=new C(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){A[a]=new C(a,1,!1,a.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){A[a]=new C(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,u,v,w){var T=A.hasOwnProperty(u)?A[u]:null;(T!==null?T.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(P(u,v,T,w)&&(v=null),w||T===null?_(u)&&(v===null?a.removeAttribute(u):a.setAttribute(u,""+v)):T.mustUseProperty?a[T.propertyName]=v===null?T.type===3?!1:"":v:(u=T.attributeName,w=T.attributeNamespace,v===null?a.removeAttribute(u):(T=T.type,v=T===3||T===4&&v===!0?"":""+v,w?a.setAttributeNS(w,u,v):a.setAttribute(u,v))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),D=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),j=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),J=Symbol.iterator;function ce(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Object.assign,V;function ee(a){if(V===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);V=u&&u[1]||""}return`
`+V+a}var ve=!1;function Ce(a,u){if(!a||ve)return"";ve=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(he){var w=he}Reflect.construct(a,[],u)}else{try{u.call()}catch(he){w=he}a.call(u.prototype)}else{try{throw Error()}catch(he){w=he}a()}}catch(he){if(he&&w&&typeof he.stack=="string"){for(var T=he.stack.split(`
`),E=w.stack.split(`
`),B=T.length-1,W=E.length-1;1<=B&&0<=W&&T[B]!==E[W];)W--;for(;1<=B&&0<=W;B--,W--)if(T[B]!==E[W]){if(B!==1||W!==1)do if(B--,W--,0>W||T[B]!==E[W]){var Y=`
`+T[B].replace(" at new "," at ");return a.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",a.displayName)),Y}while(1<=B&&0<=W);break}}}finally{ve=!1,Error.prepareStackTrace=v}return(a=a?a.displayName||a.name:"")?ee(a):""}function le(a){switch(a.tag){case 5:return ee(a.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return a=Ce(a.type,!1),a;case 11:return a=Ce(a.type.render,!1),a;case 1:return a=Ce(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case D:return"Portal";case z:return"Profiler";case U:return"StrictMode";case Q:return"Suspense";case re:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case j:return(a.displayName||"Context")+".Consumer";case G:return(a._context.displayName||"Context")+".Provider";case K:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ie:return u=a.displayName||null,u!==null?u:pe(a.type)||"Memo";case ae:u=a._payload,a=a._init;try{return pe(a(u))}catch{}}return null}function Le(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(u);case 8:return u===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Oe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _e(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ke(a){var u=_e(a)?"checked":"value",v=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),w=""+a[u];if(!a.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,E=v.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return T.call(this)},set:function(B){w=""+B,E.call(this,B)}}),Object.defineProperty(a,u,{enumerable:v.enumerable}),{getValue:function(){return w},setValue:function(B){w=""+B},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function He(a){a._valueTracker||(a._valueTracker=ke(a))}function ge(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var v=u.getValue(),w="";return a&&(w=_e(a)?a.checked?"true":"false":a.value),a=w,a!==v?(u.setValue(a),!0):!1}function rt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Qe(a,u){var v=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??a._wrapperState.initialChecked})}function pt(a,u){var v=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;v=Oe(u.value!=null?u.value:v),a._wrapperState={initialChecked:w,initialValue:v,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function mt(a,u){u=u.checked,u!=null&&k(a,"checked",u,!1)}function Pe(a,u){mt(a,u);var v=Oe(u.value),w=u.type;if(v!=null)w==="number"?(v===0&&a.value===""||a.value!=v)&&(a.value=""+v):a.value!==""+v&&(a.value=""+v);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Ve(a,u.type,v):u.hasOwnProperty("defaultValue")&&Ve(a,u.type,Oe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function ze(a,u,v){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,v||u===a.value||(a.value=u),a.defaultValue=u}v=a.name,v!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,v!==""&&(a.name=v)}function Ve(a,u,v){(u!=="number"||rt(a.ownerDocument)!==a)&&(v==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+v&&(a.defaultValue=""+v))}var it=Array.isArray;function gt(a,u,v,w){if(a=a.options,u){u={};for(var T=0;T<v.length;T++)u["$"+v[T]]=!0;for(v=0;v<a.length;v++)T=u.hasOwnProperty("$"+a[v].value),a[v].selected!==T&&(a[v].selected=T),T&&w&&(a[v].defaultSelected=!0)}else{for(v=""+Oe(v),u=null,T=0;T<a.length;T++){if(a[T].value===v){a[T].selected=!0,w&&(a[T].defaultSelected=!0);return}u!==null||a[T].disabled||(u=a[T])}u!==null&&(u.selected=!0)}}function Yt(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Yn(a,u){var v=u.value;if(v==null){if(v=u.children,u=u.defaultValue,v!=null){if(u!=null)throw Error(n(92));if(it(v)){if(1<v.length)throw Error(n(93));v=v[0]}u=v}u==null&&(u=""),v=u}a._wrapperState={initialValue:Oe(v)}}function Si(a,u){var v=Oe(u.value),w=Oe(u.defaultValue);v!=null&&(v=""+v,v!==a.value&&(a.value=v),u.defaultValue==null&&a.defaultValue!==v&&(a.defaultValue=v)),w!=null&&(a.defaultValue=""+w)}function ri(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function po(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?po(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Te,Ee=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,v,w,T){MSApp.execUnsafeLocalFunction(function(){return a(u,v,w,T)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Te.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function We(a,u){if(u){var v=a.firstChild;if(v&&v===a.lastChild&&v.nodeType===3){v.nodeValue=u;return}}a.textContent=u}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(a){st.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),ct[u]=ct[a]})});function Et(a,u,v){return u==null||typeof u=="boolean"||u===""?"":v||typeof u!="number"||u===0||ct.hasOwnProperty(a)&&ct[a]?(""+u).trim():u+"px"}function Ti(a,u){a=a.style;for(var v in u)if(u.hasOwnProperty(v)){var w=v.indexOf("--")===0,T=Et(v,u[v],w);v==="float"&&(v="cssFloat"),w?a.setProperty(v,T):a[v]=T}}var cs=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ci(a,u){if(u){if(cs[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Ai(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=null;function cu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fs=null,Pi=null,Ei=null;function wf(a){if(a=qi(a)){if(typeof fs!="function")throw Error(n(280));var u=a.stateNode;u&&(u=Fs(u),fs(a.stateNode,a.type,u))}}function bf(a){Pi?Ei?Ei.push(a):Ei=[a]:Pi=a}function Sf(){if(Pi){var a=Pi,u=Ei;if(Ei=Pi=null,wf(a),u)for(a=0;a<u.length;a++)wf(u[a])}}function Tf(a,u){return a(u)}function Cf(){}var fu=!1;function ds(a,u,v){if(fu)return a(u,v);fu=!0;try{return Tf(a,u,v)}finally{fu=!1,(Pi!==null||Ei!==null)&&(Cf(),Sf())}}function fa(a,u){var v=a.stateNode;if(v===null)return null;var w=Fs(v);if(w===null)return null;v=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(v&&typeof v!="function")throw Error(n(231,u,typeof v));return v}var du=!1;if(c)try{var da={};Object.defineProperty(da,"passive",{get:function(){du=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{du=!1}function Qp(a,u,v,w,T,E,B,W,Y){var he=Array.prototype.slice.call(arguments,3);try{u.apply(v,he)}catch(we){this.onError(we)}}var xn=!1,Be=null,ha=!1,hs=null,Af={onError:function(a){xn=!0,Be=a}};function Pf(a,u,v,w,T,E,B,W,Y){xn=!1,Be=null,Qp.apply(Af,arguments)}function hu(a,u,v,w,T,E,B,W,Y){if(Pf.apply(this,arguments),xn){if(xn){var he=Be;xn=!1,Be=null}else throw Error(n(198));ha||(ha=!0,hs=he)}}function ii(a){var u=a,v=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(v=u.return),a=u.return;while(a)}return u.tag===3?v:null}function Mi(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function pu(a){if(ii(a)!==a)throw Error(n(188))}function em(a){var u=a.alternate;if(!u){if(u=ii(a),u===null)throw Error(n(188));return u!==a?null:a}for(var v=a,w=u;;){var T=v.return;if(T===null)break;var E=T.alternate;if(E===null){if(w=T.return,w!==null){v=w;continue}break}if(T.child===E.child){for(E=T.child;E;){if(E===v)return pu(T),a;if(E===w)return pu(T),u;E=E.sibling}throw Error(n(188))}if(v.return!==w.return)v=T,w=E;else{for(var B=!1,W=T.child;W;){if(W===v){B=!0,v=T,w=E;break}if(W===w){B=!0,w=T,v=E;break}W=W.sibling}if(!B){for(W=E.child;W;){if(W===v){B=!0,v=E,w=T;break}if(W===w){B=!0,w=E,v=T;break}W=W.sibling}if(!B)throw Error(n(189))}}if(v.alternate!==w)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?a:u}function Ef(a){return a=em(a),a!==null?Mf(a):null}function Mf(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Mf(a);if(u!==null)return u;a=a.sibling}return null}var If=e.unstable_scheduleCallback,mu=e.unstable_cancelCallback,tm=e.unstable_shouldYield,ps=e.unstable_requestPaint,jt=e.unstable_now,nm=e.unstable_getCurrentPriorityLevel,gu=e.unstable_ImmediatePriority,Of=e.unstable_UserBlockingPriority,ms=e.unstable_NormalPriority,vu=e.unstable_LowPriority,mo=e.unstable_IdlePriority,pa=null,Xn=null;function ma(a){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(pa,a,void 0,(a.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:go,Lt=Math.log,gs=Math.LN2;function go(a){return a>>>=0,a===0?32:31-(Lt(a)/gs|0)|0}var $r=64,vo=4194304;function nt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function It(a,u){var v=a.pendingLanes;if(v===0)return 0;var w=0,T=a.suspendedLanes,E=a.pingedLanes,B=v&268435455;if(B!==0){var W=B&~T;W!==0?w=nt(W):(E&=B,E!==0&&(w=nt(E)))}else B=v&~T,B!==0?w=nt(B):E!==0&&(w=nt(E));if(w===0)return 0;if(u!==0&&u!==w&&(u&T)===0&&(T=w&-w,E=u&-u,T>=E||T===16&&(E&4194240)!==0))return u;if((w&4)!==0&&(w|=v&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=w;0<u;)v=31-ot(u),T=1<<v,w|=a[v],u&=~T;return w}function yu(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vs(a,u){for(var v=a.suspendedLanes,w=a.pingedLanes,T=a.expirationTimes,E=a.pendingLanes;0<E;){var B=31-ot(E),W=1<<B,Y=T[B];Y===-1?((W&v)===0||(W&w)!==0)&&(T[B]=yu(W,u)):Y<=u&&(a.expiredLanes|=W),E&=~W}}function wn(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function kf(){var a=$r;return $r<<=1,($r&4194240)===0&&($r=64),a}function yo(a){for(var u=[],v=0;31>v;v++)u.push(a);return u}function Qn(a,u,v){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-ot(u),a[u]=v}function Wt(a,u){var v=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<v;){var T=31-ot(v),E=1<<T;u[T]=0,w[T]=-1,a[T]=-1,v&=~E}}function Fr(a,u){var v=a.entangledLanes|=u;for(a=a.entanglements;v;){var w=31-ot(v),T=1<<w;T&u|a[w]&u&&(a[w]|=u),v&=~T}}var ht=0;function _o(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ys,Ii,_s,xs,ga,va=!1,xo=[],er=null,Br=null,pr=null,ya=new Map,et=new Map,nn=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(a,u){switch(a){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":ya.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":et.delete(u.pointerId)}}function Oi(a,u,v,w,T,E){return a===null||a.nativeEvent!==E?(a={blockedOn:u,domEventName:v,eventSystemFlags:w,nativeEvent:E,targetContainers:[T]},u!==null&&(u=qi(u),u!==null&&Ii(u)),a):(a.eventSystemFlags|=w,u=a.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),a)}function xu(a,u,v,w,T){switch(u){case"focusin":return er=Oi(er,a,u,v,w,T),!0;case"dragenter":return Br=Oi(Br,a,u,v,w,T),!0;case"mouseover":return pr=Oi(pr,a,u,v,w,T),!0;case"pointerover":var E=T.pointerId;return ya.set(E,Oi(ya.get(E)||null,a,u,v,w,T)),!0;case"gotpointercapture":return E=T.pointerId,et.set(E,Oi(et.get(E)||null,a,u,v,w,T)),!0}return!1}function ws(a){var u=Bi(a.target);if(u!==null){var v=ii(u);if(v!==null){if(u=v.tag,u===13){if(u=Mi(v),u!==null){a.blockedOn=u,ga(a.priority,function(){_s(v)});return}}else if(u===3&&v.stateNode.current.memoizedState.isDehydrated){a.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mr(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var v=Ts(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(v===null){v=a.nativeEvent;var w=new v.constructor(v.type,v);uu=w,v.target.dispatchEvent(w),uu=null}else return u=qi(v),u!==null&&Ii(u),a.blockedOn=v,!1;u.shift()}return!0}function bs(a,u,v){mr(a)&&v.delete(u)}function _a(){va=!1,er!==null&&mr(er)&&(er=null),Br!==null&&mr(Br)&&(Br=null),pr!==null&&mr(pr)&&(pr=null),ya.forEach(bs),et.forEach(bs)}function zt(a,u){a.blockedOn===u&&(a.blockedOn=null,va||(va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_a)))}function tr(a){function u(T){return zt(T,a)}if(0<xo.length){zt(xo[0],a);for(var v=1;v<xo.length;v++){var w=xo[v];w.blockedOn===a&&(w.blockedOn=null)}}for(er!==null&&zt(er,a),Br!==null&&zt(Br,a),pr!==null&&zt(pr,a),ya.forEach(u),et.forEach(u),v=0;v<nn.length;v++)w=nn[v],w.blockedOn===a&&(w.blockedOn=null);for(;0<nn.length&&(v=nn[0],v.blockedOn===null);)ws(v),v.blockedOn===null&&nn.shift()}var ki=$.ReactCurrentBatchConfig,xa=!0;function rm(a,u,v,w){var T=ht,E=ki.transition;ki.transition=null;try{ht=1,wa(a,u,v,w)}finally{ht=T,ki.transition=E}}function Nf(a,u,v,w){var T=ht,E=ki.transition;ki.transition=null;try{ht=4,wa(a,u,v,w)}finally{ht=T,ki.transition=E}}function wa(a,u,v,w){if(xa){var T=Ts(a,u,v,w);if(T===null)l(a,u,w,Ss,v),_u(a,w);else if(xu(T,a,u,v,w))w.stopPropagation();else if(_u(a,w),u&4&&-1<Ct.indexOf(a)){for(;T!==null;){var E=qi(T);if(E!==null&&ys(E),E=Ts(a,u,v,w),E===null&&l(a,u,w,Ss,v),E===T)break;T=E}T!==null&&w.stopPropagation()}else l(a,u,w,null,v)}}var Ss=null;function Ts(a,u,v,w){if(Ss=null,a=cu(w),a=Bi(a),a!==null)if(u=ii(a),u===null)a=null;else if(v=u.tag,v===13){if(a=Mi(u),a!==null)return a;a=null}else if(v===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Ss=a,null}function dt(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nm()){case gu:return 1;case Of:return 4;case ms:case vu:return 16;case mo:return 536870912;default:return 16}default:return 16}}var oi=null,On=null,ai=null;function wu(){if(ai)return ai;var a,u=On,v=u.length,w,T="value"in oi?oi.value:oi.textContent,E=T.length;for(a=0;a<v&&u[a]===T[a];a++);var B=v-a;for(w=1;w<=B&&u[v-w]===T[E-w];w++);return ai=T.slice(a,1<w?1-w:void 0)}function Cs(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function wo(){return!0}function Rf(){return!1}function bn(a){function u(v,w,T,E,B){this._reactName=v,this._targetInst=T,this.type=w,this.nativeEvent=E,this.target=B,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(v=a[W],this[W]=v?v(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?wo:Rf,this.isPropagationStopped=Rf,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),u}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=bn(bo),Ni=ne({},bo,{view:0,detail:0}),im=bn(Ni),Un,Su,So,nr=ne({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==So&&(So&&a.type==="mousemove"?(Un=a.screenX-So.screenX,Su=a.screenY-So.screenY):Su=Un=0,So=a),Un)},movementY:function(a){return"movementY"in a?a.movementY:Su}}),Tu=bn(nr),Lf=ne({},nr,{dataTransfer:0}),Cu=bn(Lf),om=ne({},Ni,{relatedTarget:0}),As=bn(om),Df=ne({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),am=bn(Df),sm=ne({},bo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Au=bn(sm),lm=ne({},bo,{data:0}),Pu=bn(lm),$f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ps={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ri={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Ri[a])?!!u[a]:!1}function Li(){return um}var jn=ne({},Ni,{key:function(a){if(a.key){var u=$f[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Cs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ps[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(a){return a.type==="keypress"?Cs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Cs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ff=bn(jn),Bf=ne({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qf=bn(Bf),Eu=ne({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),Mu=bn(Eu),cm=ne({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=bn(cm),Uf=ne({},nr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dm=bn(Uf),rr=[9,13,27,32],si=c&&"CompositionEvent"in window,ba=null;c&&"documentMode"in document&&(ba=document.documentMode);var qr=c&&"TextEvent"in window&&!ba,jf=c&&(!si||ba&&8<ba&&11>=ba),Di=" ",zf=!1;function To(a,u){switch(a){case"keyup":return rr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ur=!1;function hm(a,u){switch(a){case"compositionend":return Iu(u);case"keypress":return u.which!==32?null:(zf=!0,Di);case"textInput":return a=u.data,a===Di&&zf?null:a;default:return null}}function li(a,u){if(Ur)return a==="compositionend"||!si&&To(a,u)?(a=wu(),ai=On=oi=null,Ur=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return jf&&u.locale!=="ko"?null:u.data;default:return null}}var Es={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Es[a.type]:u==="textarea"}function Ms(a,u,v,w){bf(w),u=x(u,"onChange"),0<u.length&&(v=new bu("onChange","change",null,v,w),a.push({event:v,listeners:u}))}var Sa=null,kn=null;function pm(a){Bu(a,0)}function jr(a){var u=Ui(a);if(ge(u))return a}function mm(a,u){if(a==="change")return u}var gr=!1;if(c){var Co;if(c){var Is="oninput"in document;if(!Is){var Os=document.createElement("div");Os.setAttribute("oninput","return;"),Is=typeof Os.oninput=="function"}Co=Is}else Co=!1;gr=Co&&(!document.documentMode||9<document.documentMode)}function Ta(){Sa&&(Sa.detachEvent("onpropertychange",ks),kn=Sa=null)}function ks(a){if(a.propertyName==="value"&&jr(kn)){var u=[];Ms(u,kn,a,cu(a)),ds(pm,u)}}function Ns(a,u,v){a==="focusin"?(Ta(),Sa=u,kn=v,Sa.attachEvent("onpropertychange",ks)):a==="focusout"&&Ta()}function Ao(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jr(kn)}function Rs(a,u){if(a==="click")return jr(u)}function Ou(a,u){if(a==="input"||a==="change")return jr(u)}function Hf(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ir=typeof Object.is=="function"?Object.is:Hf;function ui(a,u){if(ir(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var v=Object.keys(a),w=Object.keys(u);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var T=v[w];if(!d.call(u,T)||!ir(a[T],u[T]))return!1}return!0}function Gf(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ku(a,u){var v=Gf(a);a=0;for(var w;v;){if(v.nodeType===3){if(w=a+v.textContent.length,a<=u&&w>=u)return{node:v,offset:u-a};a=w}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Gf(v)}}function Wf(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Wf(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Nu(){for(var a=window,u=rt();u instanceof a.HTMLIFrameElement;){try{var v=typeof u.contentWindow.location.href=="string"}catch{v=!1}if(v)a=u.contentWindow;else break;u=rt(a.document)}return u}function Ru(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function vr(a){var u=Nu(),v=a.focusedElem,w=a.selectionRange;if(u!==v&&v&&v.ownerDocument&&Wf(v.ownerDocument.documentElement,v)){if(w!==null&&Ru(v)){if(u=w.start,a=w.end,a===void 0&&(a=u),"selectionStart"in v)v.selectionStart=u,v.selectionEnd=Math.min(a,v.value.length);else if(a=(u=v.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var T=v.textContent.length,E=Math.min(w.start,T);w=w.end===void 0?E:Math.min(w.end,T),!a.extend&&E>w&&(T=w,w=E,E=T),T=ku(v,E);var B=ku(v,w);T&&B&&(a.rangeCount!==1||a.anchorNode!==T.node||a.anchorOffset!==T.offset||a.focusNode!==B.node||a.focusOffset!==B.offset)&&(u=u.createRange(),u.setStart(T.node,T.offset),a.removeAllRanges(),E>w?(a.addRange(u),a.extend(B.node,B.offset)):(u.setEnd(B.node,B.offset),a.addRange(u)))}}for(u=[],a=v;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<u.length;v++)a=u[v],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ls=c&&"documentMode"in document&&11>=document.documentMode,Po=null,Eo=null,Ca=null,Ds=!1;function Kf(a,u,v){var w=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Ds||Po==null||Po!==rt(w)||(w=Po,"selectionStart"in w&&Ru(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Ca&&ui(Ca,w)||(Ca=w,w=x(Eo,"onSelect"),0<w.length&&(u=new bu("onSelect","select",null,u,v),a.push({event:u,listeners:w}),u.target=Po)))}function ci(a,u){var v={};return v[a.toLowerCase()]=u.toLowerCase(),v["Webkit"+a]="webkit"+u,v["Moz"+a]="moz"+u,v}var Mo={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},fi={},Lu={};c&&(Lu=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Aa(a){if(fi[a])return fi[a];if(!Mo[a])return a;var u=Mo[a],v;for(v in u)if(u.hasOwnProperty(v)&&v in Lu)return fi[a]=u[v];return a}var Zf=Aa("animationend"),yr=Aa("animationiteration"),Du=Aa("animationstart"),$u=Aa("transitionend"),Io=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(a,u){Io.set(a,u),o(u,[a])}for(var $i=0;$i<Jf.length;$i++){var $s=Jf[$i],Yf=$s.toLowerCase(),gm=$s[0].toUpperCase()+$s.slice(1);or(Yf,"on"+gm)}or(Zf,"onAnimationEnd"),or(yr,"onAnimationIteration"),or(Du,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or($u,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function Fu(a,u,v){var w=a.type||"unknown-event";a.currentTarget=v,hu(w,u,void 0,a),a.currentTarget=null}function Bu(a,u){u=(u&4)!==0;for(var v=0;v<a.length;v++){var w=a[v],T=w.event;w=w.listeners;e:{var E=void 0;if(u)for(var B=w.length-1;0<=B;B--){var W=w[B],Y=W.instance,he=W.currentTarget;if(W=W.listener,Y!==E&&T.isPropagationStopped())break e;Fu(T,W,he),E=Y}else for(B=0;B<w.length;B++){if(W=w[B],Y=W.instance,he=W.currentTarget,W=W.listener,Y!==E&&T.isPropagationStopped())break e;Fu(T,W,he),E=Y}}}if(ha)throw a=hs,ha=!1,hs=null,a}function At(a,u){var v=u[Lo];v===void 0&&(v=u[Lo]=new Set);var w=a+"__bubble";v.has(w)||(Qf(u,a,2,!1),v.add(w))}function qu(a,u,v){var w=0;u&&(w|=4),Qf(v,a,w,u)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function ko(a){if(!a[Pa]){a[Pa]=!0,r.forEach(function(v){v!=="selectionchange"&&(Xf.has(v)||qu(v,!1,a),qu(v,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Pa]||(u[Pa]=!0,qu("selectionchange",!1,u))}}function Qf(a,u,v,w){switch(dt(u)){case 1:var T=rm;break;case 4:T=Nf;break;default:T=wa}v=T.bind(null,u,v,a),T=void 0,!du||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),w?T!==void 0?a.addEventListener(u,v,{capture:!0,passive:T}):a.addEventListener(u,v,!0):T!==void 0?a.addEventListener(u,v,{passive:T}):a.addEventListener(u,v,!1)}function l(a,u,v,w,T){var E=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var B=w.tag;if(B===3||B===4){var W=w.stateNode.containerInfo;if(W===T||W.nodeType===8&&W.parentNode===T)break;if(B===4)for(B=w.return;B!==null;){var Y=B.tag;if((Y===3||Y===4)&&(Y=B.stateNode.containerInfo,Y===T||Y.nodeType===8&&Y.parentNode===T))return;B=B.return}for(;W!==null;){if(B=Bi(W),B===null)return;if(Y=B.tag,Y===5||Y===6){w=E=B;continue e}W=W.parentNode}}w=w.return}ds(function(){var he=E,we=cu(v),be=[];e:{var xe=Io.get(a);if(xe!==void 0){var Ie=bu,$e=a;switch(a){case"keypress":if(Cs(v)===0)break e;case"keydown":case"keyup":Ie=Ff;break;case"focusin":$e="focus",Ie=As;break;case"focusout":$e="blur",Ie=As;break;case"beforeblur":case"afterblur":Ie=As;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Mu;break;case Zf:case yr:case Du:Ie=am;break;case $u:Ie=fm;break;case"scroll":Ie=im;break;case"wheel":Ie=dm;break;case"copy":case"cut":case"paste":Ie=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=qf}var Fe=(u&4)!==0,Jt=!Fe&&a==="scroll",se=Fe?xe!==null?xe+"Capture":null:xe;Fe=[];for(var te=he,ue;te!==null;){ue=te;var Ae=ue.stateNode;if(ue.tag===5&&Ae!==null&&(ue=Ae,se!==null&&(Ae=fa(te,se),Ae!=null&&Fe.push(m(te,Ae,ue)))),Jt)break;te=te.return}0<Fe.length&&(xe=new Ie(xe,$e,null,v,we),be.push({event:xe,listeners:Fe}))}}if((u&7)===0){e:{if(xe=a==="mouseover"||a==="pointerover",Ie=a==="mouseout"||a==="pointerout",xe&&v!==uu&&($e=v.relatedTarget||v.fromElement)&&(Bi($e)||$e[xt]))break e;if((Ie||xe)&&(xe=we.window===we?we:(xe=we.ownerDocument)?xe.defaultView||xe.parentWindow:window,Ie?($e=v.relatedTarget||v.toElement,Ie=he,$e=$e?Bi($e):null,$e!==null&&(Jt=ii($e),$e!==Jt||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Ie=null,$e=he),Ie!==$e)){if(Fe=Tu,Ae="onMouseLeave",se="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(Fe=qf,Ae="onPointerLeave",se="onPointerEnter",te="pointer"),Jt=Ie==null?xe:Ui(Ie),ue=$e==null?xe:Ui($e),xe=new Fe(Ae,te+"leave",Ie,v,we),xe.target=Jt,xe.relatedTarget=ue,Ae=null,Bi(we)===he&&(Fe=new Fe(se,te+"enter",$e,v,we),Fe.target=ue,Fe.relatedTarget=Jt,Ae=Fe),Jt=Ae,Ie&&$e)t:{for(Fe=Ie,se=$e,te=0,ue=Fe;ue;ue=S(ue))te++;for(ue=0,Ae=se;Ae;Ae=S(Ae))ue++;for(;0<te-ue;)Fe=S(Fe),te--;for(;0<ue-te;)se=S(se),ue--;for(;te--;){if(Fe===se||se!==null&&Fe===se.alternate)break t;Fe=S(Fe),se=S(se)}Fe=null}else Fe=null;Ie!==null&&O(be,xe,Ie,Fe,!1),$e!==null&&Jt!==null&&O(be,Jt,$e,Fe,!0)}}e:{if(xe=he?Ui(he):window,Ie=xe.nodeName&&xe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&xe.type==="file")var Ue=mm;else if(Vf(xe))if(gr)Ue=Ou;else{Ue=Ao;var Ke=Ns}else(Ie=xe.nodeName)&&Ie.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Ue=Rs);if(Ue&&(Ue=Ue(a,he))){Ms(be,Ue,v,we);break e}Ke&&Ke(a,xe,he),a==="focusout"&&(Ke=xe._wrapperState)&&Ke.controlled&&xe.type==="number"&&Ve(xe,"number",xe.value)}switch(Ke=he?Ui(he):window,a){case"focusin":(Vf(Ke)||Ke.contentEditable==="true")&&(Po=Ke,Eo=he,Ca=null);break;case"focusout":Ca=Eo=Po=null;break;case"mousedown":Ds=!0;break;case"contextmenu":case"mouseup":case"dragend":Ds=!1,Kf(be,v,we);break;case"selectionchange":if(Ls)break;case"keydown":case"keyup":Kf(be,v,we)}var Ze;if(si)e:{switch(a){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Ur?To(a,v)&&(tt="onCompositionEnd"):a==="keydown"&&v.keyCode===229&&(tt="onCompositionStart");tt&&(jf&&v.locale!=="ko"&&(Ur||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Ur&&(Ze=wu()):(oi=we,On="value"in oi?oi.value:oi.textContent,Ur=!0)),Ke=x(he,tt),0<Ke.length&&(tt=new Pu(tt,a,null,v,we),be.push({event:tt,listeners:Ke}),Ze?tt.data=Ze:(Ze=Iu(v),Ze!==null&&(tt.data=Ze)))),(Ze=qr?hm(a,v):li(a,v))&&(he=x(he,"onBeforeInput"),0<he.length&&(we=new Pu("onBeforeInput","beforeinput",null,v,we),be.push({event:we,listeners:he}),we.data=Ze))}Bu(be,u)})}function m(a,u,v){return{instance:a,listener:u,currentTarget:v}}function x(a,u){for(var v=u+"Capture",w=[];a!==null;){var T=a,E=T.stateNode;T.tag===5&&E!==null&&(T=E,E=fa(a,v),E!=null&&w.unshift(m(a,E,T)),E=fa(a,u),E!=null&&w.push(m(a,E,T))),a=a.return}return w}function S(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function O(a,u,v,w,T){for(var E=u._reactName,B=[];v!==null&&v!==w;){var W=v,Y=W.alternate,he=W.stateNode;if(Y!==null&&Y===w)break;W.tag===5&&he!==null&&(W=he,T?(Y=fa(v,E),Y!=null&&B.unshift(m(v,Y,W))):T||(Y=fa(v,E),Y!=null&&B.push(m(v,Y,W)))),v=v.return}B.length!==0&&a.push({event:u,listeners:B})}var q=/\r\n?/g,Z=/\u0000|\uFFFD/g;function oe(a){return(typeof a=="string"?a:""+a).replace(q,`
`).replace(Z,"")}function fe(a,u,v){if(u=oe(u),oe(a)!==u&&v)throw Error(n(425))}function ye(){}var Me=null,Ge=null;function lt(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var rn=typeof setTimeout=="function"?setTimeout:void 0,Xt=typeof clearTimeout=="function"?clearTimeout:void 0,Nn=typeof Promise=="function"?Promise:void 0,Sn=typeof queueMicrotask=="function"?queueMicrotask:typeof Nn<"u"?function(a){return Nn.resolve(null).then(a).catch(No)}:rn;function No(a){setTimeout(function(){throw a})}function Uu(a,u){var v=u,w=0;do{var T=v.nextSibling;if(a.removeChild(v),T&&T.nodeType===8)if(v=T.data,v==="/$"){if(w===0){a.removeChild(T),tr(u);return}w--}else v!=="$"&&v!=="$?"&&v!=="$!"||w++;v=T}while(v);tr(u)}function di(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function ed(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var v=a.data;if(v==="$"||v==="$!"||v==="$?"){if(u===0)return a;u--}else v==="/$"&&u++}a=a.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),_r="__reactFiber$"+Fi,Ro="__reactProps$"+Fi,xt="__reactContainer$"+Fi,Lo="__reactEvents$"+Fi,vm="__reactListeners$"+Fi,ym="__reactHandles$"+Fi;function Bi(a){var u=a[_r];if(u)return u;for(var v=a.parentNode;v;){if(u=v[xt]||v[_r]){if(v=u.alternate,u.child!==null||v!==null&&v.child!==null)for(a=ed(a);a!==null;){if(v=a[_r])return v;a=ed(a)}return u}a=v,v=a.parentNode}return null}function qi(a){return a=a[_r]||a[xt],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ui(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Fs(a){return a[Ro]||null}var _m=[],Bs=-1;function Do(a){return{current:a}}function Dt(a){0>Bs||(a.current=_m[Bs],_m[Bs]=null,Bs--)}function Ot(a,u){Bs++,_m[Bs]=a.current,a.current=u}var $o={},Tn=Do($o),zn=Do(!1),Ea=$o;function qs(a,u){var v=a.type.contextTypes;if(!v)return $o;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var T={},E;for(E in v)T[E]=u[E];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=T),T}function Vn(a){return a=a.childContextTypes,a!=null}function td(){Dt(zn),Dt(Tn)}function Pb(a,u,v){if(Tn.current!==$o)throw Error(n(168));Ot(Tn,u),Ot(zn,v)}function Eb(a,u,v){var w=a.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return v;w=w.getChildContext();for(var T in w)if(!(T in u))throw Error(n(108,Le(a)||"Unknown",T));return ne({},v,w)}function nd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||$o,Ea=Tn.current,Ot(Tn,a),Ot(zn,zn.current),!0}function Mb(a,u,v){var w=a.stateNode;if(!w)throw Error(n(169));v?(a=Eb(a,u,Ea),w.__reactInternalMemoizedMergedChildContext=a,Dt(zn),Dt(Tn),Ot(Tn,a)):Dt(zn),Ot(zn,v)}var ji=null,rd=!1,xm=!1;function Ib(a){ji===null?ji=[a]:ji.push(a)}function iR(a){rd=!0,Ib(a)}function Fo(){if(!xm&&ji!==null){xm=!0;var a=0,u=ht;try{var v=ji;for(ht=1;a<v.length;a++){var w=v[a];do w=w(!0);while(w!==null)}ji=null,rd=!1}catch(T){throw ji!==null&&(ji=ji.slice(a+1)),If(gu,Fo),T}finally{ht=u,xm=!1}}return null}var Us=[],js=0,id=null,od=0,xr=[],wr=0,Ma=null,zi=1,Vi="";function Ia(a,u){Us[js++]=od,Us[js++]=id,id=a,od=u}function Ob(a,u,v){xr[wr++]=zi,xr[wr++]=Vi,xr[wr++]=Ma,Ma=a;var w=zi;a=Vi;var T=32-ot(w)-1;w&=~(1<<T),v+=1;var E=32-ot(u)+T;if(30<E){var B=T-T%5;E=(w&(1<<B)-1).toString(32),w>>=B,T-=B,zi=1<<32-ot(u)+T|v<<T|w,Vi=E+a}else zi=1<<E|v<<T|w,Vi=a}function wm(a){a.return!==null&&(Ia(a,1),Ob(a,1,0))}function bm(a){for(;a===id;)id=Us[--js],Us[js]=null,od=Us[--js],Us[js]=null;for(;a===Ma;)Ma=xr[--wr],xr[wr]=null,Vi=xr[--wr],xr[wr]=null,zi=xr[--wr],xr[wr]=null}var ar=null,sr=null,qt=!1,zr=null;function kb(a,u){var v=Cr(5,null,null,0);v.elementType="DELETED",v.stateNode=u,v.return=a,u=a.deletions,u===null?(a.deletions=[v],a.flags|=16):u.push(v)}function Nb(a,u){switch(a.tag){case 5:var v=a.type;return u=u.nodeType!==1||v.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,ar=a,sr=di(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,ar=a,sr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(v=Ma!==null?{id:zi,overflow:Vi}:null,a.memoizedState={dehydrated:u,treeContext:v,retryLane:1073741824},v=Cr(18,null,null,0),v.stateNode=u,v.return=a,a.child=v,ar=a,sr=null,!0):!1;default:return!1}}function Sm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Tm(a){if(qt){var u=sr;if(u){var v=u;if(!Nb(a,u)){if(Sm(a))throw Error(n(418));u=di(v.nextSibling);var w=ar;u&&Nb(a,u)?kb(w,v):(a.flags=a.flags&-4097|2,qt=!1,ar=a)}}else{if(Sm(a))throw Error(n(418));a.flags=a.flags&-4097|2,qt=!1,ar=a}}}function Rb(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ar=a}function ad(a){if(a!==ar)return!1;if(!qt)return Rb(a),qt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!lt(a.type,a.memoizedProps)),u&&(u=sr)){if(Sm(a))throw Lb(),Error(n(418));for(;u;)kb(a,u),u=di(u.nextSibling)}if(Rb(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var v=a.data;if(v==="/$"){if(u===0){sr=di(a.nextSibling);break e}u--}else v!=="$"&&v!=="$!"&&v!=="$?"||u++}a=a.nextSibling}sr=null}}else sr=ar?di(a.stateNode.nextSibling):null;return!0}function Lb(){for(var a=sr;a;)a=di(a.nextSibling)}function zs(){sr=ar=null,qt=!1}function Cm(a){zr===null?zr=[a]:zr.push(a)}var oR=$.ReactCurrentBatchConfig;function ju(a,u,v){if(a=v.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var w=v.stateNode}if(!w)throw Error(n(147,a));var T=w,E=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(B){var W=T.refs;B===null?delete W[E]:W[E]=B},u._stringRef=E,u)}if(typeof a!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,a))}return a}function sd(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Db(a){var u=a._init;return u(a._payload)}function $b(a){function u(se,te){if(a){var ue=se.deletions;ue===null?(se.deletions=[te],se.flags|=16):ue.push(te)}}function v(se,te){if(!a)return null;for(;te!==null;)u(se,te),te=te.sibling;return null}function w(se,te){for(se=new Map;te!==null;)te.key!==null?se.set(te.key,te):se.set(te.index,te),te=te.sibling;return se}function T(se,te){return se=Go(se,te),se.index=0,se.sibling=null,se}function E(se,te,ue){return se.index=ue,a?(ue=se.alternate,ue!==null?(ue=ue.index,ue<te?(se.flags|=2,te):ue):(se.flags|=2,te)):(se.flags|=1048576,te)}function B(se){return a&&se.alternate===null&&(se.flags|=2),se}function W(se,te,ue,Ae){return te===null||te.tag!==6?(te=gg(ue,se.mode,Ae),te.return=se,te):(te=T(te,ue),te.return=se,te)}function Y(se,te,ue,Ae){var Ue=ue.type;return Ue===F?we(se,te,ue.props.children,Ae,ue.key):te!==null&&(te.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ae&&Db(Ue)===te.type)?(Ae=T(te,ue.props),Ae.ref=ju(se,te,ue),Ae.return=se,Ae):(Ae=Od(ue.type,ue.key,ue.props,null,se.mode,Ae),Ae.ref=ju(se,te,ue),Ae.return=se,Ae)}function he(se,te,ue,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=vg(ue,se.mode,Ae),te.return=se,te):(te=T(te,ue.children||[]),te.return=se,te)}function we(se,te,ue,Ae,Ue){return te===null||te.tag!==7?(te=Fa(ue,se.mode,Ae,Ue),te.return=se,te):(te=T(te,ue),te.return=se,te)}function be(se,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=gg(""+te,se.mode,ue),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return ue=Od(te.type,te.key,te.props,null,se.mode,ue),ue.ref=ju(se,null,te),ue.return=se,ue;case D:return te=vg(te,se.mode,ue),te.return=se,te;case ae:var Ae=te._init;return be(se,Ae(te._payload),ue)}if(it(te)||ce(te))return te=Fa(te,se.mode,ue,null),te.return=se,te;sd(se,te)}return null}function xe(se,te,ue,Ae){var Ue=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ue!==null?null:W(se,te,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case I:return ue.key===Ue?Y(se,te,ue,Ae):null;case D:return ue.key===Ue?he(se,te,ue,Ae):null;case ae:return Ue=ue._init,xe(se,te,Ue(ue._payload),Ae)}if(it(ue)||ce(ue))return Ue!==null?null:we(se,te,ue,Ae,null);sd(se,ue)}return null}function Ie(se,te,ue,Ae,Ue){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return se=se.get(ue)||null,W(te,se,""+Ae,Ue);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case I:return se=se.get(Ae.key===null?ue:Ae.key)||null,Y(te,se,Ae,Ue);case D:return se=se.get(Ae.key===null?ue:Ae.key)||null,he(te,se,Ae,Ue);case ae:var Ke=Ae._init;return Ie(se,te,ue,Ke(Ae._payload),Ue)}if(it(Ae)||ce(Ae))return se=se.get(ue)||null,we(te,se,Ae,Ue,null);sd(te,Ae)}return null}function $e(se,te,ue,Ae){for(var Ue=null,Ke=null,Ze=te,tt=te=0,hn=null;Ze!==null&&tt<ue.length;tt++){Ze.index>tt?(hn=Ze,Ze=null):hn=Ze.sibling;var yt=xe(se,Ze,ue[tt],Ae);if(yt===null){Ze===null&&(Ze=hn);break}a&&Ze&&yt.alternate===null&&u(se,Ze),te=E(yt,te,tt),Ke===null?Ue=yt:Ke.sibling=yt,Ke=yt,Ze=hn}if(tt===ue.length)return v(se,Ze),qt&&Ia(se,tt),Ue;if(Ze===null){for(;tt<ue.length;tt++)Ze=be(se,ue[tt],Ae),Ze!==null&&(te=E(Ze,te,tt),Ke===null?Ue=Ze:Ke.sibling=Ze,Ke=Ze);return qt&&Ia(se,tt),Ue}for(Ze=w(se,Ze);tt<ue.length;tt++)hn=Ie(Ze,se,tt,ue[tt],Ae),hn!==null&&(a&&hn.alternate!==null&&Ze.delete(hn.key===null?tt:hn.key),te=E(hn,te,tt),Ke===null?Ue=hn:Ke.sibling=hn,Ke=hn);return a&&Ze.forEach(function(Wo){return u(se,Wo)}),qt&&Ia(se,tt),Ue}function Fe(se,te,ue,Ae){var Ue=ce(ue);if(typeof Ue!="function")throw Error(n(150));if(ue=Ue.call(ue),ue==null)throw Error(n(151));for(var Ke=Ue=null,Ze=te,tt=te=0,hn=null,yt=ue.next();Ze!==null&&!yt.done;tt++,yt=ue.next()){Ze.index>tt?(hn=Ze,Ze=null):hn=Ze.sibling;var Wo=xe(se,Ze,yt.value,Ae);if(Wo===null){Ze===null&&(Ze=hn);break}a&&Ze&&Wo.alternate===null&&u(se,Ze),te=E(Wo,te,tt),Ke===null?Ue=Wo:Ke.sibling=Wo,Ke=Wo,Ze=hn}if(yt.done)return v(se,Ze),qt&&Ia(se,tt),Ue;if(Ze===null){for(;!yt.done;tt++,yt=ue.next())yt=be(se,yt.value,Ae),yt!==null&&(te=E(yt,te,tt),Ke===null?Ue=yt:Ke.sibling=yt,Ke=yt);return qt&&Ia(se,tt),Ue}for(Ze=w(se,Ze);!yt.done;tt++,yt=ue.next())yt=Ie(Ze,se,tt,yt.value,Ae),yt!==null&&(a&&yt.alternate!==null&&Ze.delete(yt.key===null?tt:yt.key),te=E(yt,te,tt),Ke===null?Ue=yt:Ke.sibling=yt,Ke=yt);return a&&Ze.forEach(function(FR){return u(se,FR)}),qt&&Ia(se,tt),Ue}function Jt(se,te,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===F&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case I:e:{for(var Ue=ue.key,Ke=te;Ke!==null;){if(Ke.key===Ue){if(Ue=ue.type,Ue===F){if(Ke.tag===7){v(se,Ke.sibling),te=T(Ke,ue.props.children),te.return=se,se=te;break e}}else if(Ke.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ae&&Db(Ue)===Ke.type){v(se,Ke.sibling),te=T(Ke,ue.props),te.ref=ju(se,Ke,ue),te.return=se,se=te;break e}v(se,Ke);break}else u(se,Ke);Ke=Ke.sibling}ue.type===F?(te=Fa(ue.props.children,se.mode,Ae,ue.key),te.return=se,se=te):(Ae=Od(ue.type,ue.key,ue.props,null,se.mode,Ae),Ae.ref=ju(se,te,ue),Ae.return=se,se=Ae)}return B(se);case D:e:{for(Ke=ue.key;te!==null;){if(te.key===Ke)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){v(se,te.sibling),te=T(te,ue.children||[]),te.return=se,se=te;break e}else{v(se,te);break}else u(se,te);te=te.sibling}te=vg(ue,se.mode,Ae),te.return=se,se=te}return B(se);case ae:return Ke=ue._init,Jt(se,te,Ke(ue._payload),Ae)}if(it(ue))return $e(se,te,ue,Ae);if(ce(ue))return Fe(se,te,ue,Ae);sd(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(v(se,te.sibling),te=T(te,ue),te.return=se,se=te):(v(se,te),te=gg(ue,se.mode,Ae),te.return=se,se=te),B(se)):v(se,te)}return Jt}var Vs=$b(!0),Fb=$b(!1),ld=Do(null),ud=null,Hs=null,Am=null;function Pm(){Am=Hs=ud=null}function Em(a){var u=ld.current;Dt(ld),a._currentValue=u}function Mm(a,u,v){for(;a!==null;){var w=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),a===v)break;a=a.return}}function Gs(a,u){ud=a,Am=Hs=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Hn=!0),a.firstContext=null)}function br(a){var u=a._currentValue;if(Am!==a)if(a={context:a,memoizedValue:u,next:null},Hs===null){if(ud===null)throw Error(n(308));Hs=a,ud.dependencies={lanes:0,firstContext:a}}else Hs=Hs.next=a;return u}var Oa=null;function Im(a){Oa===null?Oa=[a]:Oa.push(a)}function Bb(a,u,v,w){var T=u.interleaved;return T===null?(v.next=v,Im(u)):(v.next=T.next,T.next=v),u.interleaved=v,Hi(a,w)}function Hi(a,u){a.lanes|=u;var v=a.alternate;for(v!==null&&(v.lanes|=u),v=a,a=a.return;a!==null;)a.childLanes|=u,v=a.alternate,v!==null&&(v.childLanes|=u),v=a,a=a.return;return v.tag===3?v.stateNode:null}var Bo=!1;function Om(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qb(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Gi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function qo(a,u,v){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,(vt&2)!==0){var T=w.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),w.pending=u,Hi(a,v)}return T=w.interleaved,T===null?(u.next=u,Im(w)):(u.next=T.next,T.next=u),w.interleaved=u,Hi(a,v)}function cd(a,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194240)!==0)){var w=u.lanes;w&=a.pendingLanes,v|=w,u.lanes=v,Fr(a,v)}}function Ub(a,u){var v=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var T=null,E=null;if(v=v.firstBaseUpdate,v!==null){do{var B={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};E===null?T=E=B:E=E.next=B,v=v.next}while(v!==null);E===null?T=E=u:E=E.next=u}else T=E=u;v={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:E,shared:w.shared,effects:w.effects},a.updateQueue=v;return}a=v.lastBaseUpdate,a===null?v.firstBaseUpdate=u:a.next=u,v.lastBaseUpdate=u}function fd(a,u,v,w){var T=a.updateQueue;Bo=!1;var E=T.firstBaseUpdate,B=T.lastBaseUpdate,W=T.shared.pending;if(W!==null){T.shared.pending=null;var Y=W,he=Y.next;Y.next=null,B===null?E=he:B.next=he,B=Y;var we=a.alternate;we!==null&&(we=we.updateQueue,W=we.lastBaseUpdate,W!==B&&(W===null?we.firstBaseUpdate=he:W.next=he,we.lastBaseUpdate=Y))}if(E!==null){var be=T.baseState;B=0,we=he=Y=null,W=E;do{var xe=W.lane,Ie=W.eventTime;if((w&xe)===xe){we!==null&&(we=we.next={eventTime:Ie,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var $e=a,Fe=W;switch(xe=u,Ie=v,Fe.tag){case 1:if($e=Fe.payload,typeof $e=="function"){be=$e.call(Ie,be,xe);break e}be=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Fe.payload,xe=typeof $e=="function"?$e.call(Ie,be,xe):$e,xe==null)break e;be=ne({},be,xe);break e;case 2:Bo=!0}}W.callback!==null&&W.lane!==0&&(a.flags|=64,xe=T.effects,xe===null?T.effects=[W]:xe.push(W))}else Ie={eventTime:Ie,lane:xe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},we===null?(he=we=Ie,Y=be):we=we.next=Ie,B|=xe;if(W=W.next,W===null){if(W=T.shared.pending,W===null)break;xe=W,W=xe.next,xe.next=null,T.lastBaseUpdate=xe,T.shared.pending=null}}while(!0);if(we===null&&(Y=be),T.baseState=Y,T.firstBaseUpdate=he,T.lastBaseUpdate=we,u=T.shared.interleaved,u!==null){T=u;do B|=T.lane,T=T.next;while(T!==u)}else E===null&&(T.shared.lanes=0);Ra|=B,a.lanes=B,a.memoizedState=be}}function jb(a,u,v){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var w=a[u],T=w.callback;if(T!==null){if(w.callback=null,w=v,typeof T!="function")throw Error(n(191,T));T.call(w)}}}var zu={},hi=Do(zu),Vu=Do(zu),Hu=Do(zu);function ka(a){if(a===zu)throw Error(n(174));return a}function km(a,u){switch(Ot(Hu,u),Ot(Vu,a),Ot(hi,zu),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:De(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=De(u,a)}Dt(hi),Ot(hi,u)}function Ws(){Dt(hi),Dt(Vu),Dt(Hu)}function zb(a){ka(Hu.current);var u=ka(hi.current),v=De(u,a.type);u!==v&&(Ot(Vu,a),Ot(hi,v))}function Nm(a){Vu.current===a&&(Dt(hi),Dt(Vu))}var Vt=Do(0);function dd(a){for(var u=a;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Rm=[];function Lm(){for(var a=0;a<Rm.length;a++)Rm[a]._workInProgressVersionPrimary=null;Rm.length=0}var hd=$.ReactCurrentDispatcher,Dm=$.ReactCurrentBatchConfig,Na=0,Ht=null,on=null,fn=null,pd=!1,Gu=!1,Wu=0,aR=0;function Cn(){throw Error(n(321))}function $m(a,u){if(u===null)return!1;for(var v=0;v<u.length&&v<a.length;v++)if(!ir(a[v],u[v]))return!1;return!0}function Fm(a,u,v,w,T,E){if(Na=E,Ht=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,hd.current=a===null||a.memoizedState===null?cR:fR,a=v(w,T),Gu){E=0;do{if(Gu=!1,Wu=0,25<=E)throw Error(n(301));E+=1,fn=on=null,u.updateQueue=null,hd.current=dR,a=v(w,T)}while(Gu)}if(hd.current=vd,u=on!==null&&on.next!==null,Na=0,fn=on=Ht=null,pd=!1,u)throw Error(n(300));return a}function Bm(){var a=Wu!==0;return Wu=0,a}function pi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ht.memoizedState=fn=a:fn=fn.next=a,fn}function Sr(){if(on===null){var a=Ht.alternate;a=a!==null?a.memoizedState:null}else a=on.next;var u=fn===null?Ht.memoizedState:fn.next;if(u!==null)fn=u,on=a;else{if(a===null)throw Error(n(310));on=a,a={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},fn===null?Ht.memoizedState=fn=a:fn=fn.next=a}return fn}function Ku(a,u){return typeof u=="function"?u(a):u}function qm(a){var u=Sr(),v=u.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=a;var w=on,T=w.baseQueue,E=v.pending;if(E!==null){if(T!==null){var B=T.next;T.next=E.next,E.next=B}w.baseQueue=T=E,v.pending=null}if(T!==null){E=T.next,w=w.baseState;var W=B=null,Y=null,he=E;do{var we=he.lane;if((Na&we)===we)Y!==null&&(Y=Y.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),w=he.hasEagerState?he.eagerState:a(w,he.action);else{var be={lane:we,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};Y===null?(W=Y=be,B=w):Y=Y.next=be,Ht.lanes|=we,Ra|=we}he=he.next}while(he!==null&&he!==E);Y===null?B=w:Y.next=W,ir(w,u.memoizedState)||(Hn=!0),u.memoizedState=w,u.baseState=B,u.baseQueue=Y,v.lastRenderedState=w}if(a=v.interleaved,a!==null){T=a;do E=T.lane,Ht.lanes|=E,Ra|=E,T=T.next;while(T!==a)}else T===null&&(v.lanes=0);return[u.memoizedState,v.dispatch]}function Um(a){var u=Sr(),v=u.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=a;var w=v.dispatch,T=v.pending,E=u.memoizedState;if(T!==null){v.pending=null;var B=T=T.next;do E=a(E,B.action),B=B.next;while(B!==T);ir(E,u.memoizedState)||(Hn=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),v.lastRenderedState=E}return[E,w]}function Vb(){}function Hb(a,u){var v=Ht,w=Sr(),T=u(),E=!ir(w.memoizedState,T);if(E&&(w.memoizedState=T,Hn=!0),w=w.queue,jm(Kb.bind(null,v,w,a),[a]),w.getSnapshot!==u||E||fn!==null&&fn.memoizedState.tag&1){if(v.flags|=2048,Zu(9,Wb.bind(null,v,w,T,u),void 0,null),dn===null)throw Error(n(349));(Na&30)!==0||Gb(v,u,T)}return T}function Gb(a,u,v){a.flags|=16384,a={getSnapshot:u,value:v},u=Ht.updateQueue,u===null?(u={lastEffect:null,stores:null},Ht.updateQueue=u,u.stores=[a]):(v=u.stores,v===null?u.stores=[a]:v.push(a))}function Wb(a,u,v,w){u.value=v,u.getSnapshot=w,Zb(u)&&Jb(a)}function Kb(a,u,v){return v(function(){Zb(u)&&Jb(a)})}function Zb(a){var u=a.getSnapshot;a=a.value;try{var v=u();return!ir(a,v)}catch{return!0}}function Jb(a){var u=Hi(a,1);u!==null&&Wr(u,a,1,-1)}function Yb(a){var u=pi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:a},u.queue=a,a=a.dispatch=uR.bind(null,Ht,a),[u.memoizedState,a]}function Zu(a,u,v,w){return a={tag:a,create:u,destroy:v,deps:w,next:null},u=Ht.updateQueue,u===null?(u={lastEffect:null,stores:null},Ht.updateQueue=u,u.lastEffect=a.next=a):(v=u.lastEffect,v===null?u.lastEffect=a.next=a:(w=v.next,v.next=a,a.next=w,u.lastEffect=a)),a}function Xb(){return Sr().memoizedState}function md(a,u,v,w){var T=pi();Ht.flags|=a,T.memoizedState=Zu(1|u,v,void 0,w===void 0?null:w)}function gd(a,u,v,w){var T=Sr();w=w===void 0?null:w;var E=void 0;if(on!==null){var B=on.memoizedState;if(E=B.destroy,w!==null&&$m(w,B.deps)){T.memoizedState=Zu(u,v,E,w);return}}Ht.flags|=a,T.memoizedState=Zu(1|u,v,E,w)}function Qb(a,u){return md(8390656,8,a,u)}function jm(a,u){return gd(2048,8,a,u)}function e1(a,u){return gd(4,2,a,u)}function t1(a,u){return gd(4,4,a,u)}function n1(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function r1(a,u,v){return v=v!=null?v.concat([a]):null,gd(4,4,n1.bind(null,u,a),v)}function zm(){}function i1(a,u){var v=Sr();u=u===void 0?null:u;var w=v.memoizedState;return w!==null&&u!==null&&$m(u,w[1])?w[0]:(v.memoizedState=[a,u],a)}function o1(a,u){var v=Sr();u=u===void 0?null:u;var w=v.memoizedState;return w!==null&&u!==null&&$m(u,w[1])?w[0]:(a=a(),v.memoizedState=[a,u],a)}function a1(a,u,v){return(Na&21)===0?(a.baseState&&(a.baseState=!1,Hn=!0),a.memoizedState=v):(ir(v,u)||(v=kf(),Ht.lanes|=v,Ra|=v,a.baseState=!0),u)}function sR(a,u){var v=ht;ht=v!==0&&4>v?v:4,a(!0);var w=Dm.transition;Dm.transition={};try{a(!1),u()}finally{ht=v,Dm.transition=w}}function s1(){return Sr().memoizedState}function lR(a,u,v){var w=Vo(a);if(v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},l1(a))u1(u,v);else if(v=Bb(a,u,v,w),v!==null){var T=Ln();Wr(v,a,w,T),c1(v,u,w)}}function uR(a,u,v){var w=Vo(a),T={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(l1(a))u1(u,T);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var B=u.lastRenderedState,W=E(B,v);if(T.hasEagerState=!0,T.eagerState=W,ir(W,B)){var Y=u.interleaved;Y===null?(T.next=T,Im(u)):(T.next=Y.next,Y.next=T),u.interleaved=T;return}}catch{}finally{}v=Bb(a,u,T,w),v!==null&&(T=Ln(),Wr(v,a,w,T),c1(v,u,w))}}function l1(a){var u=a.alternate;return a===Ht||u!==null&&u===Ht}function u1(a,u){Gu=pd=!0;var v=a.pending;v===null?u.next=u:(u.next=v.next,v.next=u),a.pending=u}function c1(a,u,v){if((v&4194240)!==0){var w=u.lanes;w&=a.pendingLanes,v|=w,u.lanes=v,Fr(a,v)}}var vd={readContext:br,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},cR={readContext:br,useCallback:function(a,u){return pi().memoizedState=[a,u===void 0?null:u],a},useContext:br,useEffect:Qb,useImperativeHandle:function(a,u,v){return v=v!=null?v.concat([a]):null,md(4194308,4,n1.bind(null,u,a),v)},useLayoutEffect:function(a,u){return md(4194308,4,a,u)},useInsertionEffect:function(a,u){return md(4,2,a,u)},useMemo:function(a,u){var v=pi();return u=u===void 0?null:u,a=a(),v.memoizedState=[a,u],a},useReducer:function(a,u,v){var w=pi();return u=v!==void 0?v(u):u,w.memoizedState=w.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},w.queue=a,a=a.dispatch=lR.bind(null,Ht,a),[w.memoizedState,a]},useRef:function(a){var u=pi();return a={current:a},u.memoizedState=a},useState:Yb,useDebugValue:zm,useDeferredValue:function(a){return pi().memoizedState=a},useTransition:function(){var a=Yb(!1),u=a[0];return a=sR.bind(null,a[1]),pi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,v){var w=Ht,T=pi();if(qt){if(v===void 0)throw Error(n(407));v=v()}else{if(v=u(),dn===null)throw Error(n(349));(Na&30)!==0||Gb(w,u,v)}T.memoizedState=v;var E={value:v,getSnapshot:u};return T.queue=E,Qb(Kb.bind(null,w,E,a),[a]),w.flags|=2048,Zu(9,Wb.bind(null,w,E,v,u),void 0,null),v},useId:function(){var a=pi(),u=dn.identifierPrefix;if(qt){var v=Vi,w=zi;v=(w&~(1<<32-ot(w)-1)).toString(32)+v,u=":"+u+"R"+v,v=Wu++,0<v&&(u+="H"+v.toString(32)),u+=":"}else v=aR++,u=":"+u+"r"+v.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},fR={readContext:br,useCallback:i1,useContext:br,useEffect:jm,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:o1,useReducer:qm,useRef:Xb,useState:function(){return qm(Ku)},useDebugValue:zm,useDeferredValue:function(a){var u=Sr();return a1(u,on.memoizedState,a)},useTransition:function(){var a=qm(Ku)[0],u=Sr().memoizedState;return[a,u]},useMutableSource:Vb,useSyncExternalStore:Hb,useId:s1,unstable_isNewReconciler:!1},dR={readContext:br,useCallback:i1,useContext:br,useEffect:jm,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:o1,useReducer:Um,useRef:Xb,useState:function(){return Um(Ku)},useDebugValue:zm,useDeferredValue:function(a){var u=Sr();return on===null?u.memoizedState=a:a1(u,on.memoizedState,a)},useTransition:function(){var a=Um(Ku)[0],u=Sr().memoizedState;return[a,u]},useMutableSource:Vb,useSyncExternalStore:Hb,useId:s1,unstable_isNewReconciler:!1};function Vr(a,u){if(a&&a.defaultProps){u=ne({},u),a=a.defaultProps;for(var v in a)u[v]===void 0&&(u[v]=a[v]);return u}return u}function Vm(a,u,v,w){u=a.memoizedState,v=v(w,u),v=v==null?u:ne({},u,v),a.memoizedState=v,a.lanes===0&&(a.updateQueue.baseState=v)}var yd={isMounted:function(a){return(a=a._reactInternals)?ii(a)===a:!1},enqueueSetState:function(a,u,v){a=a._reactInternals;var w=Ln(),T=Vo(a),E=Gi(w,T);E.payload=u,v!=null&&(E.callback=v),u=qo(a,E,T),u!==null&&(Wr(u,a,T,w),cd(u,a,T))},enqueueReplaceState:function(a,u,v){a=a._reactInternals;var w=Ln(),T=Vo(a),E=Gi(w,T);E.tag=1,E.payload=u,v!=null&&(E.callback=v),u=qo(a,E,T),u!==null&&(Wr(u,a,T,w),cd(u,a,T))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var v=Ln(),w=Vo(a),T=Gi(v,w);T.tag=2,u!=null&&(T.callback=u),u=qo(a,T,w),u!==null&&(Wr(u,a,w,v),cd(u,a,w))}};function f1(a,u,v,w,T,E,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,E,B):u.prototype&&u.prototype.isPureReactComponent?!ui(v,w)||!ui(T,E):!0}function d1(a,u,v){var w=!1,T=$o,E=u.contextType;return typeof E=="object"&&E!==null?E=br(E):(T=Vn(u)?Ea:Tn.current,w=u.contextTypes,E=(w=w!=null)?qs(a,T):$o),u=new u(v,E),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=yd,a.stateNode=u,u._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=T,a.__reactInternalMemoizedMaskedChildContext=E),u}function h1(a,u,v,w){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,w),u.state!==a&&yd.enqueueReplaceState(u,u.state,null)}function Hm(a,u,v,w){var T=a.stateNode;T.props=v,T.state=a.memoizedState,T.refs={},Om(a);var E=u.contextType;typeof E=="object"&&E!==null?T.context=br(E):(E=Vn(u)?Ea:Tn.current,T.context=qs(a,E)),T.state=a.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Vm(a,u,E,v),T.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(u=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),u!==T.state&&yd.enqueueReplaceState(T,T.state,null),fd(a,v,T,w),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308)}function Ks(a,u){try{var v="",w=u;do v+=le(w),w=w.return;while(w);var T=v}catch(E){T=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:u,stack:T,digest:null}}function Gm(a,u,v){return{value:a,source:null,stack:v??null,digest:u??null}}function Wm(a,u){try{console.error(u.value)}catch(v){setTimeout(function(){throw v})}}var hR=typeof WeakMap=="function"?WeakMap:Map;function p1(a,u,v){v=Gi(-1,v),v.tag=3,v.payload={element:null};var w=u.value;return v.callback=function(){Cd||(Cd=!0,lg=w),Wm(a,u)},v}function m1(a,u,v){v=Gi(-1,v),v.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var T=u.value;v.payload=function(){return w(T)},v.callback=function(){Wm(a,u)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(v.callback=function(){Wm(a,u),typeof w!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var B=u.stack;this.componentDidCatch(u.value,{componentStack:B!==null?B:""})}),v}function g1(a,u,v){var w=a.pingCache;if(w===null){w=a.pingCache=new hR;var T=new Set;w.set(u,T)}else T=w.get(u),T===void 0&&(T=new Set,w.set(u,T));T.has(v)||(T.add(v),a=PR.bind(null,a,u,v),u.then(a,a))}function v1(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function y1(a,u,v,w,T){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(u=Gi(-1,1),u.tag=2,qo(v,u,1))),v.lanes|=1),a):(a.flags|=65536,a.lanes=T,a)}var pR=$.ReactCurrentOwner,Hn=!1;function Rn(a,u,v,w){u.child=a===null?Fb(u,null,v,w):Vs(u,a.child,v,w)}function _1(a,u,v,w,T){v=v.render;var E=u.ref;return Gs(u,T),w=Fm(a,u,v,w,E,T),v=Bm(),a!==null&&!Hn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~T,Wi(a,u,T)):(qt&&v&&wm(u),u.flags|=1,Rn(a,u,w,T),u.child)}function x1(a,u,v,w,T){if(a===null){var E=v.type;return typeof E=="function"&&!mg(E)&&E.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(u.tag=15,u.type=E,w1(a,u,E,w,T)):(a=Od(v.type,null,w,u,u.mode,T),a.ref=u.ref,a.return=u,u.child=a)}if(E=a.child,(a.lanes&T)===0){var B=E.memoizedProps;if(v=v.compare,v=v!==null?v:ui,v(B,w)&&a.ref===u.ref)return Wi(a,u,T)}return u.flags|=1,a=Go(E,w),a.ref=u.ref,a.return=u,u.child=a}function w1(a,u,v,w,T){if(a!==null){var E=a.memoizedProps;if(ui(E,w)&&a.ref===u.ref)if(Hn=!1,u.pendingProps=w=E,(a.lanes&T)!==0)(a.flags&131072)!==0&&(Hn=!0);else return u.lanes=a.lanes,Wi(a,u,T)}return Km(a,u,v,w,T)}function b1(a,u,v){var w=u.pendingProps,T=w.children,E=a!==null?a.memoizedState:null;if(w.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Js,lr),lr|=v;else{if((v&1073741824)===0)return a=E!==null?E.baseLanes|v:v,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,Ot(Js,lr),lr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=E!==null?E.baseLanes:v,Ot(Js,lr),lr|=w}else E!==null?(w=E.baseLanes|v,u.memoizedState=null):w=v,Ot(Js,lr),lr|=w;return Rn(a,u,T,v),u.child}function S1(a,u){var v=u.ref;(a===null&&v!==null||a!==null&&a.ref!==v)&&(u.flags|=512,u.flags|=2097152)}function Km(a,u,v,w,T){var E=Vn(v)?Ea:Tn.current;return E=qs(u,E),Gs(u,T),v=Fm(a,u,v,w,E,T),w=Bm(),a!==null&&!Hn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~T,Wi(a,u,T)):(qt&&w&&wm(u),u.flags|=1,Rn(a,u,v,T),u.child)}function T1(a,u,v,w,T){if(Vn(v)){var E=!0;nd(u)}else E=!1;if(Gs(u,T),u.stateNode===null)xd(a,u),d1(u,v,w),Hm(u,v,w,T),w=!0;else if(a===null){var B=u.stateNode,W=u.memoizedProps;B.props=W;var Y=B.context,he=v.contextType;typeof he=="object"&&he!==null?he=br(he):(he=Vn(v)?Ea:Tn.current,he=qs(u,he));var we=v.getDerivedStateFromProps,be=typeof we=="function"||typeof B.getSnapshotBeforeUpdate=="function";be||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(W!==w||Y!==he)&&h1(u,B,w,he),Bo=!1;var xe=u.memoizedState;B.state=xe,fd(u,w,B,T),Y=u.memoizedState,W!==w||xe!==Y||zn.current||Bo?(typeof we=="function"&&(Vm(u,v,we,w),Y=u.memoizedState),(W=Bo||f1(u,v,W,w,xe,Y,he))?(be||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(u.flags|=4194308)):(typeof B.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Y),B.props=w,B.state=Y,B.context=he,w=W):(typeof B.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{B=u.stateNode,qb(a,u),W=u.memoizedProps,he=u.type===u.elementType?W:Vr(u.type,W),B.props=he,be=u.pendingProps,xe=B.context,Y=v.contextType,typeof Y=="object"&&Y!==null?Y=br(Y):(Y=Vn(v)?Ea:Tn.current,Y=qs(u,Y));var Ie=v.getDerivedStateFromProps;(we=typeof Ie=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(W!==be||xe!==Y)&&h1(u,B,w,Y),Bo=!1,xe=u.memoizedState,B.state=xe,fd(u,w,B,T);var $e=u.memoizedState;W!==be||xe!==$e||zn.current||Bo?(typeof Ie=="function"&&(Vm(u,v,Ie,w),$e=u.memoizedState),(he=Bo||f1(u,v,he,w,xe,$e,Y)||!1)?(we||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,$e,Y),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,$e,Y)),typeof B.componentDidUpdate=="function"&&(u.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof B.componentDidUpdate!="function"||W===a.memoizedProps&&xe===a.memoizedState||(u.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||W===a.memoizedProps&&xe===a.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=$e),B.props=w,B.state=$e,B.context=Y,w=he):(typeof B.componentDidUpdate!="function"||W===a.memoizedProps&&xe===a.memoizedState||(u.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||W===a.memoizedProps&&xe===a.memoizedState||(u.flags|=1024),w=!1)}return Zm(a,u,v,w,E,T)}function Zm(a,u,v,w,T,E){S1(a,u);var B=(u.flags&128)!==0;if(!w&&!B)return T&&Mb(u,v,!1),Wi(a,u,E);w=u.stateNode,pR.current=u;var W=B&&typeof v.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,a!==null&&B?(u.child=Vs(u,a.child,null,E),u.child=Vs(u,null,W,E)):Rn(a,u,W,E),u.memoizedState=w.state,T&&Mb(u,v,!0),u.child}function C1(a){var u=a.stateNode;u.pendingContext?Pb(a,u.pendingContext,u.pendingContext!==u.context):u.context&&Pb(a,u.context,!1),km(a,u.containerInfo)}function A1(a,u,v,w,T){return zs(),Cm(T),u.flags|=256,Rn(a,u,v,w),u.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function Ym(a){return{baseLanes:a,cachePool:null,transitions:null}}function P1(a,u,v){var w=u.pendingProps,T=Vt.current,E=!1,B=(u.flags&128)!==0,W;if((W=B)||(W=a!==null&&a.memoizedState===null?!1:(T&2)!==0),W?(E=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(T|=1),Ot(Vt,T&1),a===null)return Tm(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(B=w.children,a=w.fallback,E?(w=u.mode,E=u.child,B={mode:"hidden",children:B},(w&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=B):E=kd(B,w,0,null),a=Fa(a,w,v,null),E.return=u,a.return=u,E.sibling=a,u.child=E,u.child.memoizedState=Ym(v),u.memoizedState=Jm,a):Xm(u,B));if(T=a.memoizedState,T!==null&&(W=T.dehydrated,W!==null))return mR(a,u,B,w,W,T,v);if(E){E=w.fallback,B=u.mode,T=a.child,W=T.sibling;var Y={mode:"hidden",children:w.children};return(B&1)===0&&u.child!==T?(w=u.child,w.childLanes=0,w.pendingProps=Y,u.deletions=null):(w=Go(T,Y),w.subtreeFlags=T.subtreeFlags&14680064),W!==null?E=Go(W,E):(E=Fa(E,B,v,null),E.flags|=2),E.return=u,w.return=u,w.sibling=E,u.child=w,w=E,E=u.child,B=a.child.memoizedState,B=B===null?Ym(v):{baseLanes:B.baseLanes|v,cachePool:null,transitions:B.transitions},E.memoizedState=B,E.childLanes=a.childLanes&~v,u.memoizedState=Jm,w}return E=a.child,a=E.sibling,w=Go(E,{mode:"visible",children:w.children}),(u.mode&1)===0&&(w.lanes=v),w.return=u,w.sibling=null,a!==null&&(v=u.deletions,v===null?(u.deletions=[a],u.flags|=16):v.push(a)),u.child=w,u.memoizedState=null,w}function Xm(a,u){return u=kd({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function _d(a,u,v,w){return w!==null&&Cm(w),Vs(u,a.child,null,v),a=Xm(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function mR(a,u,v,w,T,E,B){if(v)return u.flags&256?(u.flags&=-257,w=Gm(Error(n(422))),_d(a,u,B,w)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(E=w.fallback,T=u.mode,w=kd({mode:"visible",children:w.children},T,0,null),E=Fa(E,T,B,null),E.flags|=2,w.return=u,E.return=u,w.sibling=E,u.child=w,(u.mode&1)!==0&&Vs(u,a.child,null,B),u.child.memoizedState=Ym(B),u.memoizedState=Jm,E);if((u.mode&1)===0)return _d(a,u,B,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var W=w.dgst;return w=W,E=Error(n(419)),w=Gm(E,w,void 0),_d(a,u,B,w)}if(W=(B&a.childLanes)!==0,Hn||W){if(w=dn,w!==null){switch(B&-B){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|B))!==0?0:T,T!==0&&T!==E.retryLane&&(E.retryLane=T,Hi(a,T),Wr(w,a,T,-1))}return pg(),w=Gm(Error(n(421))),_d(a,u,B,w)}return T.data==="$?"?(u.flags|=128,u.child=a.child,u=ER.bind(null,a),T._reactRetry=u,null):(a=E.treeContext,sr=di(T.nextSibling),ar=u,qt=!0,zr=null,a!==null&&(xr[wr++]=zi,xr[wr++]=Vi,xr[wr++]=Ma,zi=a.id,Vi=a.overflow,Ma=u),u=Xm(u,w.children),u.flags|=4096,u)}function E1(a,u,v){a.lanes|=u;var w=a.alternate;w!==null&&(w.lanes|=u),Mm(a.return,u,v)}function Qm(a,u,v,w,T){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:T}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=w,E.tail=v,E.tailMode=T)}function M1(a,u,v){var w=u.pendingProps,T=w.revealOrder,E=w.tail;if(Rn(a,u,w.children,v),w=Vt.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&E1(a,v,u);else if(a.tag===19)E1(a,v,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(Ot(Vt,w),(u.mode&1)===0)u.memoizedState=null;else switch(T){case"forwards":for(v=u.child,T=null;v!==null;)a=v.alternate,a!==null&&dd(a)===null&&(T=v),v=v.sibling;v=T,v===null?(T=u.child,u.child=null):(T=v.sibling,v.sibling=null),Qm(u,!1,T,v,E);break;case"backwards":for(v=null,T=u.child,u.child=null;T!==null;){if(a=T.alternate,a!==null&&dd(a)===null){u.child=T;break}a=T.sibling,T.sibling=v,v=T,T=a}Qm(u,!0,v,null,E);break;case"together":Qm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function xd(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Wi(a,u,v){if(a!==null&&(u.dependencies=a.dependencies),Ra|=u.lanes,(v&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,v=Go(a,a.pendingProps),u.child=v,v.return=u;a.sibling!==null;)a=a.sibling,v=v.sibling=Go(a,a.pendingProps),v.return=u;v.sibling=null}return u.child}function gR(a,u,v){switch(u.tag){case 3:C1(u),zs();break;case 5:zb(u);break;case 1:Vn(u.type)&&nd(u);break;case 4:km(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,T=u.memoizedProps.value;Ot(ld,w._currentValue),w._currentValue=T;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(Ot(Vt,Vt.current&1),u.flags|=128,null):(v&u.child.childLanes)!==0?P1(a,u,v):(Ot(Vt,Vt.current&1),a=Wi(a,u,v),a!==null?a.sibling:null);Ot(Vt,Vt.current&1);break;case 19:if(w=(v&u.childLanes)!==0,(a.flags&128)!==0){if(w)return M1(a,u,v);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ot(Vt,Vt.current),w)break;return null;case 22:case 23:return u.lanes=0,b1(a,u,v)}return Wi(a,u,v)}var I1,eg,O1,k1;I1=function(a,u){for(var v=u.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},eg=function(){},O1=function(a,u,v,w){var T=a.memoizedProps;if(T!==w){a=u.stateNode,ka(hi.current);var E=null;switch(v){case"input":T=Qe(a,T),w=Qe(a,w),E=[];break;case"select":T=ne({},T,{value:void 0}),w=ne({},w,{value:void 0}),E=[];break;case"textarea":T=Yt(a,T),w=Yt(a,w),E=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=ye)}Ci(v,w);var B;v=null;for(he in T)if(!w.hasOwnProperty(he)&&T.hasOwnProperty(he)&&T[he]!=null)if(he==="style"){var W=T[he];for(B in W)W.hasOwnProperty(B)&&(v||(v={}),v[B]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?E||(E=[]):(E=E||[]).push(he,null));for(he in w){var Y=w[he];if(W=T!=null?T[he]:void 0,w.hasOwnProperty(he)&&Y!==W&&(Y!=null||W!=null))if(he==="style")if(W){for(B in W)!W.hasOwnProperty(B)||Y&&Y.hasOwnProperty(B)||(v||(v={}),v[B]="");for(B in Y)Y.hasOwnProperty(B)&&W[B]!==Y[B]&&(v||(v={}),v[B]=Y[B])}else v||(E||(E=[]),E.push(he,v)),v=Y;else he==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(E=E||[]).push(he,Y)):he==="children"?typeof Y!="string"&&typeof Y!="number"||(E=E||[]).push(he,""+Y):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(Y!=null&&he==="onScroll"&&At("scroll",a),E||W===Y||(E=[])):(E=E||[]).push(he,Y))}v&&(E=E||[]).push("style",v);var he=E;(u.updateQueue=he)&&(u.flags|=4)}},k1=function(a,u,v,w){v!==w&&(u.flags|=4)};function Ju(a,u){if(!qt)switch(a.tailMode){case"hidden":u=a.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?a.tail=null:v.sibling=null;break;case"collapsed":v=a.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function An(a){var u=a.alternate!==null&&a.alternate.child===a.child,v=0,w=0;if(u)for(var T=a.child;T!==null;)v|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)v|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=w,a.childLanes=v,u}function vR(a,u,v){var w=u.pendingProps;switch(bm(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(u),null;case 1:return Vn(u.type)&&td(),An(u),null;case 3:return w=u.stateNode,Ws(),Dt(zn),Dt(Tn),Lm(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(ad(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,zr!==null&&(fg(zr),zr=null))),eg(a,u),An(u),null;case 5:Nm(u);var T=ka(Hu.current);if(v=u.type,a!==null&&u.stateNode!=null)O1(a,u,v,w,T),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(n(166));return An(u),null}if(a=ka(hi.current),ad(u)){w=u.stateNode,v=u.type;var E=u.memoizedProps;switch(w[_r]=u,w[Ro]=E,a=(u.mode&1)!==0,v){case"dialog":At("cancel",w),At("close",w);break;case"iframe":case"object":case"embed":At("load",w);break;case"video":case"audio":for(T=0;T<Oo.length;T++)At(Oo[T],w);break;case"source":At("error",w);break;case"img":case"image":case"link":At("error",w),At("load",w);break;case"details":At("toggle",w);break;case"input":pt(w,E),At("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!E.multiple},At("invalid",w);break;case"textarea":Yn(w,E),At("invalid",w)}Ci(v,E),T=null;for(var B in E)if(E.hasOwnProperty(B)){var W=E[B];B==="children"?typeof W=="string"?w.textContent!==W&&(E.suppressHydrationWarning!==!0&&fe(w.textContent,W,a),T=["children",W]):typeof W=="number"&&w.textContent!==""+W&&(E.suppressHydrationWarning!==!0&&fe(w.textContent,W,a),T=["children",""+W]):i.hasOwnProperty(B)&&W!=null&&B==="onScroll"&&At("scroll",w)}switch(v){case"input":He(w),ze(w,E,!0);break;case"textarea":He(w),ri(w);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(w.onclick=ye)}w=T,u.updateQueue=w,w!==null&&(u.flags|=4)}else{B=T.nodeType===9?T:T.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=po(v)),a==="http://www.w3.org/1999/xhtml"?v==="script"?(a=B.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=B.createElement(v,{is:w.is}):(a=B.createElement(v),v==="select"&&(B=a,w.multiple?B.multiple=!0:w.size&&(B.size=w.size))):a=B.createElementNS(a,v),a[_r]=u,a[Ro]=w,I1(a,u,!1,!1),u.stateNode=a;e:{switch(B=Ai(v,w),v){case"dialog":At("cancel",a),At("close",a),T=w;break;case"iframe":case"object":case"embed":At("load",a),T=w;break;case"video":case"audio":for(T=0;T<Oo.length;T++)At(Oo[T],a);T=w;break;case"source":At("error",a),T=w;break;case"img":case"image":case"link":At("error",a),At("load",a),T=w;break;case"details":At("toggle",a),T=w;break;case"input":pt(a,w),T=Qe(a,w),At("invalid",a);break;case"option":T=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},T=ne({},w,{value:void 0}),At("invalid",a);break;case"textarea":Yn(a,w),T=Yt(a,w),At("invalid",a);break;default:T=w}Ci(v,T),W=T;for(E in W)if(W.hasOwnProperty(E)){var Y=W[E];E==="style"?Ti(a,Y):E==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Ee(a,Y)):E==="children"?typeof Y=="string"?(v!=="textarea"||Y!=="")&&We(a,Y):typeof Y=="number"&&We(a,""+Y):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?Y!=null&&E==="onScroll"&&At("scroll",a):Y!=null&&k(a,E,Y,B))}switch(v){case"input":He(a),ze(a,w,!1);break;case"textarea":He(a),ri(a);break;case"option":w.value!=null&&a.setAttribute("value",""+Oe(w.value));break;case"select":a.multiple=!!w.multiple,E=w.value,E!=null?gt(a,!!w.multiple,E,!1):w.defaultValue!=null&&gt(a,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(a.onclick=ye)}switch(v){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return An(u),null;case 6:if(a&&u.stateNode!=null)k1(a,u,a.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(n(166));if(v=ka(Hu.current),ka(hi.current),ad(u)){if(w=u.stateNode,v=u.memoizedProps,w[_r]=u,(E=w.nodeValue!==v)&&(a=ar,a!==null))switch(a.tag){case 3:fe(w.nodeValue,v,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&fe(w.nodeValue,v,(a.mode&1)!==0)}E&&(u.flags|=4)}else w=(v.nodeType===9?v:v.ownerDocument).createTextNode(w),w[_r]=u,u.stateNode=w}return An(u),null;case 13:if(Dt(Vt),w=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(qt&&sr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Lb(),zs(),u.flags|=98560,E=!1;else if(E=ad(u),w!==null&&w.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[_r]=u}else zs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;An(u),E=!1}else zr!==null&&(fg(zr),zr=null),E=!0;if(!E)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=v,u):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(Vt.current&1)!==0?an===0&&(an=3):pg())),u.updateQueue!==null&&(u.flags|=4),An(u),null);case 4:return Ws(),eg(a,u),a===null&&ko(u.stateNode.containerInfo),An(u),null;case 10:return Em(u.type._context),An(u),null;case 17:return Vn(u.type)&&td(),An(u),null;case 19:if(Dt(Vt),E=u.memoizedState,E===null)return An(u),null;if(w=(u.flags&128)!==0,B=E.rendering,B===null)if(w)Ju(E,!1);else{if(an!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(B=dd(a),B!==null){for(u.flags|=128,Ju(E,!1),w=B.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=v,v=u.child;v!==null;)E=v,a=w,E.flags&=14680066,B=E.alternate,B===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=B.childLanes,E.lanes=B.lanes,E.child=B.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=B.memoizedProps,E.memoizedState=B.memoizedState,E.updateQueue=B.updateQueue,E.type=B.type,a=B.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),v=v.sibling;return Ot(Vt,Vt.current&1|2),u.child}a=a.sibling}E.tail!==null&&jt()>Ys&&(u.flags|=128,w=!0,Ju(E,!1),u.lanes=4194304)}else{if(!w)if(a=dd(B),a!==null){if(u.flags|=128,w=!0,v=a.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),Ju(E,!0),E.tail===null&&E.tailMode==="hidden"&&!B.alternate&&!qt)return An(u),null}else 2*jt()-E.renderingStartTime>Ys&&v!==1073741824&&(u.flags|=128,w=!0,Ju(E,!1),u.lanes=4194304);E.isBackwards?(B.sibling=u.child,u.child=B):(v=E.last,v!==null?v.sibling=B:u.child=B,E.last=B)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=jt(),u.sibling=null,v=Vt.current,Ot(Vt,w?v&1|2:v&1),u):(An(u),null);case 22:case 23:return hg(),w=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(u.flags|=8192),w&&(u.mode&1)!==0?(lr&1073741824)!==0&&(An(u),u.subtreeFlags&6&&(u.flags|=8192)):An(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function yR(a,u){switch(bm(u),u.tag){case 1:return Vn(u.type)&&td(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Ws(),Dt(zn),Dt(Tn),Lm(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Nm(u),null;case 13:if(Dt(Vt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));zs()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Dt(Vt),null;case 4:return Ws(),null;case 10:return Em(u.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var wd=!1,Pn=!1,_R=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Zs(a,u){var v=a.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){Kt(a,u,w)}else v.current=null}function tg(a,u,v){try{v()}catch(w){Kt(a,u,w)}}var N1=!1;function xR(a,u){if(Me=xa,a=Nu(),Ru(a)){if("selectionStart"in a)var v={start:a.selectionStart,end:a.selectionEnd};else e:{v=(v=a.ownerDocument)&&v.defaultView||window;var w=v.getSelection&&v.getSelection();if(w&&w.rangeCount!==0){v=w.anchorNode;var T=w.anchorOffset,E=w.focusNode;w=w.focusOffset;try{v.nodeType,E.nodeType}catch{v=null;break e}var B=0,W=-1,Y=-1,he=0,we=0,be=a,xe=null;t:for(;;){for(var Ie;be!==v||T!==0&&be.nodeType!==3||(W=B+T),be!==E||w!==0&&be.nodeType!==3||(Y=B+w),be.nodeType===3&&(B+=be.nodeValue.length),(Ie=be.firstChild)!==null;)xe=be,be=Ie;for(;;){if(be===a)break t;if(xe===v&&++he===T&&(W=B),xe===E&&++we===w&&(Y=B),(Ie=be.nextSibling)!==null)break;be=xe,xe=be.parentNode}be=Ie}v=W===-1||Y===-1?null:{start:W,end:Y}}else v=null}v=v||{start:0,end:0}}else v=null;for(Ge={focusedElem:a,selectionRange:v},xa=!1,Ne=u;Ne!==null;)if(u=Ne,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Ne=a;else for(;Ne!==null;){u=Ne;try{var $e=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var Fe=$e.memoizedProps,Jt=$e.memoizedState,se=u.stateNode,te=se.getSnapshotBeforeUpdate(u.elementType===u.type?Fe:Vr(u.type,Fe),Jt);se.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=u.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ae){Kt(u,u.return,Ae)}if(a=u.sibling,a!==null){a.return=u.return,Ne=a;break}Ne=u.return}return $e=N1,N1=!1,$e}function Yu(a,u,v){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&a)===a){var E=T.destroy;T.destroy=void 0,E!==void 0&&tg(u,v,E)}T=T.next}while(T!==w)}}function bd(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&a)===a){var w=v.create;v.destroy=w()}v=v.next}while(v!==u)}}function ng(a){var u=a.ref;if(u!==null){var v=a.stateNode;switch(a.tag){case 5:a=v;break;default:a=v}typeof u=="function"?u(a):u.current=a}}function R1(a){var u=a.alternate;u!==null&&(a.alternate=null,R1(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[_r],delete u[Ro],delete u[Lo],delete u[vm],delete u[ym])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function L1(a){return a.tag===5||a.tag===3||a.tag===4}function D1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||L1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function rg(a,u,v){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?v.nodeType===8?v.parentNode.insertBefore(a,u):v.insertBefore(a,u):(v.nodeType===8?(u=v.parentNode,u.insertBefore(a,v)):(u=v,u.appendChild(a)),v=v._reactRootContainer,v!=null||u.onclick!==null||(u.onclick=ye));else if(w!==4&&(a=a.child,a!==null))for(rg(a,u,v),a=a.sibling;a!==null;)rg(a,u,v),a=a.sibling}function ig(a,u,v){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?v.insertBefore(a,u):v.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(ig(a,u,v),a=a.sibling;a!==null;)ig(a,u,v),a=a.sibling}var vn=null,Hr=!1;function Uo(a,u,v){for(v=v.child;v!==null;)$1(a,u,v),v=v.sibling}function $1(a,u,v){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(pa,v)}catch{}switch(v.tag){case 5:Pn||Zs(v,u);case 6:var w=vn,T=Hr;vn=null,Uo(a,u,v),vn=w,Hr=T,vn!==null&&(Hr?(a=vn,v=v.stateNode,a.nodeType===8?a.parentNode.removeChild(v):a.removeChild(v)):vn.removeChild(v.stateNode));break;case 18:vn!==null&&(Hr?(a=vn,v=v.stateNode,a.nodeType===8?Uu(a.parentNode,v):a.nodeType===1&&Uu(a,v),tr(a)):Uu(vn,v.stateNode));break;case 4:w=vn,T=Hr,vn=v.stateNode.containerInfo,Hr=!0,Uo(a,u,v),vn=w,Hr=T;break;case 0:case 11:case 14:case 15:if(!Pn&&(w=v.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var E=T,B=E.destroy;E=E.tag,B!==void 0&&((E&2)!==0||(E&4)!==0)&&tg(v,u,B),T=T.next}while(T!==w)}Uo(a,u,v);break;case 1:if(!Pn&&(Zs(v,u),w=v.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=v.memoizedProps,w.state=v.memoizedState,w.componentWillUnmount()}catch(W){Kt(v,u,W)}Uo(a,u,v);break;case 21:Uo(a,u,v);break;case 22:v.mode&1?(Pn=(w=Pn)||v.memoizedState!==null,Uo(a,u,v),Pn=w):Uo(a,u,v);break;default:Uo(a,u,v)}}function F1(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var v=a.stateNode;v===null&&(v=a.stateNode=new _R),u.forEach(function(w){var T=MR.bind(null,a,w);v.has(w)||(v.add(w),w.then(T,T))})}}function Gr(a,u){var v=u.deletions;if(v!==null)for(var w=0;w<v.length;w++){var T=v[w];try{var E=a,B=u,W=B;e:for(;W!==null;){switch(W.tag){case 5:vn=W.stateNode,Hr=!1;break e;case 3:vn=W.stateNode.containerInfo,Hr=!0;break e;case 4:vn=W.stateNode.containerInfo,Hr=!0;break e}W=W.return}if(vn===null)throw Error(n(160));$1(E,B,T),vn=null,Hr=!1;var Y=T.alternate;Y!==null&&(Y.return=null),T.return=null}catch(he){Kt(T,u,he)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)B1(u,a),u=u.sibling}function B1(a,u){var v=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Gr(u,a),mi(a),w&4){try{Yu(3,a,a.return),bd(3,a)}catch(Fe){Kt(a,a.return,Fe)}try{Yu(5,a,a.return)}catch(Fe){Kt(a,a.return,Fe)}}break;case 1:Gr(u,a),mi(a),w&512&&v!==null&&Zs(v,v.return);break;case 5:if(Gr(u,a),mi(a),w&512&&v!==null&&Zs(v,v.return),a.flags&32){var T=a.stateNode;try{We(T,"")}catch(Fe){Kt(a,a.return,Fe)}}if(w&4&&(T=a.stateNode,T!=null)){var E=a.memoizedProps,B=v!==null?v.memoizedProps:E,W=a.type,Y=a.updateQueue;if(a.updateQueue=null,Y!==null)try{W==="input"&&E.type==="radio"&&E.name!=null&&mt(T,E),Ai(W,B);var he=Ai(W,E);for(B=0;B<Y.length;B+=2){var we=Y[B],be=Y[B+1];we==="style"?Ti(T,be):we==="dangerouslySetInnerHTML"?Ee(T,be):we==="children"?We(T,be):k(T,we,be,he)}switch(W){case"input":Pe(T,E);break;case"textarea":Si(T,E);break;case"select":var xe=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!E.multiple;var Ie=E.value;Ie!=null?gt(T,!!E.multiple,Ie,!1):xe!==!!E.multiple&&(E.defaultValue!=null?gt(T,!!E.multiple,E.defaultValue,!0):gt(T,!!E.multiple,E.multiple?[]:"",!1))}T[Ro]=E}catch(Fe){Kt(a,a.return,Fe)}}break;case 6:if(Gr(u,a),mi(a),w&4){if(a.stateNode===null)throw Error(n(162));T=a.stateNode,E=a.memoizedProps;try{T.nodeValue=E}catch(Fe){Kt(a,a.return,Fe)}}break;case 3:if(Gr(u,a),mi(a),w&4&&v!==null&&v.memoizedState.isDehydrated)try{tr(u.containerInfo)}catch(Fe){Kt(a,a.return,Fe)}break;case 4:Gr(u,a),mi(a);break;case 13:Gr(u,a),mi(a),T=a.child,T.flags&8192&&(E=T.memoizedState!==null,T.stateNode.isHidden=E,!E||T.alternate!==null&&T.alternate.memoizedState!==null||(sg=jt())),w&4&&F1(a);break;case 22:if(we=v!==null&&v.memoizedState!==null,a.mode&1?(Pn=(he=Pn)||we,Gr(u,a),Pn=he):Gr(u,a),mi(a),w&8192){if(he=a.memoizedState!==null,(a.stateNode.isHidden=he)&&!we&&(a.mode&1)!==0)for(Ne=a,we=a.child;we!==null;){for(be=Ne=we;Ne!==null;){switch(xe=Ne,Ie=xe.child,xe.tag){case 0:case 11:case 14:case 15:Yu(4,xe,xe.return);break;case 1:Zs(xe,xe.return);var $e=xe.stateNode;if(typeof $e.componentWillUnmount=="function"){w=xe,v=xe.return;try{u=w,$e.props=u.memoizedProps,$e.state=u.memoizedState,$e.componentWillUnmount()}catch(Fe){Kt(w,v,Fe)}}break;case 5:Zs(xe,xe.return);break;case 22:if(xe.memoizedState!==null){j1(be);continue}}Ie!==null?(Ie.return=xe,Ne=Ie):j1(be)}we=we.sibling}e:for(we=null,be=a;;){if(be.tag===5){if(we===null){we=be;try{T=be.stateNode,he?(E=T.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(W=be.stateNode,Y=be.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=Et("display",B))}catch(Fe){Kt(a,a.return,Fe)}}}else if(be.tag===6){if(we===null)try{be.stateNode.nodeValue=he?"":be.memoizedProps}catch(Fe){Kt(a,a.return,Fe)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===a)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===a)break e;for(;be.sibling===null;){if(be.return===null||be.return===a)break e;we===be&&(we=null),be=be.return}we===be&&(we=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Gr(u,a),mi(a),w&4&&F1(a);break;case 21:break;default:Gr(u,a),mi(a)}}function mi(a){var u=a.flags;if(u&2){try{e:{for(var v=a.return;v!==null;){if(L1(v)){var w=v;break e}v=v.return}throw Error(n(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(We(T,""),w.flags&=-33);var E=D1(a);ig(a,E,T);break;case 3:case 4:var B=w.stateNode.containerInfo,W=D1(a);rg(a,W,B);break;default:throw Error(n(161))}}catch(Y){Kt(a,a.return,Y)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function wR(a,u,v){Ne=a,q1(a)}function q1(a,u,v){for(var w=(a.mode&1)!==0;Ne!==null;){var T=Ne,E=T.child;if(T.tag===22&&w){var B=T.memoizedState!==null||wd;if(!B){var W=T.alternate,Y=W!==null&&W.memoizedState!==null||Pn;W=wd;var he=Pn;if(wd=B,(Pn=Y)&&!he)for(Ne=T;Ne!==null;)B=Ne,Y=B.child,B.tag===22&&B.memoizedState!==null?z1(T):Y!==null?(Y.return=B,Ne=Y):z1(T);for(;E!==null;)Ne=E,q1(E),E=E.sibling;Ne=T,wd=W,Pn=he}U1(a)}else(T.subtreeFlags&8772)!==0&&E!==null?(E.return=T,Ne=E):U1(a)}}function U1(a){for(;Ne!==null;){var u=Ne;if((u.flags&8772)!==0){var v=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Pn||bd(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!Pn)if(v===null)w.componentDidMount();else{var T=u.elementType===u.type?v.memoizedProps:Vr(u.type,v.memoizedProps);w.componentDidUpdate(T,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&jb(u,E,w);break;case 3:var B=u.updateQueue;if(B!==null){if(v=null,u.child!==null)switch(u.child.tag){case 5:v=u.child.stateNode;break;case 1:v=u.child.stateNode}jb(u,B,v)}break;case 5:var W=u.stateNode;if(v===null&&u.flags&4){v=W;var Y=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&v.focus();break;case"img":Y.src&&(v.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var he=u.alternate;if(he!==null){var we=he.memoizedState;if(we!==null){var be=we.dehydrated;be!==null&&tr(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pn||u.flags&512&&ng(u)}catch(xe){Kt(u,u.return,xe)}}if(u===a){Ne=null;break}if(v=u.sibling,v!==null){v.return=u.return,Ne=v;break}Ne=u.return}}function j1(a){for(;Ne!==null;){var u=Ne;if(u===a){Ne=null;break}var v=u.sibling;if(v!==null){v.return=u.return,Ne=v;break}Ne=u.return}}function z1(a){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var v=u.return;try{bd(4,u)}catch(Y){Kt(u,v,Y)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var T=u.return;try{w.componentDidMount()}catch(Y){Kt(u,T,Y)}}var E=u.return;try{ng(u)}catch(Y){Kt(u,E,Y)}break;case 5:var B=u.return;try{ng(u)}catch(Y){Kt(u,B,Y)}}}catch(Y){Kt(u,u.return,Y)}if(u===a){Ne=null;break}var W=u.sibling;if(W!==null){W.return=u.return,Ne=W;break}Ne=u.return}}var bR=Math.ceil,Sd=$.ReactCurrentDispatcher,og=$.ReactCurrentOwner,Tr=$.ReactCurrentBatchConfig,vt=0,dn=null,Qt=null,yn=0,lr=0,Js=Do(0),an=0,Xu=null,Ra=0,Td=0,ag=0,Qu=null,Gn=null,sg=0,Ys=1/0,Ki=null,Cd=!1,lg=null,jo=null,Ad=!1,zo=null,Pd=0,ec=0,ug=null,Ed=-1,Md=0;function Ln(){return(vt&6)!==0?jt():Ed!==-1?Ed:Ed=jt()}function Vo(a){return(a.mode&1)===0?1:(vt&2)!==0&&yn!==0?yn&-yn:oR.transition!==null?(Md===0&&(Md=kf()),Md):(a=ht,a!==0||(a=window.event,a=a===void 0?16:dt(a.type)),a)}function Wr(a,u,v,w){if(50<ec)throw ec=0,ug=null,Error(n(185));Qn(a,v,w),((vt&2)===0||a!==dn)&&(a===dn&&((vt&2)===0&&(Td|=v),an===4&&Ho(a,yn)),Wn(a,w),v===1&&vt===0&&(u.mode&1)===0&&(Ys=jt()+500,rd&&Fo()))}function Wn(a,u){var v=a.callbackNode;vs(a,u);var w=It(a,a===dn?yn:0);if(w===0)v!==null&&mu(v),a.callbackNode=null,a.callbackPriority=0;else if(u=w&-w,a.callbackPriority!==u){if(v!=null&&mu(v),u===1)a.tag===0?iR(H1.bind(null,a)):Ib(H1.bind(null,a)),Sn(function(){(vt&6)===0&&Fo()}),v=null;else{switch(_o(w)){case 1:v=gu;break;case 4:v=Of;break;case 16:v=ms;break;case 536870912:v=mo;break;default:v=ms}v=Q1(v,V1.bind(null,a))}a.callbackPriority=u,a.callbackNode=v}}function V1(a,u){if(Ed=-1,Md=0,(vt&6)!==0)throw Error(n(327));var v=a.callbackNode;if(Xs()&&a.callbackNode!==v)return null;var w=It(a,a===dn?yn:0);if(w===0)return null;if((w&30)!==0||(w&a.expiredLanes)!==0||u)u=Id(a,w);else{u=w;var T=vt;vt|=2;var E=W1();(dn!==a||yn!==u)&&(Ki=null,Ys=jt()+500,Da(a,u));do try{CR();break}catch(W){G1(a,W)}while(!0);Pm(),Sd.current=E,vt=T,Qt!==null?u=0:(dn=null,yn=0,u=an)}if(u!==0){if(u===2&&(T=wn(a),T!==0&&(w=T,u=cg(a,T))),u===1)throw v=Xu,Da(a,0),Ho(a,w),Wn(a,jt()),v;if(u===6)Ho(a,w);else{if(T=a.current.alternate,(w&30)===0&&!SR(T)&&(u=Id(a,w),u===2&&(E=wn(a),E!==0&&(w=E,u=cg(a,E))),u===1))throw v=Xu,Da(a,0),Ho(a,w),Wn(a,jt()),v;switch(a.finishedWork=T,a.finishedLanes=w,u){case 0:case 1:throw Error(n(345));case 2:$a(a,Gn,Ki);break;case 3:if(Ho(a,w),(w&130023424)===w&&(u=sg+500-jt(),10<u)){if(It(a,0)!==0)break;if(T=a.suspendedLanes,(T&w)!==w){Ln(),a.pingedLanes|=a.suspendedLanes&T;break}a.timeoutHandle=rn($a.bind(null,a,Gn,Ki),u);break}$a(a,Gn,Ki);break;case 4:if(Ho(a,w),(w&4194240)===w)break;for(u=a.eventTimes,T=-1;0<w;){var B=31-ot(w);E=1<<B,B=u[B],B>T&&(T=B),w&=~E}if(w=T,w=jt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*bR(w/1960))-w,10<w){a.timeoutHandle=rn($a.bind(null,a,Gn,Ki),w);break}$a(a,Gn,Ki);break;case 5:$a(a,Gn,Ki);break;default:throw Error(n(329))}}}return Wn(a,jt()),a.callbackNode===v?V1.bind(null,a):null}function cg(a,u){var v=Qu;return a.current.memoizedState.isDehydrated&&(Da(a,u).flags|=256),a=Id(a,u),a!==2&&(u=Gn,Gn=v,u!==null&&fg(u)),a}function fg(a){Gn===null?Gn=a:Gn.push.apply(Gn,a)}function SR(a){for(var u=a;;){if(u.flags&16384){var v=u.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var w=0;w<v.length;w++){var T=v[w],E=T.getSnapshot;T=T.value;try{if(!ir(E(),T))return!1}catch{return!1}}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ho(a,u){for(u&=~ag,u&=~Td,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var v=31-ot(u),w=1<<v;a[v]=-1,u&=~w}}function H1(a){if((vt&6)!==0)throw Error(n(327));Xs();var u=It(a,0);if((u&1)===0)return Wn(a,jt()),null;var v=Id(a,u);if(a.tag!==0&&v===2){var w=wn(a);w!==0&&(u=w,v=cg(a,w))}if(v===1)throw v=Xu,Da(a,0),Ho(a,u),Wn(a,jt()),v;if(v===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,$a(a,Gn,Ki),Wn(a,jt()),null}function dg(a,u){var v=vt;vt|=1;try{return a(u)}finally{vt=v,vt===0&&(Ys=jt()+500,rd&&Fo())}}function La(a){zo!==null&&zo.tag===0&&(vt&6)===0&&Xs();var u=vt;vt|=1;var v=Tr.transition,w=ht;try{if(Tr.transition=null,ht=1,a)return a()}finally{ht=w,Tr.transition=v,vt=u,(vt&6)===0&&Fo()}}function hg(){lr=Js.current,Dt(Js)}function Da(a,u){a.finishedWork=null,a.finishedLanes=0;var v=a.timeoutHandle;if(v!==-1&&(a.timeoutHandle=-1,Xt(v)),Qt!==null)for(v=Qt.return;v!==null;){var w=v;switch(bm(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&td();break;case 3:Ws(),Dt(zn),Dt(Tn),Lm();break;case 5:Nm(w);break;case 4:Ws();break;case 13:Dt(Vt);break;case 19:Dt(Vt);break;case 10:Em(w.type._context);break;case 22:case 23:hg()}v=v.return}if(dn=a,Qt=a=Go(a.current,null),yn=lr=u,an=0,Xu=null,ag=Td=Ra=0,Gn=Qu=null,Oa!==null){for(u=0;u<Oa.length;u++)if(v=Oa[u],w=v.interleaved,w!==null){v.interleaved=null;var T=w.next,E=v.pending;if(E!==null){var B=E.next;E.next=T,w.next=B}v.pending=w}Oa=null}return a}function G1(a,u){do{var v=Qt;try{if(Pm(),hd.current=vd,pd){for(var w=Ht.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}pd=!1}if(Na=0,fn=on=Ht=null,Gu=!1,Wu=0,og.current=null,v===null||v.return===null){an=1,Xu=u,Qt=null;break}e:{var E=a,B=v.return,W=v,Y=u;if(u=yn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=Y,we=W,be=we.tag;if((we.mode&1)===0&&(be===0||be===11||be===15)){var xe=we.alternate;xe?(we.updateQueue=xe.updateQueue,we.memoizedState=xe.memoizedState,we.lanes=xe.lanes):(we.updateQueue=null,we.memoizedState=null)}var Ie=v1(B);if(Ie!==null){Ie.flags&=-257,y1(Ie,B,W,E,u),Ie.mode&1&&g1(E,he,u),u=Ie,Y=he;var $e=u.updateQueue;if($e===null){var Fe=new Set;Fe.add(Y),u.updateQueue=Fe}else $e.add(Y);break e}else{if((u&1)===0){g1(E,he,u),pg();break e}Y=Error(n(426))}}else if(qt&&W.mode&1){var Jt=v1(B);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),y1(Jt,B,W,E,u),Cm(Ks(Y,W));break e}}E=Y=Ks(Y,W),an!==4&&(an=2),Qu===null?Qu=[E]:Qu.push(E),E=B;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var se=p1(E,Y,u);Ub(E,se);break e;case 1:W=Y;var te=E.type,ue=E.stateNode;if((E.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(jo===null||!jo.has(ue)))){E.flags|=65536,u&=-u,E.lanes|=u;var Ae=m1(E,W,u);Ub(E,Ae);break e}}E=E.return}while(E!==null)}Z1(v)}catch(Ue){u=Ue,Qt===v&&v!==null&&(Qt=v=v.return);continue}break}while(!0)}function W1(){var a=Sd.current;return Sd.current=vd,a===null?vd:a}function pg(){(an===0||an===3||an===2)&&(an=4),dn===null||(Ra&268435455)===0&&(Td&268435455)===0||Ho(dn,yn)}function Id(a,u){var v=vt;vt|=2;var w=W1();(dn!==a||yn!==u)&&(Ki=null,Da(a,u));do try{TR();break}catch(T){G1(a,T)}while(!0);if(Pm(),vt=v,Sd.current=w,Qt!==null)throw Error(n(261));return dn=null,yn=0,an}function TR(){for(;Qt!==null;)K1(Qt)}function CR(){for(;Qt!==null&&!tm();)K1(Qt)}function K1(a){var u=X1(a.alternate,a,lr);a.memoizedProps=a.pendingProps,u===null?Z1(a):Qt=u,og.current=null}function Z1(a){var u=a;do{var v=u.alternate;if(a=u.return,(u.flags&32768)===0){if(v=vR(v,u,lr),v!==null){Qt=v;return}}else{if(v=yR(v,u),v!==null){v.flags&=32767,Qt=v;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{an=6,Qt=null;return}}if(u=u.sibling,u!==null){Qt=u;return}Qt=u=a}while(u!==null);an===0&&(an=5)}function $a(a,u,v){var w=ht,T=Tr.transition;try{Tr.transition=null,ht=1,AR(a,u,v,w)}finally{Tr.transition=T,ht=w}return null}function AR(a,u,v,w){do Xs();while(zo!==null);if((vt&6)!==0)throw Error(n(327));v=a.finishedWork;var T=a.finishedLanes;if(v===null)return null;if(a.finishedWork=null,a.finishedLanes=0,v===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var E=v.lanes|v.childLanes;if(Wt(a,E),a===dn&&(Qt=dn=null,yn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Ad||(Ad=!0,Q1(ms,function(){return Xs(),null})),E=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||E){E=Tr.transition,Tr.transition=null;var B=ht;ht=1;var W=vt;vt|=4,og.current=null,xR(a,v),B1(v,a),vr(Ge),xa=!!Me,Ge=Me=null,a.current=v,wR(v),ps(),vt=W,ht=B,Tr.transition=E}else a.current=v;if(Ad&&(Ad=!1,zo=a,Pd=T),E=a.pendingLanes,E===0&&(jo=null),ma(v.stateNode),Wn(a,jt()),u!==null)for(w=a.onRecoverableError,v=0;v<u.length;v++)T=u[v],w(T.value,{componentStack:T.stack,digest:T.digest});if(Cd)throw Cd=!1,a=lg,lg=null,a;return(Pd&1)!==0&&a.tag!==0&&Xs(),E=a.pendingLanes,(E&1)!==0?a===ug?ec++:(ec=0,ug=a):ec=0,Fo(),null}function Xs(){if(zo!==null){var a=_o(Pd),u=Tr.transition,v=ht;try{if(Tr.transition=null,ht=16>a?16:a,zo===null)var w=!1;else{if(a=zo,zo=null,Pd=0,(vt&6)!==0)throw Error(n(331));var T=vt;for(vt|=4,Ne=a.current;Ne!==null;){var E=Ne,B=E.child;if((Ne.flags&16)!==0){var W=E.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var he=W[Y];for(Ne=he;Ne!==null;){var we=Ne;switch(we.tag){case 0:case 11:case 15:Yu(8,we,E)}var be=we.child;if(be!==null)be.return=we,Ne=be;else for(;Ne!==null;){we=Ne;var xe=we.sibling,Ie=we.return;if(R1(we),we===he){Ne=null;break}if(xe!==null){xe.return=Ie,Ne=xe;break}Ne=Ie}}}var $e=E.alternate;if($e!==null){var Fe=$e.child;if(Fe!==null){$e.child=null;do{var Jt=Fe.sibling;Fe.sibling=null,Fe=Jt}while(Fe!==null)}}Ne=E}}if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,Ne=B;else e:for(;Ne!==null;){if(E=Ne,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Yu(9,E,E.return)}var se=E.sibling;if(se!==null){se.return=E.return,Ne=se;break e}Ne=E.return}}var te=a.current;for(Ne=te;Ne!==null;){B=Ne;var ue=B.child;if((B.subtreeFlags&2064)!==0&&ue!==null)ue.return=B,Ne=ue;else e:for(B=te;Ne!==null;){if(W=Ne,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:bd(9,W)}}catch(Ue){Kt(W,W.return,Ue)}if(W===B){Ne=null;break e}var Ae=W.sibling;if(Ae!==null){Ae.return=W.return,Ne=Ae;break e}Ne=W.return}}if(vt=T,Fo(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(pa,a)}catch{}w=!0}return w}finally{ht=v,Tr.transition=u}}return!1}function J1(a,u,v){u=Ks(v,u),u=p1(a,u,1),a=qo(a,u,1),u=Ln(),a!==null&&(Qn(a,1,u),Wn(a,u))}function Kt(a,u,v){if(a.tag===3)J1(a,a,v);else for(;u!==null;){if(u.tag===3){J1(u,a,v);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(jo===null||!jo.has(w))){a=Ks(v,a),a=m1(u,a,1),u=qo(u,a,1),a=Ln(),u!==null&&(Qn(u,1,a),Wn(u,a));break}}u=u.return}}function PR(a,u,v){var w=a.pingCache;w!==null&&w.delete(u),u=Ln(),a.pingedLanes|=a.suspendedLanes&v,dn===a&&(yn&v)===v&&(an===4||an===3&&(yn&130023424)===yn&&500>jt()-sg?Da(a,0):ag|=v),Wn(a,u)}function Y1(a,u){u===0&&((a.mode&1)===0?u=1:(u=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var v=Ln();a=Hi(a,u),a!==null&&(Qn(a,u,v),Wn(a,v))}function ER(a){var u=a.memoizedState,v=0;u!==null&&(v=u.retryLane),Y1(a,v)}function MR(a,u){var v=0;switch(a.tag){case 13:var w=a.stateNode,T=a.memoizedState;T!==null&&(v=T.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(u),Y1(a,v)}var X1;X1=function(a,u,v){if(a!==null)if(a.memoizedProps!==u.pendingProps||zn.current)Hn=!0;else{if((a.lanes&v)===0&&(u.flags&128)===0)return Hn=!1,gR(a,u,v);Hn=(a.flags&131072)!==0}else Hn=!1,qt&&(u.flags&1048576)!==0&&Ob(u,od,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;xd(a,u),a=u.pendingProps;var T=qs(u,Tn.current);Gs(u,v),T=Fm(null,u,w,a,T,v);var E=Bm();return u.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Vn(w)?(E=!0,nd(u)):E=!1,u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Om(u),T.updater=yd,u.stateNode=T,T._reactInternals=u,Hm(u,w,a,v),u=Zm(null,u,w,!0,E,v)):(u.tag=0,qt&&E&&wm(u),Rn(null,u,T,v),u=u.child),u;case 16:w=u.elementType;e:{switch(xd(a,u),a=u.pendingProps,T=w._init,w=T(w._payload),u.type=w,T=u.tag=OR(w),a=Vr(w,a),T){case 0:u=Km(null,u,w,a,v);break e;case 1:u=T1(null,u,w,a,v);break e;case 11:u=_1(null,u,w,a,v);break e;case 14:u=x1(null,u,w,Vr(w.type,a),v);break e}throw Error(n(306,w,""))}return u;case 0:return w=u.type,T=u.pendingProps,T=u.elementType===w?T:Vr(w,T),Km(a,u,w,T,v);case 1:return w=u.type,T=u.pendingProps,T=u.elementType===w?T:Vr(w,T),T1(a,u,w,T,v);case 3:e:{if(C1(u),a===null)throw Error(n(387));w=u.pendingProps,E=u.memoizedState,T=E.element,qb(a,u),fd(u,w,null,v);var B=u.memoizedState;if(w=B.element,E.isDehydrated)if(E={element:w,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){T=Ks(Error(n(423)),u),u=A1(a,u,w,v,T);break e}else if(w!==T){T=Ks(Error(n(424)),u),u=A1(a,u,w,v,T);break e}else for(sr=di(u.stateNode.containerInfo.firstChild),ar=u,qt=!0,zr=null,v=Fb(u,null,w,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(zs(),w===T){u=Wi(a,u,v);break e}Rn(a,u,w,v)}u=u.child}return u;case 5:return zb(u),a===null&&Tm(u),w=u.type,T=u.pendingProps,E=a!==null?a.memoizedProps:null,B=T.children,lt(w,T)?B=null:E!==null&&lt(w,E)&&(u.flags|=32),S1(a,u),Rn(a,u,B,v),u.child;case 6:return a===null&&Tm(u),null;case 13:return P1(a,u,v);case 4:return km(u,u.stateNode.containerInfo),w=u.pendingProps,a===null?u.child=Vs(u,null,w,v):Rn(a,u,w,v),u.child;case 11:return w=u.type,T=u.pendingProps,T=u.elementType===w?T:Vr(w,T),_1(a,u,w,T,v);case 7:return Rn(a,u,u.pendingProps,v),u.child;case 8:return Rn(a,u,u.pendingProps.children,v),u.child;case 12:return Rn(a,u,u.pendingProps.children,v),u.child;case 10:e:{if(w=u.type._context,T=u.pendingProps,E=u.memoizedProps,B=T.value,Ot(ld,w._currentValue),w._currentValue=B,E!==null)if(ir(E.value,B)){if(E.children===T.children&&!zn.current){u=Wi(a,u,v);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var W=E.dependencies;if(W!==null){B=E.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===w){if(E.tag===1){Y=Gi(-1,v&-v),Y.tag=2;var he=E.updateQueue;if(he!==null){he=he.shared;var we=he.pending;we===null?Y.next=Y:(Y.next=we.next,we.next=Y),he.pending=Y}}E.lanes|=v,Y=E.alternate,Y!==null&&(Y.lanes|=v),Mm(E.return,v,u),W.lanes|=v;break}Y=Y.next}}else if(E.tag===10)B=E.type===u.type?null:E.child;else if(E.tag===18){if(B=E.return,B===null)throw Error(n(341));B.lanes|=v,W=B.alternate,W!==null&&(W.lanes|=v),Mm(B,v,u),B=E.sibling}else B=E.child;if(B!==null)B.return=E;else for(B=E;B!==null;){if(B===u){B=null;break}if(E=B.sibling,E!==null){E.return=B.return,B=E;break}B=B.return}E=B}Rn(a,u,T.children,v),u=u.child}return u;case 9:return T=u.type,w=u.pendingProps.children,Gs(u,v),T=br(T),w=w(T),u.flags|=1,Rn(a,u,w,v),u.child;case 14:return w=u.type,T=Vr(w,u.pendingProps),T=Vr(w.type,T),x1(a,u,w,T,v);case 15:return w1(a,u,u.type,u.pendingProps,v);case 17:return w=u.type,T=u.pendingProps,T=u.elementType===w?T:Vr(w,T),xd(a,u),u.tag=1,Vn(w)?(a=!0,nd(u)):a=!1,Gs(u,v),d1(u,w,T),Hm(u,w,T,v),Zm(null,u,w,!0,a,v);case 19:return M1(a,u,v);case 22:return b1(a,u,v)}throw Error(n(156,u.tag))};function Q1(a,u){return If(a,u)}function IR(a,u,v,w){this.tag=a,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(a,u,v,w){return new IR(a,u,v,w)}function mg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function OR(a){if(typeof a=="function")return mg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===K)return 11;if(a===ie)return 14}return 2}function Go(a,u){var v=a.alternate;return v===null?(v=Cr(a.tag,u,a.key,a.mode),v.elementType=a.elementType,v.type=a.type,v.stateNode=a.stateNode,v.alternate=a,a.alternate=v):(v.pendingProps=u,v.type=a.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=a.flags&14680064,v.childLanes=a.childLanes,v.lanes=a.lanes,v.child=a.child,v.memoizedProps=a.memoizedProps,v.memoizedState=a.memoizedState,v.updateQueue=a.updateQueue,u=a.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=a.sibling,v.index=a.index,v.ref=a.ref,v}function Od(a,u,v,w,T,E){var B=2;if(w=a,typeof a=="function")mg(a)&&(B=1);else if(typeof a=="string")B=5;else e:switch(a){case F:return Fa(v.children,T,E,u);case U:B=8,T|=8;break;case z:return a=Cr(12,v,u,T|2),a.elementType=z,a.lanes=E,a;case Q:return a=Cr(13,v,u,T),a.elementType=Q,a.lanes=E,a;case re:return a=Cr(19,v,u,T),a.elementType=re,a.lanes=E,a;case de:return kd(v,T,E,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case G:B=10;break e;case j:B=9;break e;case K:B=11;break e;case ie:B=14;break e;case ae:B=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Cr(B,v,u,T),u.elementType=a,u.type=w,u.lanes=E,u}function Fa(a,u,v,w){return a=Cr(7,a,w,u),a.lanes=v,a}function kd(a,u,v,w){return a=Cr(22,a,w,u),a.elementType=de,a.lanes=v,a.stateNode={isHidden:!1},a}function gg(a,u,v){return a=Cr(6,a,null,u),a.lanes=v,a}function vg(a,u,v){return u=Cr(4,a.children!==null?a.children:[],a.key,u),u.lanes=v,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function kR(a,u,v,w,T){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function yg(a,u,v,w,T,E,B,W,Y){return a=new kR(a,u,v,W,Y),u===1?(u=1,E===!0&&(u|=8)):u=0,E=Cr(3,null,null,u),a.current=E,E.stateNode=a,E.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(E),a}function NR(a,u,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:w==null?null:""+w,children:a,containerInfo:u,implementation:v}}function eS(a){if(!a)return $o;a=a._reactInternals;e:{if(ii(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Vn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var v=a.type;if(Vn(v))return Eb(a,v,u)}return u}function tS(a,u,v,w,T,E,B,W,Y){return a=yg(v,w,!0,a,T,E,B,W,Y),a.context=eS(null),v=a.current,w=Ln(),T=Vo(v),E=Gi(w,T),E.callback=u??null,qo(v,E,T),a.current.lanes=T,Qn(a,T,w),Wn(a,w),a}function Nd(a,u,v,w){var T=u.current,E=Ln(),B=Vo(T);return v=eS(v),u.context===null?u.context=v:u.pendingContext=v,u=Gi(E,B),u.payload={element:a},w=w===void 0?null:w,w!==null&&(u.callback=w),a=qo(T,u,B),a!==null&&(Wr(a,T,B,E),cd(a,T,B)),B}function Rd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nS(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var v=a.retryLane;a.retryLane=v!==0&&v<u?v:u}}function _g(a,u){nS(a,u),(a=a.alternate)&&nS(a,u)}function RR(){return null}var rS=typeof reportError=="function"?reportError:function(a){console.error(a)};function xg(a){this._internalRoot=a}Ld.prototype.render=xg.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));Nd(a,u,null,null)},Ld.prototype.unmount=xg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;La(function(){Nd(null,a,null,null)}),u[xt]=null}};function Ld(a){this._internalRoot=a}Ld.prototype.unstable_scheduleHydration=function(a){if(a){var u=xs();a={blockedOn:null,target:a,priority:u};for(var v=0;v<nn.length&&u!==0&&u<nn[v].priority;v++);nn.splice(v,0,a),v===0&&ws(a)}};function wg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Dd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function iS(){}function LR(a,u,v,w,T){if(T){if(typeof w=="function"){var E=w;w=function(){var he=Rd(B);E.call(he)}}var B=tS(u,w,a,0,null,!1,!1,"",iS);return a._reactRootContainer=B,a[xt]=B.current,ko(a.nodeType===8?a.parentNode:a),La(),B}for(;T=a.lastChild;)a.removeChild(T);if(typeof w=="function"){var W=w;w=function(){var he=Rd(Y);W.call(he)}}var Y=yg(a,0,!1,null,null,!1,!1,"",iS);return a._reactRootContainer=Y,a[xt]=Y.current,ko(a.nodeType===8?a.parentNode:a),La(function(){Nd(u,Y,v,w)}),Y}function $d(a,u,v,w,T){var E=v._reactRootContainer;if(E){var B=E;if(typeof T=="function"){var W=T;T=function(){var Y=Rd(B);W.call(Y)}}Nd(u,B,a,T)}else B=LR(v,u,a,T,w);return Rd(B)}ys=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var v=nt(u.pendingLanes);v!==0&&(Fr(u,v|1),Wn(u,jt()),(vt&6)===0&&(Ys=jt()+500,Fo()))}break;case 13:La(function(){var w=Hi(a,1);if(w!==null){var T=Ln();Wr(w,a,1,T)}}),_g(a,1)}},Ii=function(a){if(a.tag===13){var u=Hi(a,134217728);if(u!==null){var v=Ln();Wr(u,a,134217728,v)}_g(a,134217728)}},_s=function(a){if(a.tag===13){var u=Vo(a),v=Hi(a,u);if(v!==null){var w=Ln();Wr(v,a,u,w)}_g(a,u)}},xs=function(){return ht},ga=function(a,u){var v=ht;try{return ht=a,u()}finally{ht=v}},fs=function(a,u,v){switch(u){case"input":if(Pe(a,v),u=v.name,v.type==="radio"&&u!=null){for(v=a;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<v.length;u++){var w=v[u];if(w!==a&&w.form===a.form){var T=Fs(w);if(!T)throw Error(n(90));ge(w),Pe(w,T)}}}break;case"textarea":Si(a,v);break;case"select":u=v.value,u!=null&&gt(a,!!v.multiple,u,!1)}},Tf=dg,Cf=La;var DR={usingClientEntryPoint:!1,Events:[qi,Ui,Fs,bf,Sf,dg]},tc={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$R={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ef(a),a===null?null:a.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||RR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{pa=Fd.inject($R),Xn=Fd}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DR,Kn.createPortal=function(a,u){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(u))throw Error(n(200));return NR(a,u,null,v)},Kn.createRoot=function(a,u){if(!wg(a))throw Error(n(299));var v=!1,w="",T=rS;return u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),u=yg(a,1,!1,null,null,v,!1,w,T),a[xt]=u.current,ko(a.nodeType===8?a.parentNode:a),new xg(u)},Kn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Ef(u),a=a===null?null:a.stateNode,a},Kn.flushSync=function(a){return La(a)},Kn.hydrate=function(a,u,v){if(!Dd(u))throw Error(n(200));return $d(null,a,u,!0,v)},Kn.hydrateRoot=function(a,u,v){if(!wg(a))throw Error(n(405));var w=v!=null&&v.hydratedSources||null,T=!1,E="",B=rS;if(v!=null&&(v.unstable_strictMode===!0&&(T=!0),v.identifierPrefix!==void 0&&(E=v.identifierPrefix),v.onRecoverableError!==void 0&&(B=v.onRecoverableError)),u=tS(u,null,a,1,v??null,T,!1,E,B),a[xt]=u.current,ko(a),w)for(a=0;a<w.length;a++)v=w[a],T=v._getVersion,T=T(v._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[v,T]:u.mutableSourceEagerHydrationData.push(v,T);return new Ld(u)},Kn.render=function(a,u,v){if(!Dd(u))throw Error(n(200));return $d(null,a,u,!1,v)},Kn.unmountComponentAtNode=function(a){if(!Dd(a))throw Error(n(40));return a._reactRootContainer?(La(function(){$d(null,null,a,!1,function(){a._reactRootContainer=null,a[xt]=null})}),!0):!1},Kn.unstable_batchedUpdates=dg,Kn.unstable_renderSubtreeIntoContainer=function(a,u,v,w){if(!Dd(v))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return $d(a,u,v,!1,w)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var dS;function VO(){if(dS)return Tg.exports;dS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tg.exports=VR(),Tg.exports}var hS;function HR(){if(hS)return qd;hS=1;var t=VO();return qd.createRoot=t.createRoot,qd.hydrateRoot=t.hydrateRoot,qd}var GR=HR();const WR=Tt(GR),KR=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var o;try{const s=(o=i.target)==null?void 0:o.result;if(!s){n(new Error("File content could not be read."));return}if(t.name.endsWith(".csv"))Papa.parse(s,{header:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:c=>{if(c.errors&&c.errors.length>0){const f=c.errors.find(g=>g.code!=="TooFewFields"&&g.code!=="TooManyFields");if(f){console.error("Critical CSV Parsing error:",f),n(new Error(`CSV Parsing Error: ${f.message} (Row: ${f.row})`));return}else c.errors.length>0&&console.warn("Minor CSV Parsing issues (e.g. inconsistent field counts):",c.errors)}const d=c.data.filter(f=>f&&typeof f=="object"&&Object.values(f).some(g=>g!=null&&g!==""));e({columns:c.meta.fields||(d.length>0?Object.keys(d[0]):[]),rows:d})},error:c=>n(c)});else if(t.name.endsWith(".xls")||t.name.endsWith(".xlsx")){const c=XLSX.read(s,{type:"array"}),d=c.SheetNames[0],f=c.Sheets[d],g=XLSX.utils.sheet_to_json(f,{header:1,defval:null});if(!g||g.length===0){e({columns:[],rows:[]});return}if(c.IsEncrypted){n(new Error("Cannot read password-protected Excel files. Please remove the password and try again."));return}const y=g[0],b=g.slice(1).map(P=>{const C={};return y.forEach((A,R)=>{C[A]=P[R]}),C}).filter(P=>P&&typeof P=="object"&&Object.values(P).some(C=>C!=null&&C!==""));e({columns:y,rows:b})}else if(t.name.endsWith(".json"))try{const d=JSON.parse(s);let f=[],g=[];if(Array.isArray(d))f=d;else if(typeof d=="object"&&d!==null){const _=Object.keys(d).find(b=>Array.isArray(d[b]));if(_&&Array.isArray(d[_]))f=d[_];else if(Object.values(d).some(b=>!Array.isArray(b)))f=[d];else{n(new Error('JSON file is an object but not a single record or an object containing a clear top-level array of records. Expected formats: `[{}, {}]`, `{"dataKey": [{}, {}]}`, or a single `{}` record.'));return}}else{n(new Error("JSON file content is not a valid JSON structure (array of objects, single object, or object containing an array of records)."));return}if(f.length>0)if(typeof f[0]=="object"&&f[0]!==null)g=Object.keys(f[0]);else{n(new Error("JSON array does not contain objects. Each element in the array must be an object."));return}const y=f.filter(_=>_&&typeof _=="object"&&Object.values(_).some(b=>b!=null&&b!==""));e({columns:g,rows:y})}catch(c){console.error("JSON Parsing error:",c),n(new Error(`JSON Parsing Error: ${c.message}`))}else n(new Error("Internal error: Unexpected file type in onload. Supported types: CSV, Excel, JSON."))}catch(s){s.message&&s.message.toLowerCase().includes("password")?n(new Error("Cannot read password-protected Excel files. Please remove the password and try again.")):n(s)}},r.onerror=i=>n(i),t.name.endsWith(".csv")||t.name.endsWith(".json")?r.readAsText(t):t.name.endsWith(".xls")||t.name.endsWith(".xlsx")?r.readAsArrayBuffer(t):n(new Error("Unsupported file type. Please upload CSV, Excel, or JSON files."))}),HO=(t,e)=>{const n=e.column;if(e.operation==="NONE"){if(t.length>0&&t[0]!==null&&typeof t[0]=="object"&&t[0].hasOwnProperty(n)){const o=t[0][n];return typeof o=="number"?parseFloat(o.toFixed(2)):o}return t.length>0?"N/A (Col not found)":"N/A (No data)"}const r=t.map(o=>o?o[n]:void 0).filter(o=>o!=null&&o!==""),i=r.map(o=>Number(o)).filter(o=>!isNaN(o));switch(e.operation){case"SUM":return i.reduce((o,s)=>o+s,0);case"COUNT":return r.length;case"AVG":return i.length>0?parseFloat((i.reduce((o,s)=>o+s,0)/i.length).toFixed(2)):0;case"MIN":return i.length>0?Math.min(...i):0;case"MAX":return i.length>0?Math.max(...i):0;case"COUNT_DISTINCT":return new Set(r).size;default:return 0}},ZR=(t,e)=>{const n=HO(t,e.metric);return{value:typeof n=="number"?parseFloat(n.toFixed(2)):n,title:e.title,prefix:e.valuePrefix,suffix:e.valueSuffix}},JR=(t,e)=>{const{dimension:n,metrics:r,type:i}=e;let o=[],s=(n==null?void 0:n.displayName)||(n==null?void 0:n.column)||"_dimension";const c=r.map(d=>d.displayName||d.column);if(i==="Table")o=t.map(d=>{const f={};return r.forEach(g=>{f[g.displayName||g.column]=d?d[g.column]:null}),f});else if(i==="ScatterPlot")s=(n==null?void 0:n.displayName)||(n==null?void 0:n.column)||(r.length>2?r[2].displayName||r[2].column:void 0),o=t.map(d=>{const f={};return d?(f[c[0]]=d[r[0].column],f[c[1]]=d[r[1].column],s&&(n!=null&&n.column)&&d.hasOwnProperty(n.column)?f[s]=d[n.column]:s&&r.length>2&&r[2].column&&d.hasOwnProperty(r[2].column)&&(f[s]=d[r[2].column]),f):null}).filter(d=>d!==null);else if(i==="Histogram"){if(r.length===0||!r[0].column)return console.warn("Histogram requires a metric column."),{data:[],dimensionKey:"binRange",metricKeys:["count"],chartType:i};const d=r[0].column,f=t.map(C=>C?parseFloat(String(C[d])):NaN).filter(C=>!isNaN(C));if(f.length===0)return{data:[],dimensionKey:"binRange",metricKeys:["count"],chartType:i};const g=Math.min(...f),y=Math.max(...f);let _=Math.ceil(1+Math.log2(f.length));_=Math.max(5,Math.min(_,20)),g===y&&(_=1);const b=(y-g)/_>0?(y-g)/_:1,P=[];for(let C=0;C<_;C++){const A=g+C*b,R=g+(C+1)*b;P.push({binRange:`${A.toLocaleString(void 0,{maximumFractionDigits:2})} - ${R.toLocaleString(void 0,{maximumFractionDigits:2})}`,count:0})}if(P.length>0&&_>1){const C=g+(_-1)*b;P[P.length-1].binRange=`${C.toLocaleString(void 0,{maximumFractionDigits:2})} - ${y.toLocaleString(void 0,{maximumFractionDigits:2})}`}else P.length===0&&_===1&&P.push({binRange:`${g.toLocaleString(void 0,{maximumFractionDigits:2})} - ${y.toLocaleString(void 0,{maximumFractionDigits:2})}`,count:0});f.forEach(C=>{let A=Math.floor((C-g)/b);C===y&&(A=_-1),A=Math.max(0,Math.min(A,_-1)),P[A]&&P[A].count++}),o=P,s="binRange",c[0]="count"}else if(n)if(r.some(f=>f.operation!=="NONE")){const f={};t.forEach(g=>{if(!g||!g.hasOwnProperty(n.column))return;const y=g[n.column],_=y==null?"N/A":String(y);f[_]||(f[_]=[]),f[_].push(g)}),o=Object.keys(f).map(g=>{const y=f[g],_={[s]:g};return r.forEach(b=>{_[b.displayName||b.column]=HO(y,b)}),_})}else o=t.map(f=>{if(!f||!f.hasOwnProperty(n.column))return null;const g={[s]:f[n.column]};return r.forEach(y=>{g[y.displayName||y.column]=f[y.column]}),g}).filter(f=>f!==null);else console.warn(`Chart type ${i} often requires a dimension. Assuming data is prepared.`),o=[...t];if(i==="PieChart"&&o.length>0&&r.length>0){const d=r[0].displayName||r[0].column,f=(n==null?void 0:n.displayName)||(n==null?void 0:n.column);f?(o=o.map(g=>!g||!g.hasOwnProperty(f)||!g.hasOwnProperty(d)?null:{name:g[f],value:typeof g[d]=="number"?parseFloat(g[d].toFixed(2)):0}).filter(g=>g!==null&&g.value>0),s="name",c[0]="value"):console.warn("PieChart missing original dimension key for processing.")}return{data:o,dimensionKey:s,metricKeys:c,chartType:i}},YR=(t,e)=>{var r,i;if(t===null||typeof t>"u")return console.warn(`processDashboardElement called with null or undefined allRows for element: ${e.id}. This should ideally be caught upstream.`),{error:!0,message:`Data not available for element: ${e.title}`,title:e.title};let n;try{if(e.dataSourceQuery){console.log(`Executing SQL for element ${e.id}: ${e.dataSourceQuery}. Input data length: ${t.length}`);const o=Array.isArray(t)?t:[];n=alasql(e.dataSourceQuery,[o]),console.log(`SQL Result for ${e.id} (type: ${typeof n}):`,n),typeof n>"u"&&(console.warn(`AlaSQL returned undefined for element ${e.id}. Query: ${e.dataSourceQuery}. Treating as empty array.`),n=[]),Array.isArray(n)||(console.warn(`AlaSQL result for ${e.id} was not an array (type: ${typeof n}). Query: ${e.dataSourceQuery}. Coercing to empty array.`),n=[])}else n=Array.isArray(t)?t:[];if(n.length===0&&e.type!=="KPI"&&!((r=e.dataSourceQuery)!=null&&r.match(/COUNT\s*\(\s*(\*|\w+)\s*\)/i))&&["BarChart","PieChart","LineChart","Table","ScatterPlot","AreaChart","Histogram"].includes(e.type))return{data:[],dimensionKey:((i=e.dimension)==null?void 0:i.column)||(e.type==="Histogram"?"binRange":"_dimension"),metricKeys:e.metrics.map(o=>o.column),chartType:e.type};if(e.type==="KPI")return ZR(n,e);if(["BarChart","PieChart","LineChart","Table","ScatterPlot","AreaChart","Histogram"].includes(e.type))return JR(n,e)}catch(o){console.error(`Error processing element ${e.id} (Title: ${e.title}):`,o);let s=o instanceof Error?o.message:String(o);return typeof o=="object"&&o!==null&&"message"in o&&(s=o.message),e.dataSourceQuery&&(s=`SQL Error: ${s}. Query: ${e.dataSourceQuery}`),{error:!0,message:s,title:e.title}}return null},XR=(t,e)=>{if(!t||t.length===0){console.warn("Attempted to export empty data."),alert("No data available to export for this chart.");return}try{const n=Papa.unparse(t),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(r);i.setAttribute("href",o),i.setAttribute("download",e.endsWith(".csv")?e:`${e}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}}catch(n){console.error("Error generating CSV: ",n),alert("An error occurred while generating the CSV file.")}},QR=({onDataLoaded:t,setLoading:e,setError:n})=>{const[r,i]=X.useState(null),[o,s]=X.useState(!1),c=X.useCallback(async _=>{if(_){i(_),e(!0);try{const{columns:b,rows:P}=await KR(_);t(_.name,b,P)}catch(b){console.error("File parsing error in FileUpload:",b);const P=b instanceof Error?b.message:String(b);n(P)}finally{e(!1)}}},[t,e,n]),d=_=>{_.target.files&&_.target.files[0]&&c(_.target.files[0])},f=X.useCallback(_=>{_.preventDefault(),_.stopPropagation(),s(!1),_.dataTransfer.files&&_.dataTransfer.files[0]&&c(_.dataTransfer.files[0])},[c]),g=_=>{_.preventDefault(),_.stopPropagation(),s(!0)},y=_=>{_.preventDefault(),_.stopPropagation(),s(!1)};return M.jsxs("div",{className:"mb-6 p-4 bg-slate-700/30 shadow-xl rounded-xl border border-slate-600/50",children:[M.jsxs("label",{htmlFor:"file-upload",onDrop:f,onDragOver:g,onDragLeave:y,className:`flex flex-col items-center justify-center w-full h-48 border-2 border-dashed rounded-lg cursor-pointer transition-colors duration-200
                    ${o?"border-accent-500 bg-slate-600/50":"border-slate-500 hover:border-slate-400 bg-slate-600/30"}`,children:[M.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[M.jsx("svg",{className:"w-10 h-10 mb-3 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),M.jsxs("p",{className:"mb-2 text-sm text-slate-300",children:[M.jsx("span",{className:"font-semibold text-primary-300",children:"Click to upload"})," or drag and drop"]}),M.jsx("p",{className:"text-xs text-slate-400",children:"CSV, Excel (XLS, XLSX), or JSON files"})]}),M.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:d,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, .json, application/json"})]}),r&&M.jsxs("p",{className:"mt-3 text-sm text-slate-300 text-center",children:["Selected: ",M.jsx("span",{className:"font-medium text-primary-300",children:r.name})]})]})},pS=({onSubmit:t,disabled:e})=>{const[n,r]=X.useState(""),i=o=>{o.preventDefault(),n.trim()&&!e&&t(n.trim())};return M.jsxs("form",{onSubmit:i,className:"p-4 bg-slate-700/30 shadow-xl rounded-xl border border-slate-600/50",children:[M.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-slate-300 mb-2",children:"Ask a question, provide SQL, or Python (for data logic):"}),M.jsx("textarea",{id:"prompt",value:n,onChange:o=>r(o.target.value),placeholder:`e.g., 'Total sales by region', 
'SELECT category, SUM(revenue) FROM ? GROUP BY category', 
'df[df.status == "Delivered"].count()' (Python logic will be translated to SQL)`,rows:4,className:"w-full p-3 border border-slate-500 rounded-md shadow-sm focus:ring-2 focus:ring-accent-500 focus:border-accent-500 text-sm bg-slate-700 text-slate-200 placeholder-slate-400",disabled:e}),M.jsx("button",{type:"submit",disabled:e||!n.trim(),className:"mt-4 w-full bg-gradient-to-r from-primary-500 to-accent-500 hover:from-primary-600 hover:to-accent-600 text-white font-semibold py-2.5 px-4 rounded-md shadow-lg disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-700 focus:ring-accent-400 transition-all duration-200",children:"Generate Dashboard"})]})},eL=({data:t})=>{const{title:e,value:n,prefix:r,suffix:i}=t,o=typeof n=="number"?n.toLocaleString(void 0,{maximumFractionDigits:2}):n;return M.jsxs("div",{className:"p-5 bg-slate-700/50 backdrop-blur-md rounded-xl shadow-xl text-center h-full flex flex-col justify-center items-center transform transition-all duration-300 hover:scale-105 hover:bg-slate-600/60 border border-slate-600/70",children:[M.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-300 uppercase tracking-wider mb-1.5 truncate max-w-full",title:e,children:e}),M.jsxs("p",{className:"text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-accent-400 to-sky-400",children:[r,o,i]})]})};function GO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GO(t))&&(r&&(r+=" "),r+=e);return r}var Pg,mS;function Jn(){if(mS)return Pg;mS=1;var t=Array.isArray;return Pg=t,Pg}var Eg,gS;function WO(){if(gS)return Eg;gS=1;var t=typeof Bd=="object"&&Bd&&Bd.Object===Object&&Bd;return Eg=t,Eg}var Mg,vS;function wi(){if(vS)return Mg;vS=1;var t=WO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Mg=n,Mg}var Ig,yS;function uf(){if(yS)return Ig;yS=1;var t=wi(),e=t.Symbol;return Ig=e,Ig}var Og,_S;function tL(){if(_S)return Og;_S=1;var t=uf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var c=n.call(s,i),d=s[i];try{s[i]=void 0;var f=!0}catch{}var g=r.call(s);return f&&(c?s[i]=d:delete s[i]),g}return Og=o,Og}var kg,xS;function nL(){if(xS)return kg;xS=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return kg=n,kg}var Ng,wS;function so(){if(wS)return Ng;wS=1;var t=uf(),e=tL(),n=nL(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(c){return c==null?c===void 0?i:r:o&&o in Object(c)?e(c):n(c)}return Ng=s,Ng}var Rg,bS;function lo(){if(bS)return Rg;bS=1;function t(e){return e!=null&&typeof e=="object"}return Rg=t,Rg}var Lg,SS;function Zl(){if(SS)return Lg;SS=1;var t=so(),e=lo(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Lg=r,Lg}var Dg,TS;function yw(){if(TS)return Dg;TS=1;var t=Jn(),e=Zl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Dg=i,Dg}var $g,CS;function aa(){if(CS)return $g;CS=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return $g=t,$g}var Fg,AS;function _w(){if(AS)return Fg;AS=1;var t=so(),e=aa(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(c){if(!e(c))return!1;var d=t(c);return d==r||d==i||d==n||d==o}return Fg=s,Fg}var Bg,PS;function rL(){if(PS)return Bg;PS=1;var t=wi(),e=t["__core-js_shared__"];return Bg=e,Bg}var qg,ES;function iL(){if(ES)return qg;ES=1;var t=rL(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return qg=n,qg}var Ug,MS;function KO(){if(MS)return Ug;MS=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Ug=n,Ug}var jg,IS;function oL(){if(IS)return jg;IS=1;var t=_w(),e=iL(),n=aa(),r=KO(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,g=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(_){if(!n(_)||e(_))return!1;var b=t(_)?g:o;return b.test(r(_))}return jg=y,jg}var zg,OS;function aL(){if(OS)return zg;OS=1;function t(e,n){return e==null?void 0:e[n]}return zg=t,zg}var Vg,kS;function is(){if(kS)return Vg;kS=1;var t=oL(),e=aL();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return Vg=n,Vg}var Hg,NS;function fp(){if(NS)return Hg;NS=1;var t=is(),e=t(Object,"create");return Hg=e,Hg}var Gg,RS;function sL(){if(RS)return Gg;RS=1;var t=fp();function e(){this.__data__=t?t(null):{},this.size=0}return Gg=e,Gg}var Wg,LS;function lL(){if(LS)return Wg;LS=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Wg=t,Wg}var Kg,DS;function uL(){if(DS)return Kg;DS=1;var t=fp(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var c=s[o];return c===e?void 0:c}return r.call(s,o)?s[o]:void 0}return Kg=i,Kg}var Zg,$S;function cL(){if($S)return Zg;$S=1;var t=fp(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return Zg=r,Zg}var Jg,FS;function fL(){if(FS)return Jg;FS=1;var t=fp(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Jg=n,Jg}var Yg,BS;function dL(){if(BS)return Yg;BS=1;var t=sL(),e=lL(),n=uL(),r=cL(),i=fL();function o(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Yg=o,Yg}var Xg,qS;function hL(){if(qS)return Xg;qS=1;function t(){this.__data__=[],this.size=0}return Xg=t,Xg}var Qg,US;function xw(){if(US)return Qg;US=1;function t(e,n){return e===n||e!==e&&n!==n}return Qg=t,Qg}var ev,jS;function dp(){if(jS)return ev;jS=1;var t=xw();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return ev=e,ev}var tv,zS;function pL(){if(zS)return tv;zS=1;var t=dp(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var c=o.length-1;return s==c?o.pop():n.call(o,s,1),--this.size,!0}return tv=r,tv}var nv,VS;function mL(){if(VS)return nv;VS=1;var t=dp();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return nv=e,nv}var rv,HS;function gL(){if(HS)return rv;HS=1;var t=dp();function e(n){return t(this.__data__,n)>-1}return rv=e,rv}var iv,GS;function vL(){if(GS)return iv;GS=1;var t=dp();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return iv=e,iv}var ov,WS;function hp(){if(WS)return ov;WS=1;var t=hL(),e=pL(),n=mL(),r=gL(),i=vL();function o(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,ov=o,ov}var av,KS;function ww(){if(KS)return av;KS=1;var t=is(),e=wi(),n=t(e,"Map");return av=n,av}var sv,ZS;function yL(){if(ZS)return sv;ZS=1;var t=dL(),e=hp(),n=ww();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return sv=r,sv}var lv,JS;function _L(){if(JS)return lv;JS=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return lv=t,lv}var uv,YS;function pp(){if(YS)return uv;YS=1;var t=_L();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return uv=e,uv}var cv,XS;function xL(){if(XS)return cv;XS=1;var t=pp();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return cv=e,cv}var fv,QS;function wL(){if(QS)return fv;QS=1;var t=pp();function e(n){return t(this,n).get(n)}return fv=e,fv}var dv,eT;function bL(){if(eT)return dv;eT=1;var t=pp();function e(n){return t(this,n).has(n)}return dv=e,dv}var hv,tT;function SL(){if(tT)return hv;tT=1;var t=pp();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return hv=e,hv}var pv,nT;function bw(){if(nT)return pv;nT=1;var t=yL(),e=xL(),n=wL(),r=bL(),i=SL();function o(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,pv=o,pv}var mv,rT;function ZO(){if(rT)return mv;rT=1;var t=bw(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,c=i?i.apply(this,s):s[0],d=o.cache;if(d.has(c))return d.get(c);var f=r.apply(this,s);return o.cache=d.set(c,f)||d,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,mv=n,mv}var gv,iT;function TL(){if(iT)return gv;iT=1;var t=ZO(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return gv=n,gv}var vv,oT;function CL(){if(oT)return vv;oT=1;var t=TL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,c,d,f){o.push(d?f.replace(n,"$1"):c||s)}),o});return vv=r,vv}var yv,aT;function Sw(){if(aT)return yv;aT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return yv=t,yv}var _v,sT;function AL(){if(sT)return _v;sT=1;var t=uf(),e=Sw(),n=Jn(),r=Zl(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(c){if(typeof c=="string")return c;if(n(c))return e(c,s)+"";if(r(c))return o?o.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return _v=s,_v}var xv,lT;function JO(){if(lT)return xv;lT=1;var t=AL();function e(n){return n==null?"":t(n)}return xv=e,xv}var wv,uT;function YO(){if(uT)return wv;uT=1;var t=Jn(),e=yw(),n=CL(),r=JO();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return wv=i,wv}var bv,cT;function mp(){if(cT)return bv;cT=1;var t=Zl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return bv=e,bv}var Sv,fT;function Tw(){if(fT)return Sv;fT=1;var t=YO(),e=mp();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return Sv=n,Sv}var Tv,dT;function XO(){if(dT)return Tv;dT=1;var t=Tw();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Tv=e,Tv}var PL=XO();const hr=Tt(PL);var Cv,hT;function EL(){if(hT)return Cv;hT=1;function t(e){return e==null}return Cv=t,Cv}var ML=EL();const Je=Tt(ML);var Av,pT;function IL(){if(pT)return Av;pT=1;var t=so(),e=Jn(),n=lo(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return Av=i,Av}var OL=IL();const Xa=Tt(OL);var kL=_w();const Ye=Tt(kL);var NL=aa();const Jl=Tt(NL);var Pv={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function RL(){if(mT)return wt;mT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),P;P=Symbol.for("react.module.reference");function C(A){if(typeof A=="object"&&A!==null){var R=A.$$typeof;switch(R){case t:switch(A=A.type,A){case n:case i:case r:case f:case g:return A;default:switch(A=A&&A.$$typeof,A){case c:case s:case d:case _:case y:case o:return A;default:return R}}case e:return R}}}return wt.ContextConsumer=s,wt.ContextProvider=o,wt.Element=t,wt.ForwardRef=d,wt.Fragment=n,wt.Lazy=_,wt.Memo=y,wt.Portal=e,wt.Profiler=i,wt.StrictMode=r,wt.Suspense=f,wt.SuspenseList=g,wt.isAsyncMode=function(){return!1},wt.isConcurrentMode=function(){return!1},wt.isContextConsumer=function(A){return C(A)===s},wt.isContextProvider=function(A){return C(A)===o},wt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},wt.isForwardRef=function(A){return C(A)===d},wt.isFragment=function(A){return C(A)===n},wt.isLazy=function(A){return C(A)===_},wt.isMemo=function(A){return C(A)===y},wt.isPortal=function(A){return C(A)===e},wt.isProfiler=function(A){return C(A)===i},wt.isStrictMode=function(A){return C(A)===r},wt.isSuspense=function(A){return C(A)===f},wt.isSuspenseList=function(A){return C(A)===g},wt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===f||A===g||A===b||typeof A=="object"&&A!==null&&(A.$$typeof===_||A.$$typeof===y||A.$$typeof===o||A.$$typeof===s||A.$$typeof===d||A.$$typeof===P||A.getModuleId!==void 0)},wt.typeOf=C,wt}var gT;function LL(){return gT||(gT=1,Pv.exports=RL()),Pv.exports}var DL=LL(),Ev,vT;function QO(){if(vT)return Ev;vT=1;var t=so(),e=lo(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Ev=r,Ev}var Mv,yT;function $L(){if(yT)return Mv;yT=1;var t=QO();function e(n){return t(n)&&n!=+n}return Mv=e,Mv}var FL=$L();const Yl=Tt(FL);var BL=QO();const qL=Tt(BL);var $n=function(e){return e===0?0:e>0?1:-1},Ha=function(e){return Xa(e)&&e.indexOf("%")===e.length-1},Se=function(e){return qL(e)&&!Yl(e)},UL=function(e){return Je(e)},un=function(e){return Se(e)||Xa(e)},jL=0,sa=function(e){var n=++jL;return"".concat(e||"").concat(n)},Fn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&!Xa(e))return r;var o;if(Ha(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Yl(o)&&(o=r),i&&o>n&&(o=n),o},Jo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},zL=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Gt=function(e,n){return Se(e)&&Se(n)?function(r){return e+r*(n-e)}:function(){return n}};function sh(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):hr(r,e))===n})}var VL=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,s=0,c=1/0,d=-1/0,f=0,g=0,y=0;y<n;y++)f=e[y].cx||0,g=e[y].cy||0,r+=f,i+=g,o+=f*g,s+=f*f,c=Math.min(c,f),d=Math.max(d,f);var _=n*s!==r*r?(n*o-r*i)/(n*s-r*r):0;return{xmin:c,xmax:d,a:_,b:(i-_*r)/n}},HL=function(e,n){return Se(e)&&Se(n)?e-n:Xa(e)&&Xa(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function fl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function k_(t){"@babel/helpers - typeof";return k_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k_(t)}var GL=["viewBox","children"],WL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_T=["points","pathLength"],Iv={svg:GL,polygon:_T,polyline:_T},Cw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(X.isValidElement(e)&&(r=e.props),!Jl(r))return null;var i={};return Object.keys(r).forEach(function(o){Cw.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},KL=function(e,n,r){return function(i){return e(n,r,i),null}},ra=function(e,n,r){if(!Jl(e)||k_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];Cw.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=KL(s,n,r))}),i},ZL=["children"],JL=["children"];function xT(t,e){if(t==null)return{};var n=YL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N_(t){"@babel/helpers - typeof";return N_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N_(t)}var wT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},eo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},bT=null,Ov=null,Aw=function t(e){if(e===bT&&Array.isArray(Ov))return Ov;var n=[];return X.Children.forEach(e,function(r){Je(r)||(DL.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ov=n,bT=e,n};function qn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return eo(i)}):r=[eo(e)],Aw(t).forEach(function(i){var o=hr(i,"type.displayName")||hr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function fr(t,e){var n=qn(t,e);return n&&n[0]}var ST=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Se(r)||r<=0||!Se(i)||i<=0)},XL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QL=function(e){return e&&e.type&&Xa(e.type)&&XL.indexOf(e.type)>=0},ek=function(e){return e&&N_(e)==="object"&&"clipDot"in e},eD=function(e,n,r,i){var o,s=(o=Iv==null?void 0:Iv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ye(e)&&(i&&s.includes(n)||WL.includes(n))||r&&Cw.includes(n)},qe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(X.isValidElement(e)&&(i=e.props),!Jl(i))return null;var o={};return Object.keys(i).forEach(function(s){var c;eD((c=i)===null||c===void 0?void 0:c[s],s,n,r)&&(o[s]=i[s])}),o},R_=function t(e,n){if(e===n)return!0;var r=X.Children.count(e);if(r!==X.Children.count(n))return!1;if(r===0)return!0;if(r===1)return TT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!TT(o,s))return!1}return!0},TT=function(e,n){if(Je(e)&&Je(n))return!0;if(!Je(e)&&!Je(n)){var r=e.props||{},i=r.children,o=xT(r,ZL),s=n.props||{},c=s.children,d=xT(s,JL);return i&&c?fl(o,d)&&R_(i,c):!i&&!c?fl(o,d):!1}return!1},CT=function(e,n){var r=[],i={};return Aw(e).forEach(function(o,s){if(QL(o))r.push(o);else if(o){var c=eo(o.type),d=n[c]||{},f=d.handler,g=d.once;if(f&&(!g||!i[c])){var y=f(o,c,s);r.push(y),i[c]=!0}}}),r},tD=function(e){var n=e&&e.type;return n&&wT[n]?wT[n]:null},nD=function(e,n){return Aw(n).indexOf(e)},rD=["children","width","height","viewBox","className","style","title","desc"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function iD(t,e){if(t==null)return{};var n=oD(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oD(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,c=t.title,d=t.desc,f=iD(t,rD),g=i||{width:n,height:r,x:0,y:0},y=at("recharts-surface",o);return H.createElement("svg",L_({},qe(f,!0,"svg"),{className:y,width:n,height:r,style:s,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),H.createElement("title",null,c),H.createElement("desc",null,d),e)}var aD=["children","className"];function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function sD(t,e){if(t==null)return{};var n=lD(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lD(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ut=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=sD(t,aD),o=at("recharts-layer",r);return H.createElement("g",$_({className:o},qe(i,!0),{ref:e}),n)}),ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},kv,AT;function uD(){if(AT)return kv;AT=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return kv=t,kv}var Nv,PT;function cD(){if(PT)return Nv;PT=1;var t=uD();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return Nv=e,Nv}var Rv,ET;function tk(){if(ET)return Rv;ET=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+t+i+o+"]");function d(f){return c.test(f)}return Rv=d,Rv}var Lv,MT;function fD(){if(MT)return Lv;MT=1;function t(e){return e.split("")}return Lv=t,Lv}var Dv,IT;function dD(){if(IT)return Dv;IT=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",g="[^"+t+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",P=f+"?",C="["+o+"]?",A="(?:"+b+"(?:"+[g,y,_].join("|")+")"+C+P+")*",R=C+P+A,N="(?:"+[g+c+"?",c,y,_,s].join("|")+")",k=RegExp(d+"(?="+d+")|"+N+R,"g");function $(I){return I.match(k)||[]}return Dv=$,Dv}var $v,OT;function hD(){if(OT)return $v;OT=1;var t=fD(),e=tk(),n=dD();function r(i){return e(i)?n(i):t(i)}return $v=r,$v}var Fv,kT;function pD(){if(kT)return Fv;kT=1;var t=cD(),e=tk(),n=hD(),r=JO();function i(o){return function(s){s=r(s);var c=e(s)?n(s):void 0,d=c?c[0]:s.charAt(0),f=c?t(c,1).join(""):s.slice(1);return d[o]()+f}}return Fv=i,Fv}var Bv,NT;function mD(){if(NT)return Bv;NT=1;var t=pD(),e=t("toUpperCase");return Bv=e,Bv}var gD=mD();const gp=Tt(gD);function Nt(t){return function(){return t}}const nk=Math.cos,uh=Math.sin,ni=Math.sqrt,ch=Math.PI,vp=2*ch,F_=Math.PI,B_=2*F_,ja=1e-6,vD=B_-ja;function rk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function yD(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rk;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _D{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rk:yD(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,c=this._y1,d=r-e,f=i-n,g=s-e,y=c-n,_=g*g+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>ja)if(!(Math.abs(y*d-f*g)>ja)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,P=i-c,C=d*d+f*f,A=b*b+P*P,R=Math.sqrt(C),N=Math.sqrt(_),k=o*Math.tan((F_-Math.acos((C+_-A)/(2*R*N)))/2),$=k/N,I=k/R;Math.abs($-1)>ja&&this._append`L${e+$*g},${n+$*y}`,this._append`A${o},${o},0,0,${+(y*b>g*P)},${this._x1=e+I*d},${this._y1=n+I*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,g=n+d,y=1^s,_=s?i-o:o-i;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>ja||Math.abs(this._y1-g)>ja)&&this._append`L${f},${g}`,r&&(_<0&&(_=_%B_+B_),_>vD?this._append`A${r},${r},0,1,${y},${e-c},${n-d}A${r},${r},0,1,${y},${this._x1=f},${this._y1=g}`:_>ja&&this._append`A${r},${r},0,${+(_>=F_)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Pw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _D(e)}function Ew(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ik(t){this._context=t}ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yp(t){return new ik(t)}function ok(t){return t[0]}function ak(t){return t[1]}function sk(t,e){var n=Nt(!0),r=null,i=yp,o=null,s=Pw(c);t=typeof t=="function"?t:t===void 0?ok:Nt(t),e=typeof e=="function"?e:e===void 0?ak:Nt(e);function c(d){var f,g=(d=Ew(d)).length,y,_=!1,b;for(r==null&&(o=i(b=s())),f=0;f<=g;++f)!(f<g&&n(y=d[f],f,d))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(y,f,d),+e(y,f,d));if(b)return o=null,b+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Nt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Nt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Nt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),c):r},c}function Ud(t,e,n){var r=null,i=Nt(!0),o=null,s=yp,c=null,d=Pw(f);t=typeof t=="function"?t:t===void 0?ok:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?ak:Nt(+n);function f(y){var _,b,P,C=(y=Ew(y)).length,A,R=!1,N,k=new Array(C),$=new Array(C);for(o==null&&(c=s(N=d())),_=0;_<=C;++_){if(!(_<C&&i(A=y[_],_,y))===R)if(R=!R)b=_,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),P=_-1;P>=b;--P)c.point(k[P],$[P]);c.lineEnd(),c.areaEnd()}R&&(k[_]=+t(A,_,y),$[_]=+e(A,_,y),c.point(r?+r(A,_,y):k[_],n?+n(A,_,y):$[_]))}if(N)return c=null,N+""||null}function g(){return sk().defined(i).curve(s).context(o)}return f.x=function(y){return arguments.length?(t=typeof y=="function"?y:Nt(+y),r=null,f):t},f.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Nt(+y),f):t},f.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Nt(+y),f):r},f.y=function(y){return arguments.length?(e=typeof y=="function"?y:Nt(+y),n=null,f):e},f.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Nt(+y),f):e},f.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Nt(+y),f):n},f.lineX0=f.lineY0=function(){return g().x(t).y(e)},f.lineY1=function(){return g().x(t).y(n)},f.lineX1=function(){return g().x(r).y(e)},f.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Nt(!!y),f):i},f.curve=function(y){return arguments.length?(s=y,o!=null&&(c=s(o)),f):s},f.context=function(y){return arguments.length?(y==null?o=c=null:c=s(o=y),f):o},f}class lk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function xD(t){return new lk(t,!0)}function wD(t){return new lk(t,!1)}const Mw={draw(t,e){const n=ni(e/ch);t.moveTo(n,0),t.arc(0,0,n,0,vp)}},bD={draw(t,e){const n=ni(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uk=ni(1/3),SD=uk*2,TD={draw(t,e){const n=ni(e/SD),r=n*uk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},CD={draw(t,e){const n=ni(e),r=-n/2;t.rect(r,r,n,n)}},AD=.8908130915292852,ck=uh(ch/10)/uh(7*ch/10),PD=uh(vp/10)*ck,ED=-nk(vp/10)*ck,MD={draw(t,e){const n=ni(e*AD),r=PD*n,i=ED*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=vp*o/5,c=nk(s),d=uh(s);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},qv=ni(3),ID={draw(t,e){const n=-ni(e/(qv*3));t.moveTo(0,n*2),t.lineTo(-qv*n,-n),t.lineTo(qv*n,-n),t.closePath()}},Ar=-.5,Pr=ni(3)/2,q_=1/ni(12),OD=(q_/2+1)*3,kD={draw(t,e){const n=ni(e/OD),r=n/2,i=n*q_,o=r,s=n*q_+n,c=-o,d=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(c,d),t.lineTo(Ar*r-Pr*i,Pr*r+Ar*i),t.lineTo(Ar*o-Pr*s,Pr*o+Ar*s),t.lineTo(Ar*c-Pr*d,Pr*c+Ar*d),t.lineTo(Ar*r+Pr*i,Ar*i-Pr*r),t.lineTo(Ar*o+Pr*s,Ar*s-Pr*o),t.lineTo(Ar*c+Pr*d,Ar*d-Pr*c),t.closePath()}};function ND(t,e){let n=null,r=Pw(i);t=typeof t=="function"?t:Nt(t||Mw),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Nt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Nt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function fh(){}function dh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fk(t){this._context=t}fk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RD(t){return new fk(t)}function dk(t){this._context=t}dk.prototype={areaStart:fh,areaEnd:fh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LD(t){return new dk(t)}function hk(t){this._context=t}hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DD(t){return new hk(t)}function pk(t){this._context=t}pk.prototype={areaStart:fh,areaEnd:fh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $D(t){return new pk(t)}function RT(t){return t<0?-1:1}function LT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),c=(o*i+s*r)/(r+i);return(RT(o)+RT(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(c))||0}function DT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Uv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*e,o-c,s-c*n,o,s)}function hh(t){this._context=t}hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uv(this,this._t0,DT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Uv(this,DT(this,n=LT(this,t,e)),n);break;default:Uv(this,this._t0,n=LT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mk(t){this._context=new gk(t)}(mk.prototype=Object.create(hh.prototype)).point=function(t,e){hh.prototype.point.call(this,e,t)};function gk(t){this._context=t}gk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function FD(t){return new hh(t)}function BD(t){return new mk(t)}function vk(t){this._context=t}vk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$T(t),i=$T(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $T(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function qD(t){return new vk(t)}function _p(t,e){this._context=t,this._t=e}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UD(t){return new _p(t,.5)}function jD(t){return new _p(t,0)}function zD(t){return new _p(t,1)}function yl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,c=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function U_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function VD(t,e){return t[e]}function HD(t){const e=[];return e.key=t,e}function GD(){var t=Nt([]),e=U_,n=yl,r=VD;function i(o){var s=Array.from(t.apply(this,arguments),HD),c,d=s.length,f=-1,g;for(const y of o)for(c=0,++f;c<d;++c)(s[c][f]=[0,+r(y,s[c].key,f,o)]).data=y;for(c=0,g=Ew(e(s));c<d;++c)s[g[c]].index=c;return n(s,g),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Nt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Nt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?U_:typeof o=="function"?o:Nt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??yl,i):n},i}function WD(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}yl(t,e)}}function KD(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,c=0;s<i;++s)c+=t[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}yl(t,e)}}function ZD(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var c=0,d=0,f=0;c<s;++c){for(var g=t[e[c]],y=g[r][1]||0,_=g[r-1][1]||0,b=(y-_)/2,P=0;P<c;++P){var C=t[e[P]],A=C[r][1]||0,R=C[r-1][1]||0;b+=A-R}d+=y,f+=b*y}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,yl(t,e)}}function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}var JD=["type","size","sizeType"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(r){YD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YD(t,e,n){return e=XD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XD(t){var e=QD(t,"string");return Pc(e)=="symbol"?e:e+""}function QD(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e$(t,e){if(t==null)return{};var n=t$(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t$(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yk={symbolCircle:Mw,symbolCross:bD,symbolDiamond:TD,symbolSquare:CD,symbolStar:MD,symbolTriangle:ID,symbolWye:kD},n$=Math.PI/180,r$=function(e){var n="symbol".concat(gp(e));return yk[n]||Mw},i$=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*n$;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},o$=function(e,n){yk["symbol".concat(gp(e))]=n},xp=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,c=s===void 0?"area":s,d=e$(e,JD),f=BT(BT({},d),{},{type:r,size:o,sizeType:c}),g=function(){var A=r$(r),R=ND().type(A).size(i$(o,c,r));return R()},y=f.className,_=f.cx,b=f.cy,P=qe(f,!0);return _===+_&&b===+b&&o===+o?H.createElement("path",j_({},P,{className:at("recharts-symbols",y),transform:"translate(".concat(_,", ").concat(b,")"),d:g()})):null};xp.registerSymbol=o$;function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){Ec(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xk(r.key),r)}}function u$(t,e,n){return e&&l$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c$(t,e,n){return e=ph(e),f$(t,_k()?Reflect.construct(e,n||[],ph(t).constructor):e.apply(t,n))}function f$(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d$(t)}function d$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_k=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ph(t)}function h$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function Ec(t,e,n){return e=xk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xk(t){var e=p$(t,"string");return _l(e)=="symbol"?e:e+""}function p$(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Er=32,Iw=function(t){function e(){return s$(this,e),c$(this,e,arguments)}return h$(e,t),u$(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Er/2,s=Er/6,c=Er/3,d=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Er,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(o,`
            H`).concat(Er,"M").concat(2*c,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Er/8,"h").concat(Er,"v").concat(Er*3/4,"h").concat(-Er,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var f=a$({},r);return delete f.legendIcon,H.cloneElement(r.legendIcon,f)}return H.createElement(xp,{fill:d,cx:o,cy:o,size:Er,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,c=i.layout,d=i.formatter,f=i.inactiveColor,g={x:0,y:0,width:Er,height:Er},y={display:c==="horizontal"?"inline-block":"block",marginRight:10},_={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,P){var C=b.formatter||d,A=at(Ec(Ec({"recharts-legend-item":!0},"legend-item-".concat(P),!0),"inactive",b.inactive));if(b.type==="none")return null;var R=Ye(b.value)?null:b.value;ei(!Ye(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=b.inactive?f:b.color;return H.createElement("li",z_({className:A,style:y,key:"legend-item-".concat(P)},ra(r.props,b,P)),H.createElement(D_,{width:s,height:s,viewBox:g,style:_},r.renderIcon(b)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},C?C(R,b,P):R))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(X.PureComponent);Ec(Iw,"displayName","Legend");Ec(Iw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jv,UT;function m$(){if(UT)return jv;UT=1;var t=hp();function e(){this.__data__=new t,this.size=0}return jv=e,jv}var zv,jT;function g$(){if(jT)return zv;jT=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return zv=t,zv}var Vv,zT;function v$(){if(zT)return Vv;zT=1;function t(e){return this.__data__.get(e)}return Vv=t,Vv}var Hv,VT;function y$(){if(VT)return Hv;VT=1;function t(e){return this.__data__.has(e)}return Hv=t,Hv}var Gv,HT;function _$(){if(HT)return Gv;HT=1;var t=hp(),e=ww(),n=bw(),r=200;function i(o,s){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<r-1)return d.push([o,s]),this.size=++c.size,this;c=this.__data__=new n(d)}return c.set(o,s),this.size=c.size,this}return Gv=i,Gv}var Wv,GT;function wk(){if(GT)return Wv;GT=1;var t=hp(),e=m$(),n=g$(),r=v$(),i=y$(),o=_$();function s(c){var d=this.__data__=new t(c);this.size=d.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,Wv=s,Wv}var Kv,WT;function x$(){if(WT)return Kv;WT=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Kv=e,Kv}var Zv,KT;function w$(){if(KT)return Zv;KT=1;function t(e){return this.__data__.has(e)}return Zv=t,Zv}var Jv,ZT;function bk(){if(ZT)return Jv;ZT=1;var t=bw(),e=x$(),n=w$();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Jv=r,Jv}var Yv,JT;function Sk(){if(JT)return Yv;JT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Yv=t,Yv}var Xv,YT;function Tk(){if(YT)return Xv;YT=1;function t(e,n){return e.has(n)}return Xv=t,Xv}var Qv,XT;function Ck(){if(XT)return Qv;XT=1;var t=bk(),e=Sk(),n=Tk(),r=1,i=2;function o(s,c,d,f,g,y){var _=d&r,b=s.length,P=c.length;if(b!=P&&!(_&&P>b))return!1;var C=y.get(s),A=y.get(c);if(C&&A)return C==c&&A==s;var R=-1,N=!0,k=d&i?new t:void 0;for(y.set(s,c),y.set(c,s);++R<b;){var $=s[R],I=c[R];if(f)var D=_?f(I,$,R,c,s,y):f($,I,R,s,c,y);if(D!==void 0){if(D)continue;N=!1;break}if(k){if(!e(c,function(F,U){if(!n(k,U)&&($===F||g($,F,d,f,y)))return k.push(U)})){N=!1;break}}else if(!($===I||g($,I,d,f,y))){N=!1;break}}return y.delete(s),y.delete(c),N}return Qv=o,Qv}var ey,QT;function b$(){if(QT)return ey;QT=1;var t=wi(),e=t.Uint8Array;return ey=e,ey}var ty,eC;function S$(){if(eC)return ty;eC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return ty=t,ty}var ny,tC;function Ow(){if(tC)return ny;tC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return ny=t,ny}var ry,nC;function T$(){if(nC)return ry;nC=1;var t=uf(),e=b$(),n=xw(),r=Ck(),i=S$(),o=Ow(),s=1,c=2,d="[object Boolean]",f="[object Date]",g="[object Error]",y="[object Map]",_="[object Number]",b="[object RegExp]",P="[object Set]",C="[object String]",A="[object Symbol]",R="[object ArrayBuffer]",N="[object DataView]",k=t?t.prototype:void 0,$=k?k.valueOf:void 0;function I(D,F,U,z,G,j,K){switch(U){case N:if(D.byteLength!=F.byteLength||D.byteOffset!=F.byteOffset)return!1;D=D.buffer,F=F.buffer;case R:return!(D.byteLength!=F.byteLength||!j(new e(D),new e(F)));case d:case f:case _:return n(+D,+F);case g:return D.name==F.name&&D.message==F.message;case b:case C:return D==F+"";case y:var Q=i;case P:var re=z&s;if(Q||(Q=o),D.size!=F.size&&!re)return!1;var ie=K.get(D);if(ie)return ie==F;z|=c,K.set(D,F);var ae=r(Q(D),Q(F),z,G,j,K);return K.delete(D),ae;case A:if($)return $.call(D)==$.call(F)}return!1}return ry=I,ry}var iy,rC;function Ak(){if(rC)return iy;rC=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return iy=t,iy}var oy,iC;function C$(){if(iC)return oy;iC=1;var t=Ak(),e=Jn();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return oy=n,oy}var ay,oC;function A$(){if(oC)return ay;oC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var c=e[r];n(c,r,e)&&(s[o++]=c)}return s}return ay=t,ay}var sy,aC;function P$(){if(aC)return sy;aC=1;function t(){return[]}return sy=t,sy}var ly,sC;function E$(){if(sC)return ly;sC=1;var t=A$(),e=P$(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(c){return r.call(s,c)}))}:e;return ly=o,ly}var uy,lC;function M$(){if(lC)return uy;lC=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return uy=t,uy}var cy,uC;function I$(){if(uC)return cy;uC=1;var t=so(),e=lo(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return cy=r,cy}var fy,cC;function kw(){if(cC)return fy;cC=1;var t=I$(),e=lo(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return fy=o,fy}var hc={exports:{}},dy,fC;function O$(){if(fC)return dy;fC=1;function t(){return!1}return dy=t,dy}hc.exports;var dC;function Pk(){return dC||(dC=1,function(t,e){var n=wi(),r=O$(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,c=s?n.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||r;t.exports=f}(hc,hc.exports)),hc.exports}var hy,hC;function Nw(){if(hC)return hy;hC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return hy=n,hy}var py,pC;function Rw(){if(pC)return py;pC=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return py=e,py}var my,mC;function k$(){if(mC)return my;mC=1;var t=so(),e=Rw(),n=lo(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",g="[object Number]",y="[object Object]",_="[object RegExp]",b="[object Set]",P="[object String]",C="[object WeakMap]",A="[object ArrayBuffer]",R="[object DataView]",N="[object Float32Array]",k="[object Float64Array]",$="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",z="[object Uint16Array]",G="[object Uint32Array]",j={};j[N]=j[k]=j[$]=j[I]=j[D]=j[F]=j[U]=j[z]=j[G]=!0,j[r]=j[i]=j[A]=j[o]=j[R]=j[s]=j[c]=j[d]=j[f]=j[g]=j[y]=j[_]=j[b]=j[P]=j[C]=!1;function K(Q){return n(Q)&&e(Q.length)&&!!j[t(Q)]}return my=K,my}var gy,gC;function Ek(){if(gC)return gy;gC=1;function t(e){return function(n){return e(n)}}return gy=t,gy}var pc={exports:{}};pc.exports;var vC;function N$(){return vC||(vC=1,function(t,e){var n=WO(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();t.exports=c}(pc,pc.exports)),pc.exports}var vy,yC;function Mk(){if(yC)return vy;yC=1;var t=k$(),e=Ek(),n=N$(),r=n&&n.isTypedArray,i=r?e(r):t;return vy=i,vy}var yy,_C;function R$(){if(_C)return yy;_C=1;var t=M$(),e=kw(),n=Jn(),r=Pk(),i=Nw(),o=Mk(),s=Object.prototype,c=s.hasOwnProperty;function d(f,g){var y=n(f),_=!y&&e(f),b=!y&&!_&&r(f),P=!y&&!_&&!b&&o(f),C=y||_||b||P,A=C?t(f.length,String):[],R=A.length;for(var N in f)(g||c.call(f,N))&&!(C&&(N=="length"||b&&(N=="offset"||N=="parent")||P&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,R)))&&A.push(N);return A}return yy=d,yy}var _y,xC;function L$(){if(xC)return _y;xC=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return _y=e,_y}var xy,wC;function Ik(){if(wC)return xy;wC=1;function t(e,n){return function(r){return e(n(r))}}return xy=t,xy}var wy,bC;function D$(){if(bC)return wy;bC=1;var t=Ik(),e=t(Object.keys,Object);return wy=e,wy}var by,SC;function $$(){if(SC)return by;SC=1;var t=L$(),e=D$(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var c in Object(o))r.call(o,c)&&c!="constructor"&&s.push(c);return s}return by=i,by}var Sy,TC;function cf(){if(TC)return Sy;TC=1;var t=_w(),e=Rw();function n(r){return r!=null&&e(r.length)&&!t(r)}return Sy=n,Sy}var Ty,CC;function wp(){if(CC)return Ty;CC=1;var t=R$(),e=$$(),n=cf();function r(i){return n(i)?t(i):e(i)}return Ty=r,Ty}var Cy,AC;function F$(){if(AC)return Cy;AC=1;var t=C$(),e=E$(),n=wp();function r(i){return t(i,n,e)}return Cy=r,Cy}var Ay,PC;function B$(){if(PC)return Ay;PC=1;var t=F$(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,c,d,f,g){var y=c&e,_=t(o),b=_.length,P=t(s),C=P.length;if(b!=C&&!y)return!1;for(var A=b;A--;){var R=_[A];if(!(y?R in s:r.call(s,R)))return!1}var N=g.get(o),k=g.get(s);if(N&&k)return N==s&&k==o;var $=!0;g.set(o,s),g.set(s,o);for(var I=y;++A<b;){R=_[A];var D=o[R],F=s[R];if(d)var U=y?d(F,D,R,s,o,g):d(D,F,R,o,s,g);if(!(U===void 0?D===F||f(D,F,c,d,g):U)){$=!1;break}I||(I=R=="constructor")}if($&&!I){var z=o.constructor,G=s.constructor;z!=G&&"constructor"in o&&"constructor"in s&&!(typeof z=="function"&&z instanceof z&&typeof G=="function"&&G instanceof G)&&($=!1)}return g.delete(o),g.delete(s),$}return Ay=i,Ay}var Py,EC;function q$(){if(EC)return Py;EC=1;var t=is(),e=wi(),n=t(e,"DataView");return Py=n,Py}var Ey,MC;function U$(){if(MC)return Ey;MC=1;var t=is(),e=wi(),n=t(e,"Promise");return Ey=n,Ey}var My,IC;function Ok(){if(IC)return My;IC=1;var t=is(),e=wi(),n=t(e,"Set");return My=n,My}var Iy,OC;function j$(){if(OC)return Iy;OC=1;var t=is(),e=wi(),n=t(e,"WeakMap");return Iy=n,Iy}var Oy,kC;function z$(){if(kC)return Oy;kC=1;var t=q$(),e=ww(),n=U$(),r=Ok(),i=j$(),o=so(),s=KO(),c="[object Map]",d="[object Object]",f="[object Promise]",g="[object Set]",y="[object WeakMap]",_="[object DataView]",b=s(t),P=s(e),C=s(n),A=s(r),R=s(i),N=o;return(t&&N(new t(new ArrayBuffer(1)))!=_||e&&N(new e)!=c||n&&N(n.resolve())!=f||r&&N(new r)!=g||i&&N(new i)!=y)&&(N=function(k){var $=o(k),I=$==d?k.constructor:void 0,D=I?s(I):"";if(D)switch(D){case b:return _;case P:return c;case C:return f;case A:return g;case R:return y}return $}),Oy=N,Oy}var ky,NC;function V$(){if(NC)return ky;NC=1;var t=wk(),e=Ck(),n=T$(),r=B$(),i=z$(),o=Jn(),s=Pk(),c=Mk(),d=1,f="[object Arguments]",g="[object Array]",y="[object Object]",_=Object.prototype,b=_.hasOwnProperty;function P(C,A,R,N,k,$){var I=o(C),D=o(A),F=I?g:i(C),U=D?g:i(A);F=F==f?y:F,U=U==f?y:U;var z=F==y,G=U==y,j=F==U;if(j&&s(C)){if(!s(A))return!1;I=!0,z=!1}if(j&&!z)return $||($=new t),I||c(C)?e(C,A,R,N,k,$):n(C,A,F,R,N,k,$);if(!(R&d)){var K=z&&b.call(C,"__wrapped__"),Q=G&&b.call(A,"__wrapped__");if(K||Q){var re=K?C.value():C,ie=Q?A.value():A;return $||($=new t),k(re,ie,R,N,$)}}return j?($||($=new t),r(C,A,R,N,k,$)):!1}return ky=P,ky}var Ny,RC;function Lw(){if(RC)return Ny;RC=1;var t=V$(),e=lo();function n(r,i,o,s,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,c)}return Ny=n,Ny}var Ry,LC;function H$(){if(LC)return Ry;LC=1;var t=wk(),e=Lw(),n=1,r=2;function i(o,s,c,d){var f=c.length,g=f,y=!d;if(o==null)return!g;for(o=Object(o);f--;){var _=c[f];if(y&&_[2]?_[1]!==o[_[0]]:!(_[0]in o))return!1}for(;++f<g;){_=c[f];var b=_[0],P=o[b],C=_[1];if(y&&_[2]){if(P===void 0&&!(b in o))return!1}else{var A=new t;if(d)var R=d(P,C,b,o,s,A);if(!(R===void 0?e(C,P,n|r,d,A):R))return!1}}return!0}return Ry=i,Ry}var Ly,DC;function kk(){if(DC)return Ly;DC=1;var t=aa();function e(n){return n===n&&!t(n)}return Ly=e,Ly}var Dy,$C;function G$(){if($C)return Dy;$C=1;var t=kk(),e=wp();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],c=r[s];i[o]=[s,c,t(c)]}return i}return Dy=n,Dy}var $y,FC;function Nk(){if(FC)return $y;FC=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return $y=t,$y}var Fy,BC;function W$(){if(BC)return Fy;BC=1;var t=H$(),e=G$(),n=Nk();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return Fy=r,Fy}var By,qC;function K$(){if(qC)return By;qC=1;function t(e,n){return e!=null&&n in Object(e)}return By=t,By}var qy,UC;function Z$(){if(UC)return qy;UC=1;var t=YO(),e=kw(),n=Jn(),r=Nw(),i=Rw(),o=mp();function s(c,d,f){d=t(d,c);for(var g=-1,y=d.length,_=!1;++g<y;){var b=o(d[g]);if(!(_=c!=null&&f(c,b)))break;c=c[b]}return _||++g!=y?_:(y=c==null?0:c.length,!!y&&i(y)&&r(b,y)&&(n(c)||e(c)))}return qy=s,qy}var Uy,jC;function J$(){if(jC)return Uy;jC=1;var t=K$(),e=Z$();function n(r,i){return r!=null&&e(r,i,t)}return Uy=n,Uy}var jy,zC;function Y$(){if(zC)return jy;zC=1;var t=Lw(),e=XO(),n=J$(),r=yw(),i=kk(),o=Nk(),s=mp(),c=1,d=2;function f(g,y){return r(g)&&i(y)?o(s(g),y):function(_){var b=e(_,g);return b===void 0&&b===y?n(_,g):t(y,b,c|d)}}return jy=f,jy}var zy,VC;function Xl(){if(VC)return zy;VC=1;function t(e){return e}return zy=t,zy}var Vy,HC;function X$(){if(HC)return Vy;HC=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Vy=t,Vy}var Hy,GC;function Q$(){if(GC)return Hy;GC=1;var t=Tw();function e(n){return function(r){return t(r,n)}}return Hy=e,Hy}var Gy,WC;function eF(){if(WC)return Gy;WC=1;var t=X$(),e=Q$(),n=yw(),r=mp();function i(o){return n(o)?t(r(o)):e(o)}return Gy=i,Gy}var Wy,KC;function bi(){if(KC)return Wy;KC=1;var t=W$(),e=Y$(),n=Xl(),r=Jn(),i=eF();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return Wy=o,Wy}var Ky,ZC;function Rk(){if(ZC)return Ky;ZC=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return Ky=t,Ky}var Zy,JC;function tF(){if(JC)return Zy;JC=1;function t(e){return e!==e}return Zy=t,Zy}var Jy,YC;function nF(){if(YC)return Jy;YC=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return Jy=t,Jy}var Yy,XC;function rF(){if(XC)return Yy;XC=1;var t=Rk(),e=tF(),n=nF();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return Yy=r,Yy}var Xy,QC;function iF(){if(QC)return Xy;QC=1;var t=rF();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Xy=e,Xy}var Qy,eA;function oF(){if(eA)return Qy;eA=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return Qy=t,Qy}var e0,tA;function aF(){if(tA)return e0;tA=1;function t(){}return e0=t,e0}var t0,nA;function sF(){if(nA)return t0;nA=1;var t=Ok(),e=aF(),n=Ow(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return t0=i,t0}var n0,rA;function lF(){if(rA)return n0;rA=1;var t=bk(),e=iF(),n=oF(),r=Tk(),i=sF(),o=Ow(),s=200;function c(d,f,g){var y=-1,_=e,b=d.length,P=!0,C=[],A=C;if(g)P=!1,_=n;else if(b>=s){var R=f?null:i(d);if(R)return o(R);P=!1,_=r,A=new t}else A=f?[]:C;e:for(;++y<b;){var N=d[y],k=f?f(N):N;if(N=g||N!==0?N:0,P&&k===k){for(var $=A.length;$--;)if(A[$]===k)continue e;f&&A.push(k),C.push(N)}else _(A,k,g)||(A!==C&&A.push(k),C.push(N))}return C}return n0=c,n0}var r0,iA;function uF(){if(iA)return r0;iA=1;var t=bi(),e=lF();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return r0=n,r0}var cF=uF();const oA=Tt(cF);function Lk(t,e,n){return e===!0?oA(t,n):Ye(e)?oA(t,e):t}function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}var fF=["ref"];function aA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(n),!0).forEach(function(r){bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$k(r.key),r)}}function hF(t,e,n){return e&&sA(t.prototype,e),n&&sA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pF(t,e,n){return e=mh(e),mF(t,Dk()?Reflect.construct(e,n||[],mh(t).constructor):e.apply(t,n))}function mF(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gF(t)}function gF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dk=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mh(t)}function vF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function bp(t,e,n){return e=$k(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $k(t){var e=yF(t,"string");return xl(e)=="symbol"?e:e+""}function yF(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _F(t,e){if(t==null)return{};var n=xF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wF(t){return t.value}function bF(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=_F(e,fF);return H.createElement(Iw,n)}var lA=1,Ir=function(t){function e(){var n;dF(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=pF(this,e,[].concat(i)),bp(n,"lastBoundingBox",{width:-1,height:-1}),n}return vF(e,t),hF(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>lA||Math.abs(i.height-this.lastBoundingBox.height)>lA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,c=i.verticalAlign,d=i.margin,f=i.chartWidth,g=i.chartHeight,y,_;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();y={left:((f||0)-b.width)/2}}else y=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var P=this.getBBoxSnapshot();_={top:((g||0)-P.height)/2}}else _=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Zi(Zi({},y),_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,c=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,g=i.payload,y=Zi(Zi({position:"absolute",width:s||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return H.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:function(b){r.wrapperNode=b}},bF(o,Zi(Zi({},this.props),{},{payload:Lk(g,f,wF)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Zi(Zi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Se(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(X.PureComponent);bp(Ir,"displayName","Legend");bp(Ir,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var i0,uA;function SF(){if(uA)return i0;uA=1;var t=uf(),e=kw(),n=Jn(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return i0=i,i0}var o0,cA;function Fk(){if(cA)return o0;cA=1;var t=Ak(),e=SF();function n(r,i,o,s,c){var d=-1,f=r.length;for(o||(o=e),c||(c=[]);++d<f;){var g=r[d];i>0&&o(g)?i>1?n(g,i-1,o,s,c):t(c,g):s||(c[c.length]=g)}return c}return o0=n,o0}var a0,fA;function TF(){if(fA)return a0;fA=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),c=i(n),d=c.length;d--;){var f=c[e?d:++o];if(r(s[f],f,s)===!1)break}return n}}return a0=t,a0}var s0,dA;function CF(){if(dA)return s0;dA=1;var t=TF(),e=t();return s0=e,s0}var l0,hA;function Bk(){if(hA)return l0;hA=1;var t=CF(),e=wp();function n(r,i){return r&&t(r,i,e)}return l0=n,l0}var u0,pA;function AF(){if(pA)return u0;pA=1;var t=cf();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,c=r?s:-1,d=Object(i);(r?c--:++c<s)&&o(d[c],c,d)!==!1;);return i}}return u0=e,u0}var c0,mA;function Dw(){if(mA)return c0;mA=1;var t=Bk(),e=AF(),n=e(t);return c0=n,c0}var f0,gA;function qk(){if(gA)return f0;gA=1;var t=Dw(),e=cf();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(c,d,f){s[++o]=i(c,d,f)}),s}return f0=n,f0}var d0,vA;function PF(){if(vA)return d0;vA=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return d0=t,d0}var h0,yA;function EF(){if(yA)return h0;yA=1;var t=Zl();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,c=t(n),d=r!==void 0,f=r===null,g=r===r,y=t(r);if(!f&&!y&&!c&&n>r||c&&d&&g&&!f&&!y||o&&d&&g||!i&&g||!s)return 1;if(!o&&!c&&!y&&n<r||y&&i&&s&&!o&&!c||f&&i&&s||!d&&s||!g)return-1}return 0}return h0=e,h0}var p0,_A;function MF(){if(_A)return p0;_A=1;var t=EF();function e(n,r,i){for(var o=-1,s=n.criteria,c=r.criteria,d=s.length,f=i.length;++o<d;){var g=t(s[o],c[o]);if(g){if(o>=f)return g;var y=i[o];return g*(y=="desc"?-1:1)}}return n.index-r.index}return p0=e,p0}var m0,xA;function IF(){if(xA)return m0;xA=1;var t=Sw(),e=Tw(),n=bi(),r=qk(),i=PF(),o=Ek(),s=MF(),c=Xl(),d=Jn();function f(g,y,_){y.length?y=t(y,function(C){return d(C)?function(A){return e(A,C.length===1?C[0]:C)}:C}):y=[c];var b=-1;y=t(y,o(n));var P=r(g,function(C,A,R){var N=t(y,function(k){return k(C)});return{criteria:N,index:++b,value:C}});return i(P,function(C,A){return s(C,A,_)})}return m0=f,m0}var g0,wA;function OF(){if(wA)return g0;wA=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return g0=t,g0}var v0,bA;function kF(){if(bA)return v0;bA=1;var t=OF(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,c=-1,d=e(s.length-i,0),f=Array(d);++c<d;)f[c]=s[i+c];c=-1;for(var g=Array(i+1);++c<i;)g[c]=s[c];return g[i]=o(f),t(r,this,g)}}return v0=n,v0}var y0,SA;function NF(){if(SA)return y0;SA=1;function t(e){return function(){return e}}return y0=t,y0}var _0,TA;function Uk(){if(TA)return _0;TA=1;var t=is(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return _0=e,_0}var x0,CA;function RF(){if(CA)return x0;CA=1;var t=NF(),e=Uk(),n=Xl(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return x0=r,x0}var w0,AA;function LF(){if(AA)return w0;AA=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var c=n(),d=e-(c-s);if(s=c,d>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return w0=r,w0}var b0,PA;function DF(){if(PA)return b0;PA=1;var t=RF(),e=LF(),n=e(t);return b0=n,b0}var S0,EA;function $F(){if(EA)return S0;EA=1;var t=Xl(),e=kF(),n=DF();function r(i,o){return n(e(i,o,t),i+"")}return S0=r,S0}var T0,MA;function Sp(){if(MA)return T0;MA=1;var t=xw(),e=cf(),n=Nw(),r=aa();function i(o,s,c){if(!r(c))return!1;var d=typeof s;return(d=="number"?e(c)&&n(s,c.length):d=="string"&&s in c)?t(c[s],o):!1}return T0=i,T0}var C0,IA;function FF(){if(IA)return C0;IA=1;var t=Fk(),e=IF(),n=$F(),r=Sp(),i=n(function(o,s){if(o==null)return[];var c=s.length;return c>1&&r(o,s[0],s[1])?s=[]:c>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return C0=i,C0}var BF=FF();const $w=Tt(BF);function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function qF(t,e){return VF(t)||zF(t,e)||jF(t,e)||UF()}function UF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jF(t,e){if(t){if(typeof t=="string")return OA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(t,e)}}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function VF(t){if(Array.isArray(t))return t}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){HF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HF(t,e,n){return e=GF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GF(t){var e=WF(t,"string");return Mc(e)=="symbol"?e:e+""}function WF(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KF(t){return Array.isArray(t)&&un(t[0])&&un(t[1])?t.join(" ~ "):t}var ZF=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,c=s===void 0?{}:s,d=e.labelStyle,f=d===void 0?{}:d,g=e.payload,y=e.formatter,_=e.itemSorter,b=e.wrapperClassName,P=e.labelClassName,C=e.label,A=e.labelFormatter,R=e.accessibilityLayer,N=R===void 0?!1:R,k=function(){if(g&&g.length){var K={padding:0,margin:0},Q=(_?$w(g,_):g).map(function(re,ie){if(re.type==="none")return null;var ae=A0({display:"block",paddingTop:4,paddingBottom:4,color:re.color||"#000"},c),de=re.formatter||y||KF,J=re.value,ce=re.name,ne=J,V=ce;if(de&&ne!=null&&V!=null){var ee=de(J,ce,re,ie,g);if(Array.isArray(ee)){var ve=qF(ee,2);ne=ve[0],V=ve[1]}else ne=ee}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:ae},un(V)?H.createElement("span",{className:"recharts-tooltip-item-name"},V):null,un(V)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},ne),H.createElement("span",{className:"recharts-tooltip-item-unit"},re.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:K},Q)}return null},$=A0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=A0({margin:0},f),D=!Je(C),F=D?C:"",U=at("recharts-default-tooltip",b),z=at("recharts-tooltip-label",P);D&&A&&g!==void 0&&g!==null&&(F=A(C,g));var G=N?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",G_({className:U,style:$},G),H.createElement("p",{className:z,style:I},H.isValidElement(F)?F:"".concat(F)),k())};function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function jd(t,e,n){return e=JF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JF(t){var e=YF(t,"string");return Ic(e)=="symbol"?e:e+""}function YF(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rc="recharts-tooltip-wrapper",XF={visibility:"hidden"};function QF(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(rc,jd(jd(jd(jd({},"".concat(rc,"-right"),Se(n)&&e&&Se(e.x)&&n>=e.x),"".concat(rc,"-left"),Se(n)&&e&&Se(e.x)&&n<e.x),"".concat(rc,"-bottom"),Se(r)&&e&&Se(e.y)&&r>=e.y),"".concat(rc,"-top"),Se(r)&&e&&Se(e.y)&&r<e.y))}function NA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(o&&Se(o[r]))return o[r];var g=n[r]-c-i,y=n[r]+i;if(e[r])return s[r]?g:y;if(s[r]){var _=g,b=d[r];return _<b?Math.max(y,d[r]):Math.max(g,d[r])}var P=y+c,C=d[r]+f;return P>C?Math.max(g,d[r]):Math.max(y,d[r])}function e3(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function t3(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,f,g,y;return s.height>0&&s.width>0&&n?(g=NA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),y=NA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=e3({translateX:g,translateY:y,useTranslate3d:c})):f=XF,{cssProperties:f,cssClasses:QF({translateX:g,translateY:y,coordinate:n})}}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function RA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(n),!0).forEach(function(r){K_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zk(r.key),r)}}function i3(t,e,n){return e&&r3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o3(t,e,n){return e=gh(e),a3(t,jk()?Reflect.construct(e,n||[],gh(t).constructor):e.apply(t,n))}function a3(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s3(t)}function s3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jk=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gh(t)}function l3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function K_(t,e,n){return e=zk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zk(t){var e=u3(t,"string");return wl(e)=="symbol"?e:e+""}function u3(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DA=1,c3=function(t){function e(){var n;n3(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=o3(this,e,[].concat(i)),K_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),K_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var c,d,f,g;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(g=n.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&f!==void 0?f:0}})}}),n}return l3(e,t),i3(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>DA||Math.abs(r.height-this.state.lastBoundingBox.height)>DA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.children,g=i.coordinate,y=i.hasPayload,_=i.isAnimationActive,b=i.offset,P=i.position,C=i.reverseDirection,A=i.useTranslate3d,R=i.viewBox,N=i.wrapperStyle,k=t3({allowEscapeViewBox:s,coordinate:g,offsetTopLeft:b,position:P,reverseDirection:C,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:R}),$=k.cssClasses,I=k.cssProperties,D=LA(LA({transition:_&&o?"transform ".concat(c,"ms ").concat(d):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&y?"visible":"hidden",position:"absolute",top:0,left:0},N);return H.createElement("div",{tabIndex:-1,className:$,style:D,ref:function(U){r.wrapperNode=U}},f)}}])}(X.PureComponent),f3=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uo={isSsr:f3()};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){Fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hk(r.key),r)}}function p3(t,e,n){return e&&h3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m3(t,e,n){return e=vh(e),g3(t,Vk()?Reflect.construct(e,n||[],vh(t).constructor):e.apply(t,n))}function g3(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v3(t)}function v3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vk=function(){return!!t})()}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vh(t)}function y3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function Fw(t,e,n){return e=Hk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hk(t){var e=_3(t,"string");return bl(e)=="symbol"?e:e+""}function _3(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function x3(t){return t.dataKey}function w3(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(ZF,e)}var Dn=function(t){function e(){return d3(this,e),m3(this,e,arguments)}return y3(e,t),p3(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.content,g=i.coordinate,y=i.filterNull,_=i.isAnimationActive,b=i.offset,P=i.payload,C=i.payloadUniqBy,A=i.position,R=i.reverseDirection,N=i.useTranslate3d,k=i.viewBox,$=i.wrapperStyle,I=P??[];y&&I.length&&(I=Lk(P.filter(function(F){return F.value!=null&&(F.hide!==!0||r.props.includeHidden)}),C,x3));var D=I.length>0;return H.createElement(c3,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:_,active:o,coordinate:g,hasPayload:D,offset:b,position:A,reverseDirection:R,useTranslate3d:N,viewBox:k,wrapperStyle:$},w3(f,FA(FA({},this.props),{},{payload:I})))}}])}(X.PureComponent);Fw(Dn,"displayName","Tooltip");Fw(Dn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var P0,BA;function b3(){if(BA)return P0;BA=1;var t=wi(),e=function(){return t.Date.now()};return P0=e,P0}var E0,qA;function S3(){if(qA)return E0;qA=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return E0=e,E0}var M0,UA;function T3(){if(UA)return M0;UA=1;var t=S3(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return M0=n,M0}var I0,jA;function Gk(){if(jA)return I0;jA=1;var t=T3(),e=aa(),n=Zl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=e(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=t(f);var y=o.test(f);return y||s.test(f)?c(f.slice(2),y?2:8):i.test(f)?r:+f}return I0=d,I0}var O0,zA;function C3(){if(zA)return O0;zA=1;var t=aa(),e=b3(),n=Gk(),r="Expected a function",i=Math.max,o=Math.min;function s(c,d,f){var g,y,_,b,P,C,A=0,R=!1,N=!1,k=!0;if(typeof c!="function")throw new TypeError(r);d=n(d)||0,t(f)&&(R=!!f.leading,N="maxWait"in f,_=N?i(n(f.maxWait)||0,d):_,k="trailing"in f?!!f.trailing:k);function $(Q){var re=g,ie=y;return g=y=void 0,A=Q,b=c.apply(ie,re),b}function I(Q){return A=Q,P=setTimeout(U,d),R?$(Q):b}function D(Q){var re=Q-C,ie=Q-A,ae=d-re;return N?o(ae,_-ie):ae}function F(Q){var re=Q-C,ie=Q-A;return C===void 0||re>=d||re<0||N&&ie>=_}function U(){var Q=e();if(F(Q))return z(Q);P=setTimeout(U,D(Q))}function z(Q){return P=void 0,k&&g?$(Q):(g=y=void 0,b)}function G(){P!==void 0&&clearTimeout(P),A=0,g=C=y=P=void 0}function j(){return P===void 0?b:z(e())}function K(){var Q=e(),re=F(Q);if(g=arguments,y=this,C=Q,re){if(P===void 0)return I(C);if(N)return clearTimeout(P),P=setTimeout(U,d),$(C)}return P===void 0&&(P=setTimeout(U,d)),b}return K.cancel=G,K.flush=j,K}return O0=s,O0}var k0,VA;function A3(){if(VA)return k0;VA=1;var t=C3(),e=aa(),n="Expected a function";function r(i,o,s){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(c="leading"in s?!!s.leading:c,d="trailing"in s?!!s.trailing:d),t(i,o,{leading:c,maxWait:o,trailing:d})}return k0=r,k0}var P3=A3();const Wk=Tt(P3);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){E3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E3(t,e,n){return e=M3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M3(t){var e=I3(t,"string");return Oc(e)=="symbol"?e:e+""}function I3(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O3(t,e){return L3(t)||R3(t,e)||N3(t,e)||k3()}function k3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3(t,e){if(t){if(typeof t=="string")return GA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(t,e)}}function GA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function L3(t){if(Array.isArray(t))return t}var Qs=X.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,c=t.height,d=c===void 0?"100%":c,f=t.minWidth,g=f===void 0?0:f,y=t.minHeight,_=t.maxHeight,b=t.children,P=t.debounce,C=P===void 0?0:P,A=t.id,R=t.className,N=t.onResize,k=t.style,$=k===void 0?{}:k,I=X.useRef(null),D=X.useRef();D.current=N,X.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var F=X.useState({containerWidth:i.width,containerHeight:i.height}),U=O3(F,2),z=U[0],G=U[1],j=X.useCallback(function(Q,re){G(function(ie){var ae=Math.round(Q),de=Math.round(re);return ie.containerWidth===ae&&ie.containerHeight===de?ie:{containerWidth:ae,containerHeight:de}})},[]);X.useEffect(function(){var Q=function(ce){var ne,V=ce[0].contentRect,ee=V.width,ve=V.height;j(ee,ve),(ne=D.current)===null||ne===void 0||ne.call(D,ee,ve)};C>0&&(Q=Wk(Q,C,{trailing:!0,leading:!1}));var re=new ResizeObserver(Q),ie=I.current.getBoundingClientRect(),ae=ie.width,de=ie.height;return j(ae,de),re.observe(I.current),function(){re.disconnect()}},[j,C]);var K=X.useMemo(function(){var Q=z.containerWidth,re=z.containerHeight;if(Q<0||re<0)return null;ei(Ha(s)||Ha(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ie=Ha(s)?Q:s,ae=Ha(d)?re:d;n&&n>0&&(ie?ae=ie/n:ae&&(ie=ae*n),_&&ae>_&&(ae=_)),ei(ie>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ie,ae,s,d,g,y,n);var de=!Array.isArray(b)&&eo(b.type).endsWith("Chart");return H.Children.map(b,function(J){return H.isValidElement(J)?X.cloneElement(J,zd({width:ie,height:ae},de?{style:zd({height:"100%",width:"100%",maxHeight:ae,maxWidth:ie},J.props.style)}:{})):J})},[n,b,d,_,y,g,z,s]);return H.createElement("div",{id:A?"".concat(A):void 0,className:at("recharts-responsive-container",R),style:zd(zd({},$),{},{width:s,height:d,minWidth:g,minHeight:y,maxHeight:_}),ref:I},K)}),ff=function(e){return null};ff.displayName="Cell";function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){D3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D3(t,e,n){return e=$3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $3(t){var e=F3(t,"string");return kc(e)=="symbol"?e:e+""}function F3(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var el={widthCache:{},cacheCount:0},B3=2e3,q3={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KA="recharts_measurement_span";function U3(t){var e=J_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var vc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uo.isSsr)return{width:0,height:0};var r=U3(n),i=JSON.stringify({text:e,copyStyle:r});if(el.widthCache[i])return el.widthCache[i];try{var o=document.getElementById(KA);o||(o=document.createElement("span"),o.setAttribute("id",KA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=J_(J_({},q3),r);Object.assign(o.style,s),o.textContent="".concat(e);var c=o.getBoundingClientRect(),d={width:c.width,height:c.height};return el.widthCache[i]=d,++el.cacheCount>B3&&(el.cacheCount=0,el.widthCache={}),d}catch{return{width:0,height:0}}},j3=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function yh(t,e){return G3(t)||H3(t,e)||V3(t,e)||z3()}function z3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V3(t,e){if(t){if(typeof t=="string")return ZA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(t,e)}}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function G3(t){if(Array.isArray(t))return t}function W3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z3(r.key),r)}}function K3(t,e,n){return e&&JA(t.prototype,e),n&&JA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z3(t){var e=J3(t,"string");return Nc(e)=="symbol"?e:e+""}function J3(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y3=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,X3=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Q3=Object.keys(Kk),ol="NaN";function e7(t,e){return t*Kk[e]}var Vd=function(){function t(e,n){W3(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Y3.test(n)&&(this.num=NaN,this.unit=""),Q3.includes(n)&&(this.num=e7(e,n),this.unit="px")}return K3(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=X3.exec(n))!==null&&r!==void 0?r:[],o=yh(i,3),s=o[1],c=o[2];return new t(parseFloat(s),c??"")}}])}();function Zk(t){if(t.includes(ol))return ol;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=YA.exec(e))!==null&&n!==void 0?n:[],i=yh(r,4),o=i[1],s=i[2],c=i[3],d=Vd.parse(o??""),f=Vd.parse(c??""),g=s==="*"?d.multiply(f):d.divide(f);if(g.isNaN())return ol;e=e.replace(YA,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var y,_=(y=XA.exec(e))!==null&&y!==void 0?y:[],b=yh(_,4),P=b[1],C=b[2],A=b[3],R=Vd.parse(P??""),N=Vd.parse(A??""),k=C==="+"?R.add(N):R.subtract(N);if(k.isNaN())return ol;e=e.replace(XA,k.toString())}return e}var QA=/\(([^()]*)\)/;function t7(t){for(var e=t;e.includes("(");){var n=QA.exec(e),r=yh(n,2),i=r[1];e=e.replace(QA,Zk(i))}return e}function n7(t){var e=t.replace(/\s+/g,"");return e=t7(e),e=Zk(e),e}function r7(t){try{return n7(t)}catch{return ol}}function N0(t){var e=r7(t.slice(5,-1));return e===ol?"":e}var i7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o7=["dx","dy","angle","className","breakAll"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function eP(t,e){if(t==null)return{};var n=a7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tP(t,e){return c7(t)||u7(t,e)||l7(t,e)||s7()}function s7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7(t,e){if(t){if(typeof t=="string")return nP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(t,e)}}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function c7(t){if(Array.isArray(t))return t}var Jk=/[ \f\n\r\t\v\u2028\u2029]+/,Yk=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Je(n)||(r?o=n.toString().split(""):o=n.toString().split(Jk));var s=o.map(function(d){return{word:d,width:vc(d,i).width}}),c=r?0:vc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},f7=function(e,n,r,i,o){var s=e.maxLines,c=e.children,d=e.style,f=e.breakAll,g=Se(s),y=c,_=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ie.reduce(function(ae,de){var J=de.word,ce=de.width,ne=ae[ae.length-1];if(ne&&(i==null||o||ne.width+ce+r<Number(i)))ne.words.push(J),ne.width+=ce+r;else{var V={words:[J],width:ce};ae.push(V)}return ae},[])},b=_(n),P=function(ie){return ie.reduce(function(ae,de){return ae.width>de.width?ae:de})};if(!g)return b;for(var C="",A=function(ie){var ae=y.slice(0,ie),de=Yk({breakAll:f,style:d,children:ae+C}).wordsWithComputedWidth,J=_(de),ce=J.length>s||P(J).width>Number(i);return[ce,J]},R=0,N=y.length-1,k=0,$;R<=N&&k<=y.length-1;){var I=Math.floor((R+N)/2),D=I-1,F=A(D),U=tP(F,2),z=U[0],G=U[1],j=A(I),K=tP(j,1),Q=K[0];if(!z&&!Q&&(R=I+1),z&&Q&&(N=I-1),!z&&Q){$=G;break}k++}return $||b},rP=function(e){var n=Je(e)?[]:e.toString().split(Jk);return[{words:n}]},d7=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,c=e.maxLines;if((n||r)&&!uo.isSsr){var d,f,g=Yk({breakAll:s,children:i,style:o});if(g){var y=g.wordsWithComputedWidth,_=g.spaceWidth;d=y,f=_}else return rP(i);return f7({breakAll:s,children:i,maxLines:c,style:o},d,f,n,r)}return rP(i)},iP="#808080",Qa=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,c=s===void 0?"1em":s,d=e.capHeight,f=d===void 0?"0.71em":d,g=e.scaleToFit,y=g===void 0?!1:g,_=e.textAnchor,b=_===void 0?"start":_,P=e.verticalAnchor,C=P===void 0?"end":P,A=e.fill,R=A===void 0?iP:A,N=eP(e,i7),k=X.useMemo(function(){return d7({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:y,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,y,N.style,N.width]),$=N.dx,I=N.dy,D=N.angle,F=N.className,U=N.breakAll,z=eP(N,o7);if(!un(r)||!un(o))return null;var G=r+(Se($)?$:0),j=o+(Se(I)?I:0),K;switch(C){case"start":K=N0("calc(".concat(f,")"));break;case"middle":K=N0("calc(".concat((k.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:K=N0("calc(".concat(k.length-1," * -").concat(c,")"));break}var Q=[];if(y){var re=k[0].width,ie=N.width;Q.push("scale(".concat((Se(ie)?ie/re:1)/re,")"))}return D&&Q.push("rotate(".concat(D,", ").concat(G,", ").concat(j,")")),Q.length&&(z.transform=Q.join(" ")),H.createElement("text",Y_({},qe(z,!0),{x:G,y:j,className:at("recharts-text",F),textAnchor:b,fill:R.includes("url")?iP:R}),k.map(function(ae,de){var J=ae.words.join(U?"":" ");return H.createElement("tspan",{x:G,dy:de===0?K:c,key:"".concat(J,"-").concat(de)},J)}))};function ta(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function h7(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bw(t){let e,n,r;t.length!==2?(e=ta,n=(c,d)=>ta(t(c),d),r=(c,d)=>t(c)-d):(e=t===ta||t===h7?t:p7,n=t,r=t);function i(c,d,f=0,g=c.length){if(f<g){if(e(d,d)!==0)return g;do{const y=f+g>>>1;n(c[y],d)<0?f=y+1:g=y}while(f<g)}return f}function o(c,d,f=0,g=c.length){if(f<g){if(e(d,d)!==0)return g;do{const y=f+g>>>1;n(c[y],d)<=0?f=y+1:g=y}while(f<g)}return f}function s(c,d,f=0,g=c.length){const y=i(c,d,f,g-1);return y>f&&r(c[y-1],d)>-r(c[y],d)?y-1:y}return{left:i,center:s,right:o}}function p7(){return 0}function Xk(t){return t===null?NaN:+t}function*m7(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const g7=Bw(ta),df=g7.right;Bw(Xk).center;class oP extends Map{constructor(e,n=_7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(aP(this,e))}has(e){return super.has(aP(this,e))}set(e,n){return super.set(v7(this,e),n)}delete(e){return super.delete(y7(this,e))}}function aP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function v7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function y7({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function _7(t){return t!==null&&typeof t=="object"?t.valueOf():t}function x7(t=ta){if(t===ta)return Qk;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Qk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const w7=Math.sqrt(50),b7=Math.sqrt(10),S7=Math.sqrt(2);function _h(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=w7?10:o>=b7?5:o>=S7?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*s,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?_h(t,e,n*2):[c,d,f]}function X_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?_h(e,t,n):_h(t,e,n);if(!(o>=i))return[];const c=o-i+1,d=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)d[f]=(o-f)/-s;else for(let f=0;f<c;++f)d[f]=(o-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(i+f)/-s;else for(let f=0;f<c;++f)d[f]=(i+f)*s;return d}function Q_(t,e,n){return e=+e,t=+t,n=+n,_h(t,e,n)[2]}function ex(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Q_(e,t,n):Q_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function e2(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Qk:x7(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,g=Math.log(d),y=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*y*(d-y)/d)*(f-d/2<0?-1:1),b=Math.max(n,Math.floor(e-f*y/d+_)),P=Math.min(r,Math.floor(e+(d-f)*y/d+_));e2(t,e,b,P,i)}const o=t[e];let s=n,c=r;for(ic(t,n,e),i(t[r],o)>0&&ic(t,n,r);s<c;){for(ic(t,s,c),++s,--c;i(t[s],o)<0;)++s;for(;i(t[c],o)>0;)--c}i(t[n],o)===0?ic(t,n,c):(++c,ic(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function ic(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function T7(t,e,n){if(t=Float64Array.from(m7(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return lP(t);if(e>=1)return sP(t);var r,i=(r-1)*e,o=Math.floor(i),s=sP(e2(t,o).subarray(0,o+1)),c=lP(t.subarray(o+1));return s+(c-s)*(i-o)}}function C7(t,e,n=Xk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return s+(c-s)*(i-o)}}function A7(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Dr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function co(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tx=Symbol("implicit");function qw(){var t=new oP,e=[],n=[],r=tx;function i(o){let s=t.get(o);if(s===void 0){if(r!==tx)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new oP;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qw(e,n).unknown(r)},Dr.apply(i,arguments),i}function Rc(){var t=qw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,c=!1,d=0,f=0,g=.5;delete t.unknown;function y(){var _=e().length,b=i<r,P=b?i:r,C=b?r:i;o=(C-P)/Math.max(1,_-d+f*2),c&&(o=Math.floor(o)),P+=(C-P-o*(_-d))*g,s=o*(1-d),c&&(P=Math.round(P),s=Math.round(s));var A=A7(_).map(function(R){return P+o*R});return n(b?A.reverse():A)}return t.domain=function(_){return arguments.length?(e(_),y()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,y()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,c=!0,y()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(_){return arguments.length?(c=!!_,y()):c},t.padding=function(_){return arguments.length?(d=Math.min(1,f=+_),y()):d},t.paddingInner=function(_){return arguments.length?(d=Math.min(1,_),y()):d},t.paddingOuter=function(_){return arguments.length?(f=+_,y()):f},t.align=function(_){return arguments.length?(g=Math.max(0,Math.min(1,_)),y()):g},t.copy=function(){return Rc(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(g)},Dr.apply(y(),arguments)}function t2(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return t2(e())},t}function yc(){return t2(Rc.apply(null,arguments).paddingInner(1))}function Uw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hf(){}var Lc=.7,xh=1/Lc,dl="\\s*([+-]?\\d+)\\s*",Dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P7=/^#([0-9a-f]{3,8})$/,E7=new RegExp(`^rgb\\(${dl},${dl},${dl}\\)$`),M7=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),I7=new RegExp(`^rgba\\(${dl},${dl},${dl},${Dc}\\)$`),O7=new RegExp(`^rgba\\(${yi},${yi},${yi},${Dc}\\)$`),k7=new RegExp(`^hsl\\(${Dc},${yi},${yi}\\)$`),N7=new RegExp(`^hsla\\(${Dc},${yi},${yi},${Dc}\\)$`),uP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uw(hf,$c,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cP,formatHex:cP,formatHex8:R7,formatHsl:L7,formatRgb:fP,toString:fP});function cP(){return this.rgb().formatHex()}function R7(){return this.rgb().formatHex8()}function L7(){return r2(this).formatHsl()}function fP(){return this.rgb().formatRgb()}function $c(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=P7.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dP(e):n===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Hd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Hd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=E7.exec(t))?new Zn(e[1],e[2],e[3],1):(e=M7.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=I7.exec(t))?Hd(e[1],e[2],e[3],e[4]):(e=O7.exec(t))?Hd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=k7.exec(t))?mP(e[1],e[2]/100,e[3]/100,1):(e=N7.exec(t))?mP(e[1],e[2]/100,e[3]/100,e[4]):uP.hasOwnProperty(t)?dP(uP[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function dP(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function Hd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zn(t,e,n,r)}function D7(t){return t instanceof hf||(t=$c(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function nx(t,e,n,r){return arguments.length===1?D7(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Uw(Zn,nx,n2(hf,{brighter(t){return t=t==null?xh:Math.pow(xh,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lc:Math.pow(Lc,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(Ja(this.r),Ja(this.g),Ja(this.b),wh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hP,formatHex:hP,formatHex8:$7,formatRgb:pP,toString:pP}));function hP(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}`}function $7(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}${Ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function pP(){const t=wh(this.opacity);return`${t===1?"rgb(":"rgba("}${Ja(this.r)}, ${Ja(this.g)}, ${Ja(this.b)}${t===1?")":`, ${t})`}`}function wh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ja(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ga(t){return t=Ja(t),(t<16?"0":"")+t.toString(16)}function mP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yr(t,e,n,r)}function r2(t){if(t instanceof Yr)return new Yr(t.h,t.s,t.l,t.opacity);if(t instanceof hf||(t=$c(t)),!t)return new Yr;if(t instanceof Yr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,c=o-i,d=(o+i)/2;return c?(e===o?s=(n-r)/c+(n<r)*6:n===o?s=(r-e)/c+2:s=(e-n)/c+4,c/=d<.5?o+i:2-o-i,s*=60):c=d>0&&d<1?0:s,new Yr(s,c,d,t.opacity)}function F7(t,e,n,r){return arguments.length===1?r2(t):new Yr(t,e,n,r??1)}function Yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Uw(Yr,F7,n2(hf,{brighter(t){return t=t==null?xh:Math.pow(xh,t),new Yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lc:Math.pow(Lc,t),new Yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zn(R0(t>=240?t-240:t+120,i,r),R0(t,i,r),R0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Yr(gP(this.h),Gd(this.s),Gd(this.l),wh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wh(this.opacity);return`${t===1?"hsl(":"hsla("}${gP(this.h)}, ${Gd(this.s)*100}%, ${Gd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gP(t){return t=(t||0)%360,t<0?t+360:t}function Gd(t){return Math.max(0,Math.min(1,t||0))}function R0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jw=t=>()=>t;function B7(t,e){return function(n){return t+n*e}}function q7(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function U7(t){return(t=+t)==1?i2:function(e,n){return n-e?q7(e,n,t):jw(isNaN(e)?n:e)}}function i2(t,e){var n=e-t;return n?B7(t,n):jw(isNaN(t)?e:t)}const vP=function t(e){var n=U7(e);function r(i,o){var s=n((i=nx(i)).r,(o=nx(o)).r),c=n(i.g,o.g),d=n(i.b,o.b),f=i2(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=c(g),i.b=d(g),i.opacity=f(g),i+""}}return r.gamma=t,r}(1);function j7(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function z7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function V7(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ql(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(c){for(s=0;s<r;++s)o[s]=i[s](c);return o}}function H7(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function G7(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ql(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var rx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L0=new RegExp(rx.source,"g");function W7(t){return function(){return t}}function K7(t){return function(e){return t(e)+""}}function Z7(t,e){var n=rx.lastIndex=L0.lastIndex=0,r,i,o,s=-1,c=[],d=[];for(t=t+"",e=e+"";(r=rx.exec(t))&&(i=L0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[s]?c[s]+=o:c[++s]=o),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:bh(r,i)})),n=L0.lastIndex;return n<e.length&&(o=e.slice(n),c[s]?c[s]+=o:c[++s]=o),c.length<2?d[0]?K7(d[0].x):W7(e):(e=d.length,function(f){for(var g=0,y;g<e;++g)c[(y=d[g]).i]=y.x(f);return c.join("")})}function Ql(t,e){var n=typeof e,r;return e==null||n==="boolean"?jw(e):(n==="number"?bh:n==="string"?(r=$c(e))?(e=r,vP):Z7:e instanceof $c?vP:e instanceof Date?H7:z7(e)?j7:Array.isArray(e)?V7:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?G7:bh)(t,e)}function zw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function J7(t,e){e===void 0&&(e=t,t=Ql);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[c](s-c)}}function Y7(t){return function(){return t}}function Sh(t){return+t}var yP=[0,1];function Bn(t){return t}function ix(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Y7(isNaN(e)?NaN:.5)}function X7(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Q7(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=ix(i,r),o=n(s,o)):(r=ix(r,i),o=n(o,s)),function(c){return o(r(c))}}function eB(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=ix(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(c){var d=df(t,c,1,r)-1;return o[d](i[d](c))}}function pf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tp(){var t=yP,e=yP,n=Ql,r,i,o,s=Bn,c,d,f;function g(){var _=Math.min(t.length,e.length);return s!==Bn&&(s=X7(t[0],t[_-1])),c=_>2?eB:Q7,d=f=null,y}function y(_){return _==null||isNaN(_=+_)?o:(d||(d=c(t.map(r),e,n)))(r(s(_)))}return y.invert=function(_){return s(i((f||(f=c(e,t.map(r),bh)))(_)))},y.domain=function(_){return arguments.length?(t=Array.from(_,Sh),g()):t.slice()},y.range=function(_){return arguments.length?(e=Array.from(_),g()):e.slice()},y.rangeRound=function(_){return e=Array.from(_),n=zw,g()},y.clamp=function(_){return arguments.length?(s=_?!0:Bn,g()):s!==Bn},y.interpolate=function(_){return arguments.length?(n=_,g()):n},y.unknown=function(_){return arguments.length?(o=_,y):o},function(_,b){return r=_,i=b,g()}}function Vw(){return Tp()(Bn,Bn)}function tB(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Th(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sl(t){return t=Th(Math.abs(t)),t?t[1]:NaN}function nB(t,e){return function(n,r){for(var i=n.length,o=[],s=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),o.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[s=(s+1)%t.length];return o.reverse().join(e)}}function rB(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var iB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fc(t){if(!(e=iB.exec(t)))throw new Error("invalid format: "+t);var e;return new Hw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fc.prototype=Hw.prototype;function Hw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Hw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oB(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var o2;function aB(t,e){var n=Th(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(o2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Th(t,Math.max(0,e+o-1))[0]}function _P(t,e){var n=Th(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tB,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_P(t*100,e),r:_P,s:aB,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wP(t){return t}var bP=Array.prototype.map,SP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sB(t){var e=t.grouping===void 0||t.thousands===void 0?wP:nB(bP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?wP:rB(bP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(y){y=Fc(y);var _=y.fill,b=y.align,P=y.sign,C=y.symbol,A=y.zero,R=y.width,N=y.comma,k=y.precision,$=y.trim,I=y.type;I==="n"?(N=!0,I="g"):xP[I]||(k===void 0&&(k=12),$=!0,I="g"),(A||_==="0"&&b==="=")&&(A=!0,_="0",b="=");var D=C==="$"?n:C==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",F=C==="$"?r:/[%p]/.test(I)?s:"",U=xP[I],z=/[defgprs%]/.test(I);k=k===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function G(j){var K=D,Q=F,re,ie,ae;if(I==="c")Q=U(j)+Q,j="";else{j=+j;var de=j<0||1/j<0;if(j=isNaN(j)?d:U(Math.abs(j),k),$&&(j=oB(j)),de&&+j==0&&P!=="+"&&(de=!1),K=(de?P==="("?P:c:P==="-"||P==="("?"":P)+K,Q=(I==="s"?SP[8+o2/3]:"")+Q+(de&&P==="("?")":""),z){for(re=-1,ie=j.length;++re<ie;)if(ae=j.charCodeAt(re),48>ae||ae>57){Q=(ae===46?i+j.slice(re+1):j.slice(re))+Q,j=j.slice(0,re);break}}}N&&!A&&(j=e(j,1/0));var J=K.length+j.length+Q.length,ce=J<R?new Array(R-J+1).join(_):"";switch(N&&A&&(j=e(ce+j,ce.length?R-Q.length:1/0),ce=""),b){case"<":j=K+j+Q+ce;break;case"=":j=K+ce+j+Q;break;case"^":j=ce.slice(0,J=ce.length>>1)+K+j+Q+ce.slice(J);break;default:j=ce+K+j+Q;break}return o(j)}return G.toString=function(){return y+""},G}function g(y,_){var b=f((y=Fc(y),y.type="f",y)),P=Math.max(-8,Math.min(8,Math.floor(Sl(_)/3)))*3,C=Math.pow(10,-P),A=SP[8+P/3];return function(R){return b(C*R)+A}}return{format:f,formatPrefix:g}}var Wd,Gw,a2;lB({thousands:",",grouping:[3],currency:["$",""]});function lB(t){return Wd=sB(t),Gw=Wd.format,a2=Wd.formatPrefix,Wd}function uB(t){return Math.max(0,-Sl(Math.abs(t)))}function cB(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sl(e)/3)))*3-Sl(Math.abs(t)))}function fB(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sl(e)-Sl(t))+1}function s2(t,e,n,r){var i=ex(t,e,n),o;switch(r=Fc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=cB(i,s))&&(r.precision=o),a2(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=fB(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=uB(i))&&(r.precision=o-(r.type==="%")*2);break}}return Gw(r)}function la(t){var e=t.domain;return t.ticks=function(n){var r=e();return X_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return s2(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],c=r[o],d,f,g=10;for(c<s&&(f=s,s=c,c=f,f=i,i=o,o=f);g-- >0;){if(f=Q_(s,c,n),f===d)return r[i]=s,r[o]=c,e(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function Ch(){var t=Vw();return t.copy=function(){return pf(t,Ch())},Dr.apply(t,arguments),la(t)}function l2(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return l2(t).unknown(e)},t=arguments.length?Array.from(t,Sh):[0,1],la(n)}function u2(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function TP(t){return Math.log(t)}function CP(t){return Math.exp(t)}function dB(t){return-Math.log(-t)}function hB(t){return-Math.exp(-t)}function pB(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mB(t){return t===10?pB:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gB(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function AP(t){return(e,n)=>-t(-e,n)}function Ww(t){const e=t(TP,CP),n=e.domain;let r=10,i,o;function s(){return i=gB(r),o=mB(r),n()[0]<0?(i=AP(i),o=AP(o),t(dB,hB)):t(TP,CP),e}return e.base=function(c){return arguments.length?(r=+c,s()):r},e.domain=function(c){return arguments.length?(n(c),s()):n()},e.ticks=c=>{const d=n();let f=d[0],g=d[d.length-1];const y=g<f;y&&([f,g]=[g,f]);let _=i(f),b=i(g),P,C;const A=c==null?10:+c;let R=[];if(!(r%1)&&b-_<A){if(_=Math.floor(_),b=Math.ceil(b),f>0){for(;_<=b;++_)for(P=1;P<r;++P)if(C=_<0?P/o(-_):P*o(_),!(C<f)){if(C>g)break;R.push(C)}}else for(;_<=b;++_)for(P=r-1;P>=1;--P)if(C=_>0?P/o(-_):P*o(_),!(C<f)){if(C>g)break;R.push(C)}R.length*2<A&&(R=X_(f,g,A))}else R=X_(_,b,Math.min(b-_,A)).map(o);return y?R.reverse():R},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Fc(d)).precision==null&&(d.trim=!0),d=Gw(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return g=>{let y=g/o(Math.round(i(g)));return y*r<r-.5&&(y*=r),y<=f?d(g):""}},e.nice=()=>n(u2(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),e}function c2(){const t=Ww(Tp()).domain([1,10]);return t.copy=()=>pf(t,c2()).base(t.base()),Dr.apply(t,arguments),t}function PP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function EP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Kw(t){var e=1,n=t(PP(e),EP(e));return n.constant=function(r){return arguments.length?t(PP(e=+r),EP(e)):e},la(n)}function f2(){var t=Kw(Tp());return t.copy=function(){return pf(t,f2()).constant(t.constant())},Dr.apply(t,arguments)}function MP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vB(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yB(t){return t<0?-t*t:t*t}function Zw(t){var e=t(Bn,Bn),n=1;function r(){return n===1?t(Bn,Bn):n===.5?t(vB,yB):t(MP(n),MP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},la(e)}function Jw(){var t=Zw(Tp());return t.copy=function(){return pf(t,Jw()).exponent(t.exponent())},Dr.apply(t,arguments),t}function _B(){return Jw.apply(null,arguments).exponent(.5)}function IP(t){return Math.sign(t)*t*t}function xB(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function d2(){var t=Vw(),e=[0,1],n=!1,r;function i(o){var s=xB(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(IP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Sh)).map(IP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return d2(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Dr.apply(i,arguments),la(i)}function h2(){var t=[],e=[],n=[],r;function i(){var s=0,c=Math.max(1,e.length);for(n=new Array(c-1);++s<c;)n[s-1]=C7(t,s/c);return o}function o(s){return s==null||isNaN(s=+s)?r:e[df(n,s)]}return o.invertExtent=function(s){var c=e.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let c of s)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(ta),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return h2().domain(t).range(e).unknown(r)},Dr.apply(o,arguments)}function p2(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(d){return d!=null&&d<=d?i[df(r,d,0,n)]:o}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return s}return s.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},s.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(d){return arguments.length&&(o=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return p2().domain([t,e]).range(i).unknown(o)},Dr.apply(la(s),arguments)}function m2(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[df(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return m2().domain(t).range(e).unknown(n)},Dr.apply(i,arguments)}const D0=new Date,$0=new Date;function cn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),c=i.ceil(o);return o-s<c-o?s:c},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,c)=>{const d=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<s)||!(c>0))return d;let f;do d.push(f=new Date(+o)),e(o,c),t(o);while(f<o&&o<s);return d},i.filter=o=>cn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;e(s,-1),!o(s););else for(;--c>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(D0.setTime(+o),$0.setTime(+s),t(D0),t($0),Math.floor(n(D0,$0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Ah=cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ah.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ah);Ah.range;const Yi=1e3,kr=Yi*60,Xi=kr*60,ro=Xi*24,Yw=ro*7,OP=ro*30,F0=ro*365,Wa=cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getUTCSeconds());Wa.range;const Xw=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yi)},(t,e)=>{t.setTime(+t+e*kr)},(t,e)=>(e-t)/kr,t=>t.getMinutes());Xw.range;const Qw=cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*kr)},(t,e)=>(e-t)/kr,t=>t.getUTCMinutes());Qw.range;const eb=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yi-t.getMinutes()*kr)},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getHours());eb.range;const tb=cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCHours());tb.range;const mf=cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kr)/ro,t=>t.getDate()-1);mf.range;const Cp=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>t.getUTCDate()-1);Cp.range;const g2=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>Math.floor(t/ro));g2.range;function os(t){return cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*kr)/Yw)}const Ap=os(0),Ph=os(1),wB=os(2),bB=os(3),Tl=os(4),SB=os(5),TB=os(6);Ap.range;Ph.range;wB.range;bB.range;Tl.range;SB.range;TB.range;function as(t){return cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Yw)}const Pp=as(0),Eh=as(1),CB=as(2),AB=as(3),Cl=as(4),PB=as(5),EB=as(6);Pp.range;Eh.range;CB.range;AB.range;Cl.range;PB.range;EB.range;const nb=cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nb.range;const rb=cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rb.range;const io=cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});io.range;const oo=cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oo.range;function v2(t,e,n,r,i,o){const s=[[Wa,1,Yi],[Wa,5,5*Yi],[Wa,15,15*Yi],[Wa,30,30*Yi],[o,1,kr],[o,5,5*kr],[o,15,15*kr],[o,30,30*kr],[i,1,Xi],[i,3,3*Xi],[i,6,6*Xi],[i,12,12*Xi],[r,1,ro],[r,2,2*ro],[n,1,Yw],[e,1,OP],[e,3,3*OP],[t,1,F0]];function c(f,g,y){const _=g<f;_&&([f,g]=[g,f]);const b=y&&typeof y.range=="function"?y:d(f,g,y),P=b?b.range(f,+g+1):[];return _?P.reverse():P}function d(f,g,y){const _=Math.abs(g-f)/y,b=Bw(([,,A])=>A).right(s,_);if(b===s.length)return t.every(ex(f/F0,g/F0,y));if(b===0)return Ah.every(Math.max(ex(f,g,y),1));const[P,C]=s[_/s[b-1][2]<s[b][2]/_?b-1:b];return P.every(C)}return[c,d]}const[MB,IB]=v2(oo,rb,Pp,g2,tb,Qw),[OB,kB]=v2(io,nb,Ap,mf,eb,Xw);function B0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function q0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function oc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function NB(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,c=t.months,d=t.shortMonths,f=ac(i),g=sc(i),y=ac(o),_=sc(o),b=ac(s),P=sc(s),C=ac(c),A=sc(c),R=ac(d),N=sc(d),k={a:de,A:J,b:ce,B:ne,c:null,d:$P,e:$P,f:n4,g:d4,G:p4,H:QB,I:e4,j:t4,L:y2,m:r4,M:i4,p:V,q:ee,Q:qP,s:UP,S:o4,u:a4,U:s4,V:l4,w:u4,W:c4,x:null,X:null,y:f4,Y:h4,Z:m4,"%":BP},$={a:ve,A:Ce,b:le,B:pe,c:null,d:FP,e:FP,f:_4,g:M4,G:O4,H:g4,I:v4,j:y4,L:x2,m:x4,M:w4,p:Le,q:Oe,Q:qP,s:UP,S:b4,u:S4,U:T4,V:C4,w:A4,W:P4,x:null,X:null,y:E4,Y:I4,Z:k4,"%":BP},I={a:G,A:j,b:K,B:Q,c:re,d:LP,e:LP,f:ZB,g:RP,G:NP,H:DP,I:DP,j:HB,L:KB,m:VB,M:GB,p:z,q:zB,Q:YB,s:XB,S:WB,u:FB,U:BB,V:qB,w:$B,W:UB,x:ie,X:ae,y:RP,Y:NP,Z:jB,"%":JB};k.x=D(n,k),k.X=D(r,k),k.c=D(e,k),$.x=D(n,$),$.X=D(r,$),$.c=D(e,$);function D(_e,ke){return function(He){var ge=[],rt=-1,Qe=0,pt=_e.length,mt,Pe,ze;for(He instanceof Date||(He=new Date(+He));++rt<pt;)_e.charCodeAt(rt)===37&&(ge.push(_e.slice(Qe,rt)),(Pe=kP[mt=_e.charAt(++rt)])!=null?mt=_e.charAt(++rt):Pe=mt==="e"?" ":"0",(ze=ke[mt])&&(mt=ze(He,Pe)),ge.push(mt),Qe=rt+1);return ge.push(_e.slice(Qe,rt)),ge.join("")}}function F(_e,ke){return function(He){var ge=oc(1900,void 0,1),rt=U(ge,_e,He+="",0),Qe,pt;if(rt!=He.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(ke&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Qe=q0(oc(ge.y,0,1)),pt=Qe.getUTCDay(),Qe=pt>4||pt===0?Eh.ceil(Qe):Eh(Qe),Qe=Cp.offset(Qe,(ge.V-1)*7),ge.y=Qe.getUTCFullYear(),ge.m=Qe.getUTCMonth(),ge.d=Qe.getUTCDate()+(ge.w+6)%7):(Qe=B0(oc(ge.y,0,1)),pt=Qe.getDay(),Qe=pt>4||pt===0?Ph.ceil(Qe):Ph(Qe),Qe=mf.offset(Qe,(ge.V-1)*7),ge.y=Qe.getFullYear(),ge.m=Qe.getMonth(),ge.d=Qe.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),pt="Z"in ge?q0(oc(ge.y,0,1)).getUTCDay():B0(oc(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(pt+5)%7:ge.w+ge.U*7-(pt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,q0(ge)):B0(ge)}}function U(_e,ke,He,ge){for(var rt=0,Qe=ke.length,pt=He.length,mt,Pe;rt<Qe;){if(ge>=pt)return-1;if(mt=ke.charCodeAt(rt++),mt===37){if(mt=ke.charAt(rt++),Pe=I[mt in kP?ke.charAt(rt++):mt],!Pe||(ge=Pe(_e,He,ge))<0)return-1}else if(mt!=He.charCodeAt(ge++))return-1}return ge}function z(_e,ke,He){var ge=f.exec(ke.slice(He));return ge?(_e.p=g.get(ge[0].toLowerCase()),He+ge[0].length):-1}function G(_e,ke,He){var ge=b.exec(ke.slice(He));return ge?(_e.w=P.get(ge[0].toLowerCase()),He+ge[0].length):-1}function j(_e,ke,He){var ge=y.exec(ke.slice(He));return ge?(_e.w=_.get(ge[0].toLowerCase()),He+ge[0].length):-1}function K(_e,ke,He){var ge=R.exec(ke.slice(He));return ge?(_e.m=N.get(ge[0].toLowerCase()),He+ge[0].length):-1}function Q(_e,ke,He){var ge=C.exec(ke.slice(He));return ge?(_e.m=A.get(ge[0].toLowerCase()),He+ge[0].length):-1}function re(_e,ke,He){return U(_e,e,ke,He)}function ie(_e,ke,He){return U(_e,n,ke,He)}function ae(_e,ke,He){return U(_e,r,ke,He)}function de(_e){return s[_e.getDay()]}function J(_e){return o[_e.getDay()]}function ce(_e){return d[_e.getMonth()]}function ne(_e){return c[_e.getMonth()]}function V(_e){return i[+(_e.getHours()>=12)]}function ee(_e){return 1+~~(_e.getMonth()/3)}function ve(_e){return s[_e.getUTCDay()]}function Ce(_e){return o[_e.getUTCDay()]}function le(_e){return d[_e.getUTCMonth()]}function pe(_e){return c[_e.getUTCMonth()]}function Le(_e){return i[+(_e.getUTCHours()>=12)]}function Oe(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var ke=D(_e+="",k);return ke.toString=function(){return _e},ke},parse:function(_e){var ke=F(_e+="",!1);return ke.toString=function(){return _e},ke},utcFormat:function(_e){var ke=D(_e+="",$);return ke.toString=function(){return _e},ke},utcParse:function(_e){var ke=F(_e+="",!0);return ke.toString=function(){return _e},ke}}}var kP={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,RB=/^%/,LB=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function DB(t){return t.replace(LB,"\\$&")}function ac(t){return new RegExp("^(?:"+t.map(DB).join("|")+")","i")}function sc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $B(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function FB(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function BB(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qB(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function UB(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function NP(t,e,n){var r=gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function RP(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jB(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zB(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function VB(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function LP(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function HB(t,e,n){var r=gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function DP(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function GB(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function WB(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function KB(t,e,n){var r=gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ZB(t,e,n){var r=gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function JB(t,e,n){var r=RB.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function YB(t,e,n){var r=gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function XB(t,e,n){var r=gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function $P(t,e){return _t(t.getDate(),e,2)}function QB(t,e){return _t(t.getHours(),e,2)}function e4(t,e){return _t(t.getHours()%12||12,e,2)}function t4(t,e){return _t(1+mf.count(io(t),t),e,3)}function y2(t,e){return _t(t.getMilliseconds(),e,3)}function n4(t,e){return y2(t,e)+"000"}function r4(t,e){return _t(t.getMonth()+1,e,2)}function i4(t,e){return _t(t.getMinutes(),e,2)}function o4(t,e){return _t(t.getSeconds(),e,2)}function a4(t){var e=t.getDay();return e===0?7:e}function s4(t,e){return _t(Ap.count(io(t)-1,t),e,2)}function _2(t){var e=t.getDay();return e>=4||e===0?Tl(t):Tl.ceil(t)}function l4(t,e){return t=_2(t),_t(Tl.count(io(t),t)+(io(t).getDay()===4),e,2)}function u4(t){return t.getDay()}function c4(t,e){return _t(Ph.count(io(t)-1,t),e,2)}function f4(t,e){return _t(t.getFullYear()%100,e,2)}function d4(t,e){return t=_2(t),_t(t.getFullYear()%100,e,2)}function h4(t,e){return _t(t.getFullYear()%1e4,e,4)}function p4(t,e){var n=t.getDay();return t=n>=4||n===0?Tl(t):Tl.ceil(t),_t(t.getFullYear()%1e4,e,4)}function m4(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function FP(t,e){return _t(t.getUTCDate(),e,2)}function g4(t,e){return _t(t.getUTCHours(),e,2)}function v4(t,e){return _t(t.getUTCHours()%12||12,e,2)}function y4(t,e){return _t(1+Cp.count(oo(t),t),e,3)}function x2(t,e){return _t(t.getUTCMilliseconds(),e,3)}function _4(t,e){return x2(t,e)+"000"}function x4(t,e){return _t(t.getUTCMonth()+1,e,2)}function w4(t,e){return _t(t.getUTCMinutes(),e,2)}function b4(t,e){return _t(t.getUTCSeconds(),e,2)}function S4(t){var e=t.getUTCDay();return e===0?7:e}function T4(t,e){return _t(Pp.count(oo(t)-1,t),e,2)}function w2(t){var e=t.getUTCDay();return e>=4||e===0?Cl(t):Cl.ceil(t)}function C4(t,e){return t=w2(t),_t(Cl.count(oo(t),t)+(oo(t).getUTCDay()===4),e,2)}function A4(t){return t.getUTCDay()}function P4(t,e){return _t(Eh.count(oo(t)-1,t),e,2)}function E4(t,e){return _t(t.getUTCFullYear()%100,e,2)}function M4(t,e){return t=w2(t),_t(t.getUTCFullYear()%100,e,2)}function I4(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function O4(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Cl(t):Cl.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function k4(){return"+0000"}function BP(){return"%"}function qP(t){return+t}function UP(t){return Math.floor(+t/1e3)}var tl,b2,S2;N4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function N4(t){return tl=NB(t),b2=tl.format,tl.parse,S2=tl.utcFormat,tl.utcParse,tl}function R4(t){return new Date(t)}function L4(t){return t instanceof Date?+t:+new Date(+t)}function ib(t,e,n,r,i,o,s,c,d,f){var g=Vw(),y=g.invert,_=g.domain,b=f(".%L"),P=f(":%S"),C=f("%I:%M"),A=f("%I %p"),R=f("%a %d"),N=f("%b %d"),k=f("%B"),$=f("%Y");function I(D){return(d(D)<D?b:c(D)<D?P:s(D)<D?C:o(D)<D?A:r(D)<D?i(D)<D?R:N:n(D)<D?k:$)(D)}return g.invert=function(D){return new Date(y(D))},g.domain=function(D){return arguments.length?_(Array.from(D,L4)):_().map(R4)},g.ticks=function(D){var F=_();return t(F[0],F[F.length-1],D??10)},g.tickFormat=function(D,F){return F==null?I:f(F)},g.nice=function(D){var F=_();return(!D||typeof D.range!="function")&&(D=e(F[0],F[F.length-1],D??10)),D?_(u2(F,D)):g},g.copy=function(){return pf(g,ib(t,e,n,r,i,o,s,c,d,f))},g}function D4(){return Dr.apply(ib(OB,kB,io,nb,Ap,mf,eb,Xw,Wa,b2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $4(){return Dr.apply(ib(MB,IB,oo,rb,Pp,Cp,tb,Qw,Wa,S2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ep(){var t=0,e=1,n,r,i,o,s=Bn,c=!1,d;function f(y){return y==null||isNaN(y=+y)?d:s(i===0?.5:(y=(o(y)-n)*i,c?Math.max(0,Math.min(1,y)):y))}f.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(y){return arguments.length?(c=!!y,f):c},f.interpolator=function(y){return arguments.length?(s=y,f):s};function g(y){return function(_){var b,P;return arguments.length?([b,P]=_,s=y(b,P),f):[s(0),s(1)]}}return f.range=g(Ql),f.rangeRound=g(zw),f.unknown=function(y){return arguments.length?(d=y,f):d},function(y){return o=y,n=y(t),r=y(e),i=n===r?0:1/(r-n),f}}function ua(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function T2(){var t=la(Ep()(Bn));return t.copy=function(){return ua(t,T2())},co.apply(t,arguments)}function C2(){var t=Ww(Ep()).domain([1,10]);return t.copy=function(){return ua(t,C2()).base(t.base())},co.apply(t,arguments)}function A2(){var t=Kw(Ep());return t.copy=function(){return ua(t,A2()).constant(t.constant())},co.apply(t,arguments)}function ob(){var t=Zw(Ep());return t.copy=function(){return ua(t,ob()).exponent(t.exponent())},co.apply(t,arguments)}function F4(){return ob.apply(null,arguments).exponent(.5)}function P2(){var t=[],e=Bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((df(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ta),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>T7(t,o/r))},n.copy=function(){return P2(e).domain(t)},co.apply(n,arguments)}function Mp(){var t=0,e=.5,n=1,r=1,i,o,s,c,d,f=Bn,g,y=!1,_;function b(C){return isNaN(C=+C)?_:(C=.5+((C=+g(C))-o)*(r*C<r*o?c:d),f(y?Math.max(0,Math.min(1,C)):C))}b.domain=function(C){return arguments.length?([t,e,n]=C,i=g(t=+t),o=g(e=+e),s=g(n=+n),c=i===o?0:.5/(o-i),d=o===s?0:.5/(s-o),r=o<i?-1:1,b):[t,e,n]},b.clamp=function(C){return arguments.length?(y=!!C,b):y},b.interpolator=function(C){return arguments.length?(f=C,b):f};function P(C){return function(A){var R,N,k;return arguments.length?([R,N,k]=A,f=J7(C,[R,N,k]),b):[f(0),f(.5),f(1)]}}return b.range=P(Ql),b.rangeRound=P(zw),b.unknown=function(C){return arguments.length?(_=C,b):_},function(C){return g=C,i=C(t),o=C(e),s=C(n),c=i===o?0:.5/(o-i),d=o===s?0:.5/(s-o),r=o<i?-1:1,b}}function E2(){var t=la(Mp()(Bn));return t.copy=function(){return ua(t,E2())},co.apply(t,arguments)}function M2(){var t=Ww(Mp()).domain([.1,1,10]);return t.copy=function(){return ua(t,M2()).base(t.base())},co.apply(t,arguments)}function I2(){var t=Kw(Mp());return t.copy=function(){return ua(t,I2()).constant(t.constant())},co.apply(t,arguments)}function ab(){var t=Zw(Mp());return t.copy=function(){return ua(t,ab()).exponent(t.exponent())},co.apply(t,arguments)}function B4(){return ab.apply(null,arguments).exponent(.5)}const jP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rc,scaleDiverging:E2,scaleDivergingLog:M2,scaleDivergingPow:ab,scaleDivergingSqrt:B4,scaleDivergingSymlog:I2,scaleIdentity:l2,scaleImplicit:tx,scaleLinear:Ch,scaleLog:c2,scaleOrdinal:qw,scalePoint:yc,scalePow:Jw,scaleQuantile:h2,scaleQuantize:p2,scaleRadial:d2,scaleSequential:T2,scaleSequentialLog:C2,scaleSequentialPow:ob,scaleSequentialQuantile:P2,scaleSequentialSqrt:F4,scaleSequentialSymlog:A2,scaleSqrt:_B,scaleSymlog:f2,scaleThreshold:m2,scaleTime:D4,scaleUtc:$4,tickFormat:s2},Symbol.toStringTag,{value:"Module"}));var U0,zP;function Ip(){if(zP)return U0;zP=1;var t=Zl();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var c=n[o],d=r(c);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,g=c}return g}return U0=e,U0}var j0,VP;function O2(){if(VP)return j0;VP=1;function t(e,n){return e>n}return j0=t,j0}var z0,HP;function q4(){if(HP)return z0;HP=1;var t=Ip(),e=O2(),n=Xl();function r(i){return i&&i.length?t(i,n,e):void 0}return z0=r,z0}var U4=q4();const Yo=Tt(U4);var V0,GP;function k2(){if(GP)return V0;GP=1;function t(e,n){return e<n}return V0=t,V0}var H0,WP;function j4(){if(WP)return H0;WP=1;var t=Ip(),e=k2(),n=Xl();function r(i){return i&&i.length?t(i,n,e):void 0}return H0=r,H0}var z4=j4();const Op=Tt(z4);var G0,KP;function V4(){if(KP)return G0;KP=1;var t=Sw(),e=bi(),n=qk(),r=Jn();function i(o,s){var c=r(o)?t:n;return c(o,e(s,3))}return G0=i,G0}var W0,ZP;function H4(){if(ZP)return W0;ZP=1;var t=Fk(),e=V4();function n(r,i){return t(e(r,i),1)}return W0=n,W0}var G4=H4();const W4=Tt(G4);var K0,JP;function K4(){if(JP)return K0;JP=1;var t=Lw();function e(n,r){return t(n,r)}return K0=e,K0}var Z4=K4();const ia=Tt(Z4);var eu=1e9,J4={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lb,Ut=!0,Rr="[DecimalError] ",Ya=Rr+"Invalid argument: ",sb=Rr+"Exponent out of range: ",tu=Math.floor,za=Math.pow,Y4=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,pn=1e7,Ft=7,N2=9007199254740991,Mh=tu(N2/Ft),Re={};Re.absoluteValue=Re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Re.comparedTo=Re.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(t){return to(this,new this.constructor(t))};Re.dividedToIntegerBy=Re.idiv=function(t){var e=this,n=e.constructor;return Mt(to(e,new n(t),0,1),n.precision)};Re.equals=Re.eq=function(t){return!this.cmp(t)};Re.exponent=function(){return tn(this)};Re.greaterThan=Re.gt=function(t){return this.cmp(t)>0};Re.greaterThanOrEqualTo=Re.gte=function(t){return this.cmp(t)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(t){return this.cmp(t)<0};Re.lessThanOrEqualTo=Re.lte=function(t){return this.cmp(t)<1};Re.logarithm=Re.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(dr))throw Error(Rr+"NaN");if(n.s<1)throw Error(Rr+(n.s?"NaN":"-Infinity"));return n.eq(dr)?new r(0):(Ut=!1,e=to(Bc(n,o),Bc(t,o),o),Ut=!0,Mt(e,i))};Re.minus=Re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D2(e,t):R2(e,(t.s=-t.s,t))};Re.modulo=Re.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Rr+"NaN");return n.s?(Ut=!1,e=to(n,t,0,1).times(t),Ut=!0,n.minus(e)):Mt(new r(n),i)};Re.naturalExponential=Re.exp=function(){return L2(this)};Re.naturalLogarithm=Re.ln=function(){return Bc(this)};Re.negated=Re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Re.plus=Re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?R2(e,t):D2(e,(t.s=-t.s,t))};Re.precision=Re.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ya+t);if(e=tn(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Re.squareRoot=Re.sqrt=function(){var t,e,n,r,i,o,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Rr+"NaN")}for(t=tn(c),Ut=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=gi(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=s=n+3;;)if(o=r,r=o.plus(to(c,o,s+2)).times(.5),gi(o.d).slice(0,s)===(e=gi(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Mt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;s+=4}return Ut=!0,Mt(r,n)};Re.times=Re.mul=function(t){var e,n,r,i,o,s,c,d,f,g=this,y=g.constructor,_=g.d,b=(t=new y(t)).d;if(!g.s||!t.s)return new y(0);for(t.s*=g.s,n=g.e+t.e,d=_.length,f=b.length,d<f&&(o=_,_=b,b=o,s=d,d=f,f=s),o=[],s=d+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=o[i]+b[r]*_[i-r-1]+e,o[i--]=c%pn|0,e=c/pn|0;o[i]=(o[i]+e)%pn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ut?Mt(t,y.precision):t};Re.toDecimalPlaces=Re.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xi(t,0,eu),e===void 0?e=r.rounding:xi(e,0,8),Mt(n,t+tn(n)+1,e))};Re.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=es(r,!0):(xi(t,0,eu),e===void 0?e=i.rounding:xi(e,0,8),r=Mt(new i(r),t+1,e),n=es(r,!0,t+1)),n};Re.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?es(i):(xi(t,0,eu),e===void 0?e=o.rounding:xi(e,0,8),r=Mt(new o(i),t+tn(i)+1,e),n=es(r.abs(),!1,t+tn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var t=this,e=t.constructor;return Mt(new e(t),tn(t)+1,e.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(t){var e,n,r,i,o,s,c=this,d=c.constructor,f=12,g=+(t=new d(t));if(!t.s)return new d(dr);if(c=new d(c),!c.s){if(t.s<1)throw Error(Rr+"Infinity");return c}if(c.eq(dr))return c;if(r=d.precision,t.eq(dr))return Mt(c,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=c.s,s){if((n=g<0?-g:g)<=N2){for(i=new d(dr),e=Math.ceil(r/Ft+4),Ut=!1;n%2&&(i=i.times(c),XP(i.d,e)),n=tu(n/2),n!==0;)c=c.times(c),XP(c.d,e);return Ut=!0,t.s<0?new d(dr).div(i):Mt(i,r)}}else if(o<0)throw Error(Rr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Ut=!1,i=t.times(Bc(c,r+f)),Ut=!0,i=L2(i),i.s=o,i};Re.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=tn(i),r=es(i,n<=o.toExpNeg||n>=o.toExpPos)):(xi(t,1,eu),e===void 0?e=o.rounding:xi(e,0,8),i=Mt(new o(i),t,e),n=tn(i),r=es(i,t<=n||n<=o.toExpNeg,t)),r};Re.toSignificantDigits=Re.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xi(t,1,eu),e===void 0?e=r.rounding:xi(e,0,8)),Mt(new r(n),t,e)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=tn(t),n=t.constructor;return es(t,e<=n.toExpNeg||e>=n.toExpPos)};function R2(t,e){var n,r,i,o,s,c,d,f,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),Ut?Mt(e,y):e;if(d=t.d,f=e.d,s=t.e,i=e.e,d=d.slice(),o=s-i,o){for(o<0?(r=d,o=-o,c=f.length):(r=f,i=s,c=d.length),s=Math.ceil(y/Ft),c=s>c?s+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=d.length,o=f.length,c-o<0&&(o=c,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/pn|0,d[o]%=pn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Ut?Mt(e,y):e}function xi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ya+t)}function gi(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Ft-r.length,n&&(o+=Zo(n)),o+=r;s=t[e],r=s+"",n=Ft-r.length,n&&(o+=Zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var to=function(){function t(r,i){var o,s=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+s,r[c]=o%pn|0,s=o/pn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var c,d;if(o!=s)d=o>s?1:-1;else for(c=d=0;c<o;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*pn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var c,d,f,g,y,_,b,P,C,A,R,N,k,$,I,D,F,U,z=r.constructor,G=r.s==i.s?1:-1,j=r.d,K=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Rr+"Division by zero");for(d=r.e-i.e,F=K.length,I=j.length,b=new z(G),P=b.d=[],f=0;K[f]==(j[f]||0);)++f;if(K[f]>(j[f]||0)&&--d,o==null?N=o=z.precision:s?N=o+(tn(r)-tn(i))+1:N=o,N<0)return new z(0);if(N=N/Ft+2|0,f=0,F==1)for(g=0,K=K[0],N++;(f<I||g)&&N--;f++)k=g*pn+(j[f]||0),P[f]=k/K|0,g=k%K|0;else{for(g=pn/(K[0]+1)|0,g>1&&(K=t(K,g),j=t(j,g),F=K.length,I=j.length),$=F,C=j.slice(0,F),A=C.length;A<F;)C[A++]=0;U=K.slice(),U.unshift(0),D=K[0],K[1]>=pn/2&&++D;do g=0,c=e(K,C,F,A),c<0?(R=C[0],F!=A&&(R=R*pn+(C[1]||0)),g=R/D|0,g>1?(g>=pn&&(g=pn-1),y=t(K,g),_=y.length,A=C.length,c=e(y,C,_,A),c==1&&(g--,n(y,F<_?U:K,_))):(g==0&&(c=g=1),y=K.slice()),_=y.length,_<A&&y.unshift(0),n(C,y,A),c==-1&&(A=C.length,c=e(K,C,F,A),c<1&&(g++,n(C,F<A?U:K,A))),A=C.length):c===0&&(g++,C=[0]),P[f++]=g,c&&C[0]?C[A++]=j[$]||0:(C=[j[$]],A=1);while(($++<I||C[0]!==void 0)&&N--)}return P[0]||P.shift(),b.e=d,Mt(b,s?o+tn(b)+1:o)}}();function L2(t,e){var n,r,i,o,s,c,d=0,f=0,g=t.constructor,y=g.precision;if(tn(t)>16)throw Error(sb+tn(t));if(!t.s)return new g(dr);for(Ut=!1,c=y,s=new g(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(za(2,f))/Math.LN10*2+5|0,c+=r,n=i=o=new g(dr),g.precision=c;;){if(i=Mt(i.times(t),c),n=n.times(++d),s=o.plus(to(i,n,c)),gi(s.d).slice(0,c)===gi(o.d).slice(0,c)){for(;f--;)o=Mt(o.times(o),c);return g.precision=y,e==null?(Ut=!0,Mt(o,y)):o}o=s}}function tn(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function Z0(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(Rr+"LN10 precision limit exceeded");return Mt(new t(t.LN10),e)}function Zo(t){for(var e="";t--;)e+="0";return e}function Bc(t,e){var n,r,i,o,s,c,d,f,g,y=1,_=10,b=t,P=b.d,C=b.constructor,A=C.precision;if(b.s<1)throw Error(Rr+(b.s?"NaN":"-Infinity"));if(b.eq(dr))return new C(0);if(e==null?(Ut=!1,f=A):f=e,b.eq(10))return e==null&&(Ut=!0),Z0(C,f);if(f+=_,C.precision=f,n=gi(P),r=n.charAt(0),o=tn(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=gi(b.d),r=n.charAt(0),y++;o=tn(b),r>1?(b=new C("0."+n),o++):b=new C(r+"."+n.slice(1))}else return d=Z0(C,f+2,A).times(o+""),b=Bc(new C(r+"."+n.slice(1)),f-_).plus(d),C.precision=A,e==null?(Ut=!0,Mt(b,A)):b;for(c=s=b=to(b.minus(dr),b.plus(dr),f),g=Mt(b.times(b),f),i=3;;){if(s=Mt(s.times(g),f),d=c.plus(to(s,new C(i),f)),gi(d.d).slice(0,f)===gi(c.d).slice(0,f))return c=c.times(2),o!==0&&(c=c.plus(Z0(C,f+2,A).times(o+""))),c=to(c,new C(y),f),C.precision=A,e==null?(Ut=!0,Mt(c,A)):c;c=d,i+=2}}function YP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tu(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ft;r<i;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Mh||t.e<-Mh))throw Error(sb+n)}else t.s=0,t.e=0,t.d=[0];return t}function Mt(t,e,n){var r,i,o,s,c,d,f,g,y=t.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Ft,i=e,f=y[g=0];else{if(g=Math.ceil((r+1)/Ft),o=y.length,g>=o)return t;for(f=o=y[g],s=1;o>=10;o/=10)s++;r%=Ft,i=r-Ft+s}if(n!==void 0&&(o=za(10,s-i-1),c=f/o%10|0,d=e<0||y[g+1]!==void 0||f%o,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/za(10,s-i):0:y[g-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return d?(o=tn(t),y.length=1,e=e-o-1,y[0]=za(10,(Ft-e%Ft)%Ft),t.e=tu(-e/Ft)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=g,o=1,g--):(y.length=g+1,o=za(10,Ft-r),y[g]=i>0?(f/za(10,s-i)%za(10,i)|0)*o:0),d)for(;;)if(g==0){(y[0]+=o)==pn&&(y[0]=1,++t.e);break}else{if(y[g]+=o,y[g]!=pn)break;y[g--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Ut&&(t.e>Mh||t.e<-Mh))throw Error(sb+tn(t));return t}function D2(t,e){var n,r,i,o,s,c,d,f,g,y,_=t.constructor,b=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),Ut?Mt(e,b):e;if(d=t.d,y=e.d,r=e.e,f=t.e,d=d.slice(),s=f-r,s){for(g=s<0,g?(n=d,s=-s,c=y.length):(n=y,r=f,c=d.length),i=Math.max(Math.ceil(b/Ft),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=y.length,g=i<c,g&&(c=i),i=0;i<c;i++)if(d[i]!=y[i]){g=d[i]<y[i];break}s=0}for(g&&(n=d,d=y,y=n,e.s=-e.s),c=d.length,i=y.length-c;i>0;--i)d[c++]=0;for(i=y.length;i>s;){if(d[--i]<y[i]){for(o=i;o&&d[--o]===0;)d[o]=pn-1;--d[o],d[i]+=pn}d[i]-=y[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Ut?Mt(e,b):e):new _(0)}function es(t,e,n){var r,i=tn(t),o=gi(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Zo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Zo(-i-1)+o,n&&(r=n-s)>0&&(o+=Zo(r))):i>=s?(o+=Zo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Zo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Zo(r))),t.s<0?"-"+o:o}function XP(t,e){if(t.length>e)return t.length=e,!0}function $2(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ya+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return YP(s,o.toString())}else if(typeof o!="string")throw Error(Ya+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Y4.test(o))YP(s,o);else throw Error(Ya+o)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$2,i.config=i.set=X4,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function X4(t){if(!t||typeof t!="object")throw Error(Rr+"Object expected");var e,n,r,i=["precision",1,eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ya+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ya+n+": "+r);return this}var lb=$2(J4);dr=new lb(1);const Pt=lb;function Q4(t){return rq(t)||nq(t)||tq(t)||eq()}function eq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tq(t,e){if(t){if(typeof t=="string")return ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ox(t,e)}}function nq(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rq(t){if(Array.isArray(t))return ox(t)}function ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iq=function(e){return e},F2={},B2=function(e){return e===F2},QP=function(e){return function n(){return arguments.length===0||arguments.length===1&&B2(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},oq=function t(e,n){return e===1?n:QP(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(c){return c!==F2}).length;return s>=e?n.apply(void 0,i):t(e-s,QP(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var g=i.map(function(y){return B2(y)?d.shift():y});return n.apply(void 0,Q4(g).concat(d))}))})},kp=function(e){return oq(e.length,e)},ax=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},aq=kp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),sq=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return iq;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(c,d){return d(c)},o.apply(void 0,arguments))}},sx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},q2=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(c,d){return c===n[d]})||(n=o,r=e.apply(void 0,o)),r}};function lq(t){var e;return t===0?e=1:e=Math.floor(new Pt(t).abs().log(10).toNumber())+1,e}function uq(t,e,n){for(var r=new Pt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var cq=kp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),fq=kp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),dq=kp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Np={rangeStep:uq,getDigitCount:lq,interpolateNumber:cq,uninterpolateNumber:fq,uninterpolateTruncation:dq};function lx(t){return mq(t)||pq(t)||U2(t)||hq()}function hq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pq(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mq(t){if(Array.isArray(t))return ux(t)}function qc(t,e){return yq(t)||vq(t,e)||U2(t,e)||gq()}function gq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2(t,e){if(t){if(typeof t=="string")return ux(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ux(t,e)}}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vq(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),c;!(r=(c=s.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(d){i=!0,o=d}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function yq(t){if(Array.isArray(t))return t}function j2(t){var e=qc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function z2(t,e,n){if(t.lte(0))return new Pt(0);var r=Np.getDigitCount(t.toNumber()),i=new Pt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,c=new Pt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),d=c.mul(i);return e?d:new Pt(Math.ceil(d))}function _q(t,e,n){var r=1,i=new Pt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Pt(10).pow(Np.getDigitCount(t)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pt(Math.floor(t)))}else t===0?i=new Pt(Math.floor((e-1)/2)):n||(i=new Pt(Math.floor(t)));var s=Math.floor((e-1)/2),c=sq(aq(function(d){return i.add(new Pt(d-s).mul(r)).toNumber()}),ax);return c(0,e)}function V2(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var o=z2(new Pt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Pt(0):(s=new Pt(t).add(e).div(2),s=s.sub(new Pt(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),d=Math.ceil(new Pt(e).sub(s).div(o).toNumber()),f=c+d+1;return f>n?V2(t,e,n,r,i+1):(f<n&&(d=e>0?d+(n-f):d,c=e>0?c:c+(n-f)),{step:o,tickMin:s.sub(new Pt(c).mul(o)),tickMax:s.add(new Pt(d).mul(o))})}function xq(t){var e=qc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),c=j2([n,r]),d=qc(c,2),f=d[0],g=d[1];if(f===-1/0||g===1/0){var y=g===1/0?[f].concat(lx(ax(0,i-1).map(function(){return 1/0}))):[].concat(lx(ax(0,i-1).map(function(){return-1/0})),[g]);return n>r?sx(y):y}if(f===g)return _q(f,i,o);var _=V2(f,g,s,o),b=_.step,P=_.tickMin,C=_.tickMax,A=Np.rangeStep(P,C.add(new Pt(.1).mul(b)),b);return n>r?sx(A):A}function wq(t,e){var n=qc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=j2([r,i]),c=qc(s,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[r,i];if(d===f)return[d];var g=Math.max(e,2),y=z2(new Pt(f).sub(d).div(g-1),o,0),_=[].concat(lx(Np.rangeStep(new Pt(d),new Pt(f).sub(new Pt(.99).mul(y)),y)),[f]);return r>i?sx(_):_}var bq=q2(xq),Sq=q2(wq),Tq="Invariant failed";function ts(t,e){throw new Error(Tq)}var Cq=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ih.apply(this,arguments)}function Aq(t,e){return Iq(t)||Mq(t,e)||Eq(t,e)||Pq()}function Pq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eq(t,e){if(t){if(typeof t=="string")return eE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(t,e)}}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Iq(t){if(Array.isArray(t))return t}function Oq(t,e){if(t==null)return{};var n=kq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W2(r.key),r)}}function Lq(t,e,n){return e&&Rq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dq(t,e,n){return e=Oh(e),$q(t,H2()?Reflect.construct(e,n||[],Oh(t).constructor):e.apply(t,n))}function $q(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fq(t)}function Fq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H2=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}function Bq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cx(t,e)}function cx(t,e){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cx(t,e)}function G2(t,e,n){return e=W2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W2(t){var e=qq(t,"string");return Al(e)=="symbol"?e:e+""}function qq(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nu=function(t){function e(){return Nq(this,e),Dq(this,e,arguments)}return Bq(e,t),Lq(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,c=r.dataKey,d=r.data,f=r.dataPointFormatter,g=r.xAxis,y=r.yAxis,_=Oq(r,Cq),b=qe(_,!1);this.props.direction==="x"&&g.type!=="number"&&ts();var P=d.map(function(C){var A=f(C,c),R=A.x,N=A.y,k=A.value,$=A.errorVal;if(!$)return null;var I=[],D,F;if(Array.isArray($)){var U=Aq($,2);D=U[0],F=U[1]}else D=F=$;if(o==="vertical"){var z=g.scale,G=N+i,j=G+s,K=G-s,Q=z(k-D),re=z(k+F);I.push({x1:re,y1:j,x2:re,y2:K}),I.push({x1:Q,y1:G,x2:re,y2:G}),I.push({x1:Q,y1:j,x2:Q,y2:K})}else if(o==="horizontal"){var ie=y.scale,ae=R+i,de=ae-s,J=ae+s,ce=ie(k-D),ne=ie(k+F);I.push({x1:de,y1:ne,x2:J,y2:ne}),I.push({x1:ae,y1:ce,x2:ae,y2:ne}),I.push({x1:de,y1:ce,x2:J,y2:ce})}return H.createElement(ut,Ih({className:"recharts-errorBar",key:"bar-".concat(I.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},b),I.map(function(V){return H.createElement("line",Ih({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return H.createElement(ut,{className:"recharts-errorBars"},P)}}])}(H.Component);G2(nu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});G2(nu,"displayName","ErrorBar");function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function tE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(n),!0).forEach(function(r){Uq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uq(t,e,n){return e=jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jq(t){var e=zq(t,"string");return Uc(e)=="symbol"?e:e+""}function zq(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K2=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=fr(n,Ir);if(!s)return null;var c=Ir.defaultProps,d=c!==void 0?Ba(Ba({},c),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(r||[]).reduce(function(g,y){var _=y.item,b=y.props,P=b.sectors||b.data||[];return g.concat(P.map(function(C){return{type:s.props.iconType||_.props.legendType,value:C.name,color:C.fill,payload:C}}))},[]):f=(r||[]).map(function(g){var y=g.item,_=y.type.defaultProps,b=_!==void 0?Ba(Ba({},_),y.props):{},P=b.dataKey,C=b.name,A=b.legendType,R=b.hide;return{inactive:R,dataKey:P,type:d.iconType||A||"square",color:ub(y),value:C||P,payload:b}}),Ba(Ba(Ba({},d),Ir.getWithHeight(s,i)),{},{payload:f,item:s})};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function nE(t){return Wq(t)||Gq(t)||Hq(t)||Vq()}function Vq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hq(t,e){if(t){if(typeof t=="string")return fx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fx(t,e)}}function Gq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wq(t){if(Array.isArray(t))return fx(t)}function fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(r){hl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hl(t,e,n){return e=Kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kq(t){var e=Zq(t,"string");return jc(e)=="symbol"?e:e+""}function Zq(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bt(t,e,n){return Je(t)||Je(e)?n:un(e)?hr(t,e,n):Ye(e)?e(t):n}function _c(t,e,n,r){var i=W4(t,function(c){return Bt(c,e)});if(n==="number"){var o=i.filter(function(c){return Se(c)||parseFloat(c)});return o.length?[Op(o),Yo(o)]:[1/0,-1/0]}var s=r?i.filter(function(c){return!Je(c)}):i;return s.map(function(c){return un(c)||c instanceof Date?c:""})}var Jq=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<c;f++){var g=f>0?i[f-1].coordinate:i[c-1].coordinate,y=i[f].coordinate,_=f>=c-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if($n(y-g)!==$n(_-y)){var P=[];if($n(_-y)===$n(d[1]-d[0])){b=_;var C=y+d[1]-d[0];P[0]=Math.min(C,(C+g)/2),P[1]=Math.max(C,(C+g)/2)}else{b=g;var A=_+d[1]-d[0];P[0]=Math.min(y,(A+y)/2),P[1]=Math.max(y,(A+y)/2)}var R=[Math.min(y,(b+y)/2),Math.max(y,(b+y)/2)];if(e>R[0]&&e<=R[1]||e>=P[0]&&e<=P[1]){s=i[f].index;break}}else{var N=Math.min(g,_),k=Math.max(g,_);if(e>(N+y)/2&&e<=(k+y)/2){s=i[f].index;break}}}else for(var $=0;$<c;$++)if($===0&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$>0&&$<c-1&&e>(r[$].coordinate+r[$-1].coordinate)/2&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$===c-1&&e>(r[$].coordinate+r[$-1].coordinate)/2){s=r[$].index;break}return s},ub=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,s=o.stroke,c=o.fill,d;switch(i){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:c;break;default:d=c;break}return d},Yq=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},c=Object.keys(o),d=0,f=c.length;d<f;d++)for(var g=o[c[d]].stackGroups,y=Object.keys(g),_=0,b=y.length;_<b;_++){var P=g[y[_]],C=P.items,A=P.cateAxisId,R=C.filter(function(F){return eo(F.type).indexOf("Bar")>=0});if(R&&R.length){var N=R[0].type.defaultProps,k=N!==void 0?Zt(Zt({},N),R[0].props):R[0].props,$=k.barSize,I=k[A];s[I]||(s[I]=[]);var D=Je($)?n:$;s[I].push({item:R[0],stackList:R.slice(1),barSize:Je(D)?void 0:Fn(D,r,0)})}}return s},Xq=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,c=e.maxBarSize,d=s.length;if(d<1)return null;var f=Fn(n,i,0,!0),g,y=[];if(s[0].barSize===+s[0].barSize){var _=!1,b=i/d,P=s.reduce(function($,I){return $+I.barSize||0},0);P+=(d-1)*f,P>=i&&(P-=(d-1)*f,f=0),P>=i&&b>0&&(_=!0,b*=.9,P=d*b);var C=(i-P)/2>>0,A={offset:C-f,size:0};g=s.reduce(function($,I){var D={item:I.item,position:{offset:A.offset+A.size+f,size:_?b:I.barSize}},F=[].concat(nE($),[D]);return A=F[F.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(U){F.push({item:U,position:A})}),F},y)}else{var R=Fn(r,i,0,!0);i-2*R-(d-1)*f<=0&&(f=0);var N=(i-2*R-(d-1)*f)/d;N>1&&(N>>=0);var k=c===+c?Math.min(N,c):N;g=s.reduce(function($,I,D){var F=[].concat(nE($),[{item:I.item,position:{offset:R+(N+f)*D+(N-k)/2,size:k}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(U){F.push({item:U,position:F[F.length-1].position})}),F},y)}return g},Qq=function(e,n,r,i){var o=r.children,s=r.width,c=r.margin,d=s-(c.left||0)-(c.right||0),f=K2({children:o,legendWidth:d});if(f){var g=i||{},y=g.width,_=g.height,b=f.align,P=f.verticalAlign,C=f.layout;if((C==="vertical"||C==="horizontal"&&P==="middle")&&b!=="center"&&Se(e[b]))return Zt(Zt({},e),{},hl({},b,e[b]+(y||0)));if((C==="horizontal"||C==="vertical"&&b==="center")&&P!=="middle"&&Se(e[P]))return Zt(Zt({},e),{},hl({},P,e[P]+(_||0)))}return e},eU=function(e,n,r){return Je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Z2=function(e,n,r,i,o){var s=n.props.children,c=qn(s,nu).filter(function(f){return eU(i,o,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,g){var y=Bt(g,r);if(Je(y))return f;var _=Array.isArray(y)?[Op(y),Yo(y)]:[y,y],b=d.reduce(function(P,C){var A=Bt(g,C,0),R=_[0]-Math.abs(Array.isArray(A)?A[0]:A),N=_[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(R,P[0]),Math.max(N,P[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},tU=function(e,n,r,i,o){var s=n.map(function(c){return Z2(e,c,r,o,i)}).filter(function(c){return!Je(c)});return s&&s.length?s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},J2=function(e,n,r,i,o){var s=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&Z2(e,d,f,i)||_c(e,f,r,o)});if(r==="number")return s.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return s.reduce(function(d,f){for(var g=0,y=f.length;g<y;g++)c[f[g]]||(c[f[g]]=!0,d.push(f[g]));return d},[])},Y2=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},X2=function(e,n,r,i){if(i)return e.map(function(d){return d.coordinate});var o,s,c=e.map(function(d){return d.coordinate===n&&(o=!0),d.coordinate===r&&(s=!0),d.coordinate});return o||c.push(n),s||c.push(r),c},Qi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?$n(c[0]-c[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(y){var _=o?o.indexOf(y):y;return{coordinate:i(_)+f,value:y,offset:f}});return g.filter(function(y){return!Yl(y.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(y,_){return{coordinate:i(y)+f,value:y,index:_,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(y){return{coordinate:i(y)+f,value:y,offset:f}}):i.domain().map(function(y,_){return{coordinate:i(y)+f,value:o?o[y]:y,index:_,offset:f}})},J0=new WeakMap,Kd=function(e,n){if(typeof n!="function")return e;J0.has(e)||J0.set(e,new WeakMap);var r=J0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Q2=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,c=e.axisType;if(i==="auto")return s==="radial"&&c==="radiusAxis"?{scale:Rc(),realScaleType:"band"}:s==="radial"&&c==="angleAxis"?{scale:Ch(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yc(),realScaleType:"point"}:o==="category"?{scale:Rc(),realScaleType:"band"}:{scale:Ch(),realScaleType:"linear"};if(Xa(i)){var d="scale".concat(gp(i));return{scale:(jP[d]||yc)(),realScaleType:jP[d]?d:"point"}}return Ye(i)?{scale:i}:{scale:yc(),realScaleType:"point"}},iE=1e-4,eN=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-iE,s=Math.max(i[0],i[1])+iE,c=e(n[0]),d=e(n[r-1]);(c<o||c>s||d<o||d>s)&&e.domain([n[0],n[r-1]])}},nU=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},rU=function(e,n){if(!n||n.length!==2||!Se(n[0])||!Se(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Se(e[0])||e[0]<r)&&(o[0]=r),(!Se(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},iU=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,c=0;c<n;++c){var d=Yl(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=o,e[c][r][1]=o+d,o=e[c][r][1]):(e[c][r][0]=s,e[c][r][1]=s+d,s=e[c][r][1])}},oU=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var c=Yl(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=o,e[s][r][1]=o+c,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},aU={sign:iU,expand:WD,none:yl,silhouette:KD,wiggle:ZD,positive:oU},sU=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),o=aU[r],s=GD().keys(i).value(function(c,d){return+Bt(c,d,0)}).order(U_).offset(o);return s(e)},lU=function(e,n,r,i,o,s){if(!e)return null;var c=s?n.reverse():n,d={},f=c.reduce(function(y,_){var b,P=(b=_.type)!==null&&b!==void 0&&b.defaultProps?Zt(Zt({},_.type.defaultProps),_.props):_.props,C=P.stackId,A=P.hide;if(A)return y;var R=P[r],N=y[R]||{hasStack:!1,stackGroups:{}};if(un(C)){var k=N.stackGroups[C]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(_),N.hasStack=!0,N.stackGroups[C]=k}else N.stackGroups[sa("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[_]};return Zt(Zt({},y),{},hl({},R,N))},d),g={};return Object.keys(f).reduce(function(y,_){var b=f[_];if(b.hasStack){var P={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(C,A){var R=b.stackGroups[A];return Zt(Zt({},C),{},hl({},A,{numericAxisId:r,cateAxisId:i,items:R.items,stackedData:sU(e,R.items,o)}))},P)}return Zt(Zt({},y),{},hl({},_,b))},g)},tN=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,c=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var g=bq(f,o,c);return e.domain([Op(g),Yo(g)]),{niceTicks:g}}if(o&&i==="number"){var y=e.domain(),_=Sq(y,o,c);return{niceTicks:_}}return null};function Pl(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var c=sh(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var d=Bt(i,Je(s)?e.dataKey:s);return Je(d)?null:e.scale(d)}var oE=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var d=Bt(s,n.dataKey,n.domain[c]);return Je(d)?null:n.scale(d)-o/2+i},uU=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},cU=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(un(o)){var s=n[o];if(s){var c=s.items.indexOf(e);return c>=0?s.stackedData[c]:null}}return null},fU=function(e){return e.reduce(function(n,r){return[Op(r.concat([n[0]]).filter(Se)),Yo(r.concat([n[1]]).filter(Se))]},[1/0,-1/0])},nN=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],c=s.stackedData,d=c.reduce(function(f,g){var y=fU(g.slice(n,r+1));return[Math.min(f[0],y[0]),Math.max(f[1],y[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},aE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dx=function(e,n,r){if(Ye(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Se(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(aE.test(e[0])){var o=+aE.exec(e[0])[1];i[0]=n[0]-o}else Ye(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Se(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(sE.test(e[1])){var s=+sE.exec(e[1])[1];i[1]=n[1]+s}else Ye(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=$w(n,function(y){return y.coordinate}),s=1/0,c=1,d=o.length;c<d;c++){var f=o[c],g=o[c-1];s=Math.min((f.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},lE=function(e,n,r){return!e||!e.length||ia(e,hr(r,"type.defaultProps.domain"))?n:e},rN=function(e,n){var r=e.type.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,c=r.formatter,d=r.tooltipType,f=r.chartType,g=r.hide;return Zt(Zt({},qe(e,!1)),{},{dataKey:i,unit:s,formatter:c,name:o||i,color:ub(e),value:Bt(n,i),type:d,payload:n,chartType:f,hide:g})};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function uE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(n),!0).forEach(function(r){iN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iN(t,e,n){return e=dU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dU(t){var e=hU(t,"string");return zc(e)=="symbol"?e:e+""}function hU(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pU(t,e){return yU(t)||vU(t,e)||gU(t,e)||mU()}function mU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(t,e){if(t){if(typeof t=="string")return cE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(t,e)}}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function yU(t){if(Array.isArray(t))return t}var Nh=Math.PI/180,_U=function(e){return e*180/Math.PI},Rt=function(e,n,r,i){return{x:e+Math.cos(-Nh*i)*r,y:n+Math.sin(-Nh*i)*r}},oN=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xU=function(e,n,r,i,o){var s=e.width,c=e.height,d=e.startAngle,f=e.endAngle,g=Fn(e.cx,s,s/2),y=Fn(e.cy,c,c/2),_=oN(s,c,r),b=Fn(e.innerRadius,_,0),P=Fn(e.outerRadius,_,_*.8),C=Object.keys(n);return C.reduce(function(A,R){var N=n[R],k=N.domain,$=N.reversed,I;if(Je(N.range))i==="angleAxis"?I=[d,f]:i==="radiusAxis"&&(I=[b,P]),$&&(I=[I[1],I[0]]);else{I=N.range;var D=I,F=pU(D,2);d=F[0],f=F[1]}var U=Q2(N,o),z=U.realScaleType,G=U.scale;G.domain(k).range(I),eN(G);var j=tN(G,Ji(Ji({},N),{},{realScaleType:z})),K=Ji(Ji(Ji({},N),j),{},{range:I,radius:P,realScaleType:z,scale:G,cx:g,cy:y,innerRadius:b,outerRadius:P,startAngle:d,endAngle:f});return Ji(Ji({},A),{},iN({},R,K))},{})},wU=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},bU=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,c=wU({x:r,y:i},{x:o,y:s});if(c<=0)return{radius:c};var d=(r-o)/c,f=Math.acos(d);return i>s&&(f=2*Math.PI-f),{radius:c,angle:_U(f),angleInRadian:f}},SU=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},TU=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),c=Math.min(o,s);return e+c*360},fE=function(e,n){var r=e.x,i=e.y,o=bU({x:r,y:i},n),s=o.radius,c=o.angle,d=n.innerRadius,f=n.outerRadius;if(s<d||s>f)return!1;if(s===0)return!0;var g=SU(n),y=g.startAngle,_=g.endAngle,b=c,P;if(y<=_){for(;b>_;)b-=360;for(;b<y;)b+=360;P=b>=y&&b<=_}else{for(;b>y;)b-=360;for(;b<_;)b+=360;P=b>=_&&b<=y}return P?Ji(Ji({},n),{},{radius:s,angle:TU(b,n)}):null},aN=function(e){return!X.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var CU=["offset"];function AU(t){return IU(t)||MU(t)||EU(t)||PU()}function PU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EU(t,e){if(t){if(typeof t=="string")return hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hx(t,e)}}function MU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IU(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OU(t,e){if(t==null)return{};var n=kU(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(n),!0).forEach(function(r){NU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NU(t,e,n){return e=RU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RU(t){var e=LU(t,"string");return Vc(e)=="symbol"?e:e+""}function LU(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}var DU=function(e){var n=e.value,r=e.formatter,i=Je(e.children)?n:e.children;return Ye(r)?r(i):i},$U=function(e,n){var r=$n(n-e),i=Math.min(Math.abs(n-e),360);return r*i},FU=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,c=e.className,d=o,f=d.cx,g=d.cy,y=d.innerRadius,_=d.outerRadius,b=d.startAngle,P=d.endAngle,C=d.clockWise,A=(y+_)/2,R=$U(b,P),N=R>=0?1:-1,k,$;i==="insideStart"?(k=b+N*s,$=C):i==="insideEnd"?(k=P-N*s,$=!C):i==="end"&&(k=P+N*s,$=C),$=R<=0?$:!$;var I=Rt(f,g,A,k),D=Rt(f,g,A,k+($?1:-1)*359),F="M".concat(I.x,",").concat(I.y,`
    A`).concat(A,",").concat(A,",0,1,").concat($?0:1,`,
    `).concat(D.x,",").concat(D.y),U=Je(e.id)?sa("recharts-radial-line-"):e.id;return H.createElement("text",Hc({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",c)}),H.createElement("defs",null,H.createElement("path",{id:U,d:F})),H.createElement("textPath",{xlinkHref:"#".concat(U)},n))},BU=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,c=o.cy,d=o.innerRadius,f=o.outerRadius,g=o.startAngle,y=o.endAngle,_=(g+y)/2;if(i==="outside"){var b=Rt(s,c,f+r,_),P=b.x,C=b.y;return{x:P,y:C,textAnchor:P>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"end"};var A=(d+f)/2,R=Rt(s,c,A,_),N=R.x,k=R.y;return{x:N,y:k,textAnchor:"middle",verticalAnchor:"middle"}},qU=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,c=s.x,d=s.y,f=s.width,g=s.height,y=g>=0?1:-1,_=y*i,b=y>0?"end":"start",P=y>0?"start":"end",C=f>=0?1:-1,A=C*i,R=C>0?"end":"start",N=C>0?"start":"end";if(o==="top"){var k={x:c+f/2,y:d-y*i,textAnchor:"middle",verticalAnchor:b};return ln(ln({},k),r?{height:Math.max(d-r.y,0),width:f}:{})}if(o==="bottom"){var $={x:c+f/2,y:d+g+_,textAnchor:"middle",verticalAnchor:P};return ln(ln({},$),r?{height:Math.max(r.y+r.height-(d+g),0),width:f}:{})}if(o==="left"){var I={x:c-A,y:d+g/2,textAnchor:R,verticalAnchor:"middle"};return ln(ln({},I),r?{width:Math.max(I.x-r.x,0),height:g}:{})}if(o==="right"){var D={x:c+f+A,y:d+g/2,textAnchor:N,verticalAnchor:"middle"};return ln(ln({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:g}:{})}var F=r?{width:f,height:g}:{};return o==="insideLeft"?ln({x:c+A,y:d+g/2,textAnchor:N,verticalAnchor:"middle"},F):o==="insideRight"?ln({x:c+f-A,y:d+g/2,textAnchor:R,verticalAnchor:"middle"},F):o==="insideTop"?ln({x:c+f/2,y:d+_,textAnchor:"middle",verticalAnchor:P},F):o==="insideBottom"?ln({x:c+f/2,y:d+g-_,textAnchor:"middle",verticalAnchor:b},F):o==="insideTopLeft"?ln({x:c+A,y:d+_,textAnchor:N,verticalAnchor:P},F):o==="insideTopRight"?ln({x:c+f-A,y:d+_,textAnchor:R,verticalAnchor:P},F):o==="insideBottomLeft"?ln({x:c+A,y:d+g-_,textAnchor:N,verticalAnchor:b},F):o==="insideBottomRight"?ln({x:c+f-A,y:d+g-_,textAnchor:R,verticalAnchor:b},F):Jl(o)&&(Se(o.x)||Ha(o.x))&&(Se(o.y)||Ha(o.y))?ln({x:c+Fn(o.x,f),y:d+Fn(o.y,g),textAnchor:"end",verticalAnchor:"end"},F):ln({x:c+f/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},UU=function(e){return"cx"in e&&Se(e.cx)};function mn(t){var e=t.offset,n=e===void 0?5:e,r=OU(t,CU),i=ln({offset:n},r),o=i.viewBox,s=i.position,c=i.value,d=i.children,f=i.content,g=i.className,y=g===void 0?"":g,_=i.textBreakAll;if(!o||Je(c)&&Je(d)&&!X.isValidElement(f)&&!Ye(f))return null;if(X.isValidElement(f))return X.cloneElement(f,i);var b;if(Ye(f)){if(b=X.createElement(f,i),X.isValidElement(b))return b}else b=DU(i);var P=UU(o),C=qe(i,!0);if(P&&(s==="insideStart"||s==="insideEnd"||s==="end"))return FU(i,b,C);var A=P?BU(i):qU(i);return H.createElement(Qa,Hc({className:at("recharts-label",y)},C,A,{breakAll:_}),b)}mn.displayName="Label";var sN=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,c=e.r,d=e.radius,f=e.innerRadius,g=e.outerRadius,y=e.x,_=e.y,b=e.top,P=e.left,C=e.width,A=e.height,R=e.clockWise,N=e.labelViewBox;if(N)return N;if(Se(C)&&Se(A)){if(Se(y)&&Se(_))return{x:y,y:_,width:C,height:A};if(Se(b)&&Se(P))return{x:b,y:P,width:C,height:A}}return Se(y)&&Se(_)?{x:y,y:_,width:0,height:0}:Se(n)&&Se(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:g||d||c||0,clockWise:R}:e.viewBox?e.viewBox:{}},jU=function(e,n){return e?e===!0?H.createElement(mn,{key:"label-implicit",viewBox:n}):un(e)?H.createElement(mn,{key:"label-implicit",viewBox:n,value:e}):X.isValidElement(e)?e.type===mn?X.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Ye(e)?H.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Jl(e)?H.createElement(mn,Hc({viewBox:n},e,{key:"label-implicit"})):null:null},zU=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=sN(e),s=qn(i,mn).map(function(d,f){return X.cloneElement(d,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return s;var c=jU(e.label,n||o);return[c].concat(AU(s))};mn.parseViewBox=sN;mn.renderCallByParent=zU;var Y0,hE;function VU(){if(hE)return Y0;hE=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Y0=t,Y0}var HU=VU();const GU=Tt(HU);function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}var WU=["valueAccessor"],KU=["data","dataKey","clockWise","id","textBreakAll"];function ZU(t){return QU(t)||XU(t)||YU(t)||JU()}function JU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YU(t,e){if(t){if(typeof t=="string")return px(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return px(t,e)}}function XU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QU(t){if(Array.isArray(t))return px(t)}function px(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function pE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(r){ej(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ej(t,e,n){return e=tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tj(t){var e=nj(t,"string");return Gc(e)=="symbol"?e:e+""}function nj(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gE(t,e){if(t==null)return{};var n=rj(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rj(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ij=function(e){return Array.isArray(e.value)?GU(e.value):e.value};function ti(t){var e=t.valueAccessor,n=e===void 0?ij:e,r=gE(t,WU),i=r.data,o=r.dataKey,s=r.clockWise,c=r.id,d=r.textBreakAll,f=gE(r,KU);return!i||!i.length?null:H.createElement(ut,{className:"recharts-label-list"},i.map(function(g,y){var _=Je(o)?n(g,y):Bt(g&&g.payload,o),b=Je(c)?{}:{id:"".concat(c,"-").concat(y)};return H.createElement(mn,Rh({},qe(g,!0),f,b,{parentViewBox:g.parentViewBox,value:_,textBreakAll:d,viewBox:mn.parseViewBox(Je(s)?g:mE(mE({},g),{},{clockWise:s})),key:"label-".concat(y),index:y}))}))}ti.displayName="LabelList";function oj(t,e){return t?t===!0?H.createElement(ti,{key:"labelList-implicit",data:e}):H.isValidElement(t)||Ye(t)?H.createElement(ti,{key:"labelList-implicit",data:e,content:t}):Jl(t)?H.createElement(ti,Rh({data:e},t,{key:"labelList-implicit"})):null:null}function aj(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=qn(r,ti).map(function(s,c){return X.cloneElement(s,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var o=oj(t.label,e);return[o].concat(ZU(i))}ti.renderCallByParent=aj;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(this,arguments)}function vE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(n),!0).forEach(function(r){sj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sj(t,e,n){return e=lj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lj(t){var e=uj(t,"string");return Wc(e)=="symbol"?e:e+""}function uj(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cj=function(e,n){var r=$n(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Zd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,c=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,g=d*(c?1:-1)+i,y=Math.asin(d/g)/Nh,_=f?o:o+s*y,b=Rt(n,r,g,_),P=Rt(n,r,i,_),C=f?o-s*y:o,A=Rt(n,r,g*Math.cos(y*Nh),C);return{center:b,circleTangency:P,lineTangency:A,theta:y}},lN=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,c=e.endAngle,d=cj(s,c),f=s+d,g=Rt(n,r,o,s),y=Rt(n,r,o,f),_="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var b=Rt(n,r,i,s),P=Rt(n,r,i,f);_+="L ".concat(P.x,",").concat(P.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else _+="L ".concat(n,",").concat(r," Z");return _},fj=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,g=e.endAngle,y=$n(g-f),_=Zd({cx:n,cy:r,radius:o,angle:f,sign:y,cornerRadius:s,cornerIsExternal:d}),b=_.circleTangency,P=_.lineTangency,C=_.theta,A=Zd({cx:n,cy:r,radius:o,angle:g,sign:-y,cornerRadius:s,cornerIsExternal:d}),R=A.circleTangency,N=A.lineTangency,k=A.theta,$=d?Math.abs(f-g):Math.abs(f-g)-C-k;if($<0)return c?"M ".concat(P.x,",").concat(P.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):lN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:g});var I="M ".concat(P.x,",").concat(P.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+($>180),",").concat(+(y<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var D=Zd({cx:n,cy:r,radius:i,angle:f,sign:y,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),F=D.circleTangency,U=D.lineTangency,z=D.theta,G=Zd({cx:n,cy:r,radius:i,angle:g,sign:-y,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),j=G.circleTangency,K=G.lineTangency,Q=G.theta,re=d?Math.abs(f-g):Math.abs(f-g)-z-Q;if(re<0&&s===0)return"".concat(I,"L").concat(n,",").concat(r,"Z");I+="L".concat(K.x,",").concat(K.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(re>180),",").concat(+(y>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(U.x,",").concat(U.y,"Z")}else I+="L".concat(n,",").concat(r,"Z");return I},dj={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uN=function(e){var n=yE(yE({},dj),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,c=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,g=n.startAngle,y=n.endAngle,_=n.className;if(s<o||g===y)return null;var b=at("recharts-sector",_),P=s-o,C=Fn(c,P,0,!0),A;return C>0&&Math.abs(g-y)<360?A=fj({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(C,P/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:g,endAngle:y}):A=lN({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:g,endAngle:y}),H.createElement("path",mx({},qe(n,!0),{className:b,d:A,role:"img"}))};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){hj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hj(t,e,n){return e=pj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pj(t){var e=mj(t,"string");return Kc(e)=="symbol"?e:e+""}function mj(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wE={curveBasisClosed:LD,curveBasisOpen:DD,curveBasis:RD,curveBumpX:xD,curveBumpY:wD,curveLinearClosed:$D,curveLinear:yp,curveMonotoneX:FD,curveMonotoneY:BD,curveNatural:qD,curveStep:UD,curveStepAfter:zD,curveStepBefore:jD},Jd=function(e){return e.x===+e.x&&e.y===+e.y},lc=function(e){return e.x},uc=function(e){return e.y},gj=function(e,n){if(Ye(e))return e;var r="curve".concat(gp(e));return(r==="curveMonotone"||r==="curveBump")&&n?wE["".concat(r).concat(n==="vertical"?"Y":"X")]:wE[r]||yp},vj=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,c=e.layout,d=e.connectNulls,f=d===void 0?!1:d,g=gj(r,c),y=f?o.filter(function(C){return Jd(C)}):o,_;if(Array.isArray(s)){var b=f?s.filter(function(C){return Jd(C)}):s,P=y.map(function(C,A){return xE(xE({},C),{},{base:b[A]})});return c==="vertical"?_=Ud().y(uc).x1(lc).x0(function(C){return C.base.x}):_=Ud().x(lc).y1(uc).y0(function(C){return C.base.y}),_.defined(Jd).curve(g),_(P)}return c==="vertical"&&Se(s)?_=Ud().y(uc).x1(lc).x0(s):Se(s)?_=Ud().x(lc).y1(uc).y0(s):_=sk().x(lc).y(uc),_.defined(Jd).curve(g),_(y)},na=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?vj(e):i;return X.createElement("path",gx({},qe(e,!1),lh(e),{className:at("recharts-curve",n),d:s,ref:o}))},X0={exports:{}},Q0,bE;function yj(){if(bE)return Q0;bE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Q0=t,Q0}var e_,SE;function _j(){if(SE)return e_;SE=1;var t=yj();function e(){}function n(){}return n.resetWarningCache=e,e_=function(){function r(s,c,d,f,g,y){if(y!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},e_}var TE;function xj(){return TE||(TE=1,X0.exports=_j()()),X0.exports}var wj=xj();const bt=Tt(wj);var bj=Object.getOwnPropertyNames,Sj=Object.getOwnPropertySymbols,Tj=Object.prototype.hasOwnProperty;function CE(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Yd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),c=o.get(r);if(s&&c)return s===r&&c===n;o.set(n,r),o.set(r,n);var d=t(n,r,i);return o.delete(n),o.delete(r),d}}function AE(t){return bj(t).concat(Sj(t))}var Cj=Object.hasOwn||function(t,e){return Tj.call(t,e)};function ss(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Aj="__v",Pj="__o",Ej="_owner",PE=Object.getOwnPropertyDescriptor,EE=Object.keys;function Mj(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Ij(t,e){return ss(t.getTime(),e.getTime())}function Oj(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function kj(t,e){return t===e}function ME(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,c,d=0;(s=o.next())&&!s.done;){for(var f=e.entries(),g=!1,y=0;(c=f.next())&&!c.done;){if(i[y]){y++;continue}var _=s.value,b=c.value;if(n.equals(_[0],b[0],d,y,t,e,n)&&n.equals(_[1],b[1],_[0],b[0],t,e,n)){g=i[y]=!0;break}y++}if(!g)return!1;d++}return!0}var Nj=ss;function Rj(t,e,n){var r=EE(t),i=r.length;if(EE(e).length!==i)return!1;for(;i-- >0;)if(!cN(t,e,n,r[i]))return!1;return!0}function cc(t,e,n){var r=AE(t),i=r.length;if(AE(e).length!==i)return!1;for(var o,s,c;i-- >0;)if(o=r[i],!cN(t,e,n,o)||(s=PE(t,o),c=PE(e,o),(s||c)&&(!s||!c||s.configurable!==c.configurable||s.enumerable!==c.enumerable||s.writable!==c.writable)))return!1;return!0}function Lj(t,e){return ss(t.valueOf(),e.valueOf())}function Dj(t,e){return t.source===e.source&&t.flags===e.flags}function IE(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,c;(s=o.next())&&!s.done;){for(var d=e.values(),f=!1,g=0;(c=d.next())&&!c.done;){if(!i[g]&&n.equals(s.value,c.value,s.value,c.value,t,e,n)){f=i[g]=!0;break}g++}if(!f)return!1}return!0}function $j(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Fj(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cN(t,e,n,r){return(r===Ej||r===Pj||r===Aj)&&(t.$$typeof||e.$$typeof)?!0:Cj(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Bj="[object Arguments]",qj="[object Boolean]",Uj="[object Date]",jj="[object Error]",zj="[object Map]",Vj="[object Number]",Hj="[object Object]",Gj="[object RegExp]",Wj="[object Set]",Kj="[object String]",Zj="[object URL]",Jj=Array.isArray,OE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kE=Object.assign,Yj=Object.prototype.toString.call.bind(Object.prototype.toString);function Xj(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,c=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,g=t.areSetsEqual,y=t.areTypedArraysEqual,_=t.areUrlsEqual;return function(P,C,A){if(P===C)return!0;if(P==null||C==null)return!1;var R=typeof P;if(R!==typeof C)return!1;if(R!=="object")return R==="number"?s(P,C,A):R==="function"?i(P,C,A):!1;var N=P.constructor;if(N!==C.constructor)return!1;if(N===Object)return c(P,C,A);if(Jj(P))return e(P,C,A);if(OE!=null&&OE(P))return y(P,C,A);if(N===Date)return n(P,C,A);if(N===RegExp)return f(P,C,A);if(N===Map)return o(P,C,A);if(N===Set)return g(P,C,A);var k=Yj(P);return k===Uj?n(P,C,A):k===Gj?f(P,C,A):k===zj?o(P,C,A):k===Wj?g(P,C,A):k===Hj?typeof P.then!="function"&&typeof C.then!="function"&&c(P,C,A):k===Zj?_(P,C,A):k===jj?r(P,C,A):k===Bj?c(P,C,A):k===qj||k===Vj||k===Kj?d(P,C,A):!1}}function Qj(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?cc:Mj,areDatesEqual:Ij,areErrorsEqual:Oj,areFunctionsEqual:kj,areMapsEqual:r?CE(ME,cc):ME,areNumbersEqual:Nj,areObjectsEqual:r?cc:Rj,arePrimitiveWrappersEqual:Lj,areRegExpsEqual:Dj,areSetsEqual:r?CE(IE,cc):IE,areTypedArraysEqual:r?cc:$j,areUrlsEqual:Fj};if(n&&(i=kE({},i,n(i))),e){var o=Yd(i.areArraysEqual),s=Yd(i.areMapsEqual),c=Yd(i.areObjectsEqual),d=Yd(i.areSetsEqual);i=kE({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:d})}return i}function ez(t){return function(e,n,r,i,o,s,c){return t(e,n,c)}}function tz(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(d,f){var g=r(),y=g.cache,_=y===void 0?e?new WeakMap:void 0:y,b=g.meta;return n(d,f,{cache:_,equals:i,meta:b,strict:o})};if(e)return function(d,f){return n(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(d,f){return n(d,f,s)}}var nz=ca();ca({strict:!0});ca({circular:!0});ca({circular:!0,strict:!0});ca({createInternalComparator:function(){return ss}});ca({strict:!0,createInternalComparator:function(){return ss}});ca({circular:!0,createInternalComparator:function(){return ss}});ca({circular:!0,createInternalComparator:function(){return ss},strict:!0});function ca(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,c=Qj(t),d=Xj(c),f=r?r(d):ez(d);return tz({circular:n,comparator:d,createState:i,equals:f,strict:s})}function rz(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):rz(i)};requestAnimationFrame(r)}function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}function iz(t){return lz(t)||sz(t)||az(t)||oz()}function oz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function az(t,e){if(t){if(typeof t=="string")return RE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RE(t,e)}}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lz(t){if(Array.isArray(t))return t}function uz(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,c=iz(s),d=c[0],f=c.slice(1);if(typeof d=="number"){NE(i.bind(null,f),d);return}i(d),NE(i.bind(null,f));return}vx(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){fN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fN(t,e,n){return e=cz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cz(t){var e=fz(t,"string");return Zc(e)==="symbol"?e:String(e)}function fz(t,e){if(Zc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dz=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},hz=function(e){return e},pz=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xc=function(e,n){return Object.keys(n).reduce(function(r,i){return DE(DE({},r),{},fN({},i,e(i,n[i])))},{})},$E=function(e,n,r){return e.map(function(i){return"".concat(pz(i)," ").concat(n,"ms ").concat(r)}).join(",")};function mz(t,e){return yz(t)||vz(t,e)||dN(t,e)||gz()}function gz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function yz(t){if(Array.isArray(t))return t}function _z(t){return bz(t)||wz(t)||dN(t)||xz()}function xz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dN(t,e){if(t){if(typeof t=="string")return yx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yx(t,e)}}function wz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bz(t){if(Array.isArray(t))return yx(t)}function yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lh=1e-4,hN=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},pN=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},FE=function(e,n){return function(r){var i=hN(e,n);return pN(i,r)}},Sz=function(e,n){return function(r){var i=hN(e,n),o=[].concat(_z(i.map(function(s,c){return s*c}).slice(1)),[0]);return pN(o,r)}},BE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,c=1;break;case"ease":i=.25,o=.1,s=.25,c=1;break;case"ease-in":i=.42,o=0,s=1,c=1;break;case"ease-out":i=.42,o=0,s=.58,c=1;break;case"ease-in-out":i=0,o=0,s=.58,c=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),g=mz(f,4);i=g[0],o=g[1],s=g[2],c=g[3]}}}var y=FE(i,s),_=FE(o,c),b=Sz(i,s),P=function(R){return R>1?1:R<0?0:R},C=function(R){for(var N=R>1?1:R,k=N,$=0;$<8;++$){var I=y(k)-N,D=b(k);if(Math.abs(I-N)<Lh||D<Lh)return _(k);k=P(k-I/D)}return _(k)};return C.isStepper=!1,C},Tz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,c=s===void 0?17:s,d=function(g,y,_){var b=-(g-y)*r,P=_*o,C=_+(b-P)*c/1e3,A=_*c/1e3+g;return Math.abs(A-y)<Lh&&Math.abs(C)<Lh?[y,0]:[A,C]};return d.isStepper=!0,d.dt=c,d},Cz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BE(i);case"spring":return Tz();default:if(i.split("(")[0]==="cubic-bezier")return BE(i)}return typeof i=="function"?i:null};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function qE(t){return Ez(t)||Pz(t)||mN(t)||Az()}function Az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ez(t){if(Array.isArray(t))return xx(t)}function UE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(n),!0).forEach(function(r){_x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _x(t,e,n){return e=Mz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mz(t){var e=Iz(t,"string");return Jc(e)==="symbol"?e:String(e)}function Iz(t,e){if(Jc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oz(t,e){return Rz(t)||Nz(t,e)||mN(t,e)||kz()}function kz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mN(t,e){if(t){if(typeof t=="string")return xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xx(t,e)}}function xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Rz(t){if(Array.isArray(t))return t}var Dh=function(e,n,r){return e+(n-e)*r},wx=function(e){var n=e.from,r=e.to;return n!==r},Lz=function t(e,n,r){var i=xc(function(o,s){if(wx(s)){var c=e(s.from,s.to,s.velocity),d=Oz(c,2),f=d[0],g=d[1];return _n(_n({},s),{},{from:f,velocity:g})}return s},n);return r<1?xc(function(o,s){return wx(s)?_n(_n({},s),{},{velocity:Dh(s.velocity,i[o].velocity,r),from:Dh(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Dz=function(t,e,n,r,i){var o=dz(t,e),s=o.reduce(function(A,R){return _n(_n({},A),{},_x({},R,[t[R],e[R]]))},{}),c=o.reduce(function(A,R){return _n(_n({},A),{},_x({},R,{from:t[R],velocity:0,to:e[R]}))},{}),d=-1,f,g,y=function(){return null},_=function(){return xc(function(R,N){return N.from},c)},b=function(){return!Object.values(c).filter(wx).length},P=function(R){f||(f=R);var N=R-f,k=N/n.dt;c=Lz(n,c,k),i(_n(_n(_n({},t),e),_())),f=R,b()||(d=requestAnimationFrame(y))},C=function(R){g||(g=R);var N=(R-g)/r,k=xc(function(I,D){return Dh.apply(void 0,qE(D).concat([n(N)]))},s);if(i(_n(_n(_n({},t),e),k)),N<1)d=requestAnimationFrame(y);else{var $=xc(function(I,D){return Dh.apply(void 0,qE(D).concat([n(1)]))},s);i(_n(_n(_n({},t),e),$))}};return y=n.isStepper?P:C,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(d)}}};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}var $z=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fz(t,e){if(t==null)return{};var n=Bz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function t_(t){return zz(t)||jz(t)||Uz(t)||qz()}function qz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uz(t,e){if(t){if(typeof t=="string")return bx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bx(t,e)}}function jz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zz(t){if(Array.isArray(t))return bx(t)}function bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(n),!0).forEach(function(r){mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mc(t,e,n){return e=gN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gN(r.key),r)}}function Gz(t,e,n){return e&&Hz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gN(t){var e=Wz(t,"string");return El(e)==="symbol"?e:String(e)}function Wz(t,e){if(El(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sx(t,e)}function Sx(t,e){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sx(t,e)}function Zz(t){var e=Jz();return function(){var r=$h(t),i;if(e){var o=$h(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tx(this,i)}}function Tx(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cx(t)}function Cx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$h(t)}var Lr=function(t){Kz(n,t);var e=Zz(n);function n(r,i){var o;Vz(this,n),o=e.call(this,r,i);var s=o.props,c=s.isActive,d=s.attributeName,f=s.from,g=s.to,y=s.steps,_=s.children,b=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Cx(o)),o.changeStyle=o.changeStyle.bind(Cx(o)),!c||b<=0)return o.state={style:{}},typeof _=="function"&&(o.state={style:g}),Tx(o);if(y&&y.length)o.state={style:y[0].style};else if(f){if(typeof _=="function")return o.state={style:f},Tx(o);o.state={style:d?mc({},d,f):f}}else o.state={style:{}};return o}return Gz(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,c=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,g=o.to,y=o.from,_=this.state.style;if(c){if(!s){var b={style:d?mc({},d,g):g};this.state&&_&&(d&&_[d]!==g||!d&&_!==g)&&this.setState(b);return}if(!(nz(i.to,g)&&i.canBegin&&i.isActive)){var P=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var C=P||f?y:i.to;if(this.state&&_){var A={style:d?mc({},d,C):C};(d&&_[d]!==C||!d&&_!==C)&&this.setState(A)}this.runAnimation(Kr(Kr({},this.props),{},{from:C,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,c=i.to,d=i.duration,f=i.easing,g=i.begin,y=i.onAnimationEnd,_=i.onAnimationStart,b=Dz(s,c,Cz(f),d,this.changeStyle),P=function(){o.stopJSAnimation=b()};this.manager.start([_,g,P,d,y])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,c=i.begin,d=i.onAnimationStart,f=s[0],g=f.style,y=f.duration,_=y===void 0?0:y,b=function(C,A,R){if(R===0)return C;var N=A.duration,k=A.easing,$=k===void 0?"ease":k,I=A.style,D=A.properties,F=A.onAnimationEnd,U=R>0?s[R-1]:A,z=D||Object.keys(I);if(typeof $=="function"||$==="spring")return[].concat(t_(C),[o.runJSAnimation.bind(o,{from:U.style,to:I,duration:N,easing:$}),N]);var G=$E(z,N,$),j=Kr(Kr(Kr({},U.style),I),{},{transition:G});return[].concat(t_(C),[j,N,F]).filter(hz)};return this.manager.start([d].concat(t_(s.reduce(b,[g,Math.max(_,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uz());var o=i.begin,s=i.duration,c=i.attributeName,d=i.to,f=i.easing,g=i.onAnimationStart,y=i.onAnimationEnd,_=i.steps,b=i.children,P=this.manager;if(this.unSubscribe=P.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(_.length>1){this.runStepAnimation(i);return}var C=c?mc({},c,d):d,A=$E(Object.keys(C),s,f);P.start([g,o,Kr(Kr({},C),{},{transition:A}),s,y])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=Fz(i,$z),f=X.Children.count(o),g=this.state.style;if(typeof o=="function")return o(g);if(!c||f===0||s<=0)return o;var y=function(b){var P=b.props,C=P.style,A=C===void 0?{}:C,R=P.className,N=X.cloneElement(b,Kr(Kr({},d),{},{style:Kr(Kr({},A),g),className:R}));return N};return f===1?y(X.Children.only(o)):H.createElement("div",null,X.Children.map(o,function(_){return y(_)}))}}]),n}(X.PureComponent);Lr.displayName="Animate";Lr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Lr.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};var Yz=VO();function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function Xz(t,e){return n6(t)||t6(t,e)||e6(t,e)||Qz()}function Qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e6(t,e){if(t){if(typeof t=="string")return zE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zE(t,e)}}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function n6(t){if(Array.isArray(t))return t}function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){r6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r6(t,e,n){return e=i6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i6(t){var e=o6(t,"string");return Yc(e)=="symbol"?e:e+""}function o6(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GE=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,d=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,g;if(s>0&&o instanceof Array){for(var y=[0,0,0,0],_=0,b=4;_<b;_++)y[_]=o[_]>s?s:o[_];g="M".concat(e,",").concat(n+c*y[0]),y[0]>0&&(g+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(f,",").concat(e+d*y[0],",").concat(n)),g+="L ".concat(e+r-d*y[1],",").concat(n),y[1]>0&&(g+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+c*y[1])),g+="L ".concat(e+r,",").concat(n+i-c*y[2]),y[2]>0&&(g+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(f,`,
        `).concat(e+r-d*y[2],",").concat(n+i)),g+="L ".concat(e+d*y[3],",").concat(n+i),y[3]>0&&(g+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-c*y[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var P=Math.min(s,o);g="M ".concat(e,",").concat(n+c*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(e+d*P,",").concat(n,`
            L `).concat(e+r-d*P,",").concat(n,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(e+r,",").concat(n+c*P,`
            L `).concat(e+r,",").concat(n+i-c*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(e+r-d*P,",").concat(n+i,`
            L `).concat(e+d*P,",").concat(n+i,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(e,",").concat(n+i-c*P," Z")}else g="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return g},a6=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,c=n.width,d=n.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(o,o+c),g=Math.max(o,o+c),y=Math.min(s,s+d),_=Math.max(s,s+d);return r>=f&&r<=g&&i>=y&&i<=_}return!1},s6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cb=function(e){var n=HE(HE({},s6),e),r=X.useRef(),i=X.useState(-1),o=Xz(i,2),s=o[0],c=o[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&c($)}catch{}},[]);var d=n.x,f=n.y,g=n.width,y=n.height,_=n.radius,b=n.className,P=n.animationEasing,C=n.animationDuration,A=n.animationBegin,R=n.isAnimationActive,N=n.isUpdateAnimationActive;if(d!==+d||f!==+f||g!==+g||y!==+y||g===0||y===0)return null;var k=at("recharts-rectangle",b);return N?H.createElement(Lr,{canBegin:s>0,from:{width:g,height:y,x:d,y:f},to:{width:g,height:y,x:d,y:f},duration:C,animationEasing:P,isActive:N},function($){var I=$.width,D=$.height,F=$.x,U=$.y;return H.createElement(Lr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:C,isActive:R,easing:P},H.createElement("path",Fh({},qe(n,!0),{className:k,d:GE(F,U,I,D,_),ref:r})))}):H.createElement("path",Fh({},qe(n,!0),{className:k,d:GE(d,f,g,y,_)}))},l6=["points","className","baseLinePoints","connectNulls"];function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}function u6(t,e){if(t==null)return{};var n=c6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WE(t){return p6(t)||h6(t)||d6(t)||f6()}function f6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6(t,e){if(t){if(typeof t=="string")return Ax(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ax(t,e)}}function h6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p6(t){if(Array.isArray(t))return Ax(t)}function Ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KE=function(e){return e&&e.x===+e.x&&e.y===+e.y},m6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){KE(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),KE(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wc=function(e,n){var r=m6(e);n&&(r=[r.reduce(function(o,s){return[].concat(WE(o),WE(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,c,d){return"".concat(s).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},g6=function(e,n,r){var i=wc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(wc(n.reverse(),r).slice(1))},v6=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=u6(e,l6);if(!n||!n.length)return null;var c=at("recharts-polygon",r);if(i&&i.length){var d=s.stroke&&s.stroke!=="none",f=g6(n,i,o);return H.createElement("g",{className:c},H.createElement("path",al({},qe(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),d?H.createElement("path",al({},qe(s,!0),{fill:"none",d:wc(n,o)})):null,d?H.createElement("path",al({},qe(s,!0),{fill:"none",d:wc(i,o)})):null)}var g=wc(n,o);return H.createElement("path",al({},qe(s,!0),{fill:g.slice(-1)==="Z"?s.fill:"none",className:c,d:g}))};function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(this,arguments)}var gf=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=at("recharts-dot",o);return n===+n&&r===+r&&i===+i?X.createElement("circle",Px({},qe(e,!1),lh(e),{className:s,cx:n,cy:r,r:i})):null};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var y6=["x","y","top","left","width","height","className"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(this,arguments)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){x6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x6(t,e,n){return e=w6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w6(t){var e=b6(t,"string");return Xc(e)=="symbol"?e:e+""}function b6(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S6(t,e){if(t==null)return{};var n=T6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var C6=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},A6=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,c=s===void 0?0:s,d=e.left,f=d===void 0?0:d,g=e.width,y=g===void 0?0:g,_=e.height,b=_===void 0?0:_,P=e.className,C=S6(e,y6),A=_6({x:r,y:o,top:c,left:f,width:y,height:b},C);return!Se(r)||!Se(o)||!Se(y)||!Se(b)||!Se(c)||!Se(f)?null:H.createElement("path",Ex({},qe(A,!0),{className:at("recharts-cross",P),d:C6(r,o,y,b,c,f)}))},n_,JE;function P6(){if(JE)return n_;JE=1;var t=Ip(),e=O2(),n=bi();function r(i,o){return i&&i.length?t(i,n(o,2),e):void 0}return n_=r,n_}var E6=P6();const M6=Tt(E6);var r_,YE;function I6(){if(YE)return r_;YE=1;var t=Ip(),e=bi(),n=k2();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return r_=r,r_}var O6=I6();const k6=Tt(O6);var N6=["cx","cy","angle","ticks","axisLine"],R6=["ticks","tick","angle","tickFormatter","stroke"];function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bc.apply(this,arguments)}function XE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(n),!0).forEach(function(r){Rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QE(t,e){if(t==null)return{};var n=L6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yN(r.key),r)}}function $6(t,e,n){return e&&eM(t.prototype,e),n&&eM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F6(t,e,n){return e=Bh(e),B6(t,vN()?Reflect.construct(e,n||[],Bh(t).constructor):e.apply(t,n))}function B6(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q6(t)}function q6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vN=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(t)}function U6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mx(t,e)}function Mx(t,e){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mx(t,e)}function Rp(t,e,n){return e=yN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yN(t){var e=j6(t,"string");return Ml(e)=="symbol"?e:e+""}function j6(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lp=function(t){function e(){return D6(this,e),F6(this,e,arguments)}return U6(e,t),$6(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,c=o.cx,d=o.cy;return Rt(c,d,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,c=r.ticks,d=M6(c,function(g){return g.coordinate||0}),f=k6(c,function(g){return g.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,c=r.ticks,d=r.axisLine,f=QE(r,N6),g=c.reduce(function(P,C){return[Math.min(P[0],C.coordinate),Math.max(P[1],C.coordinate)]},[1/0,-1/0]),y=Rt(i,o,g[0],s),_=Rt(i,o,g[1],s),b=qa(qa(qa({},qe(f,!1)),{},{fill:"none"},qe(d,!1)),{},{x1:y.x,y1:y.y,x2:_.x,y2:_.y});return H.createElement("line",bc({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,c=i.angle,d=i.tickFormatter,f=i.stroke,g=QE(i,R6),y=this.getTickTextAnchor(),_=qe(g,!1),b=qe(s,!1),P=o.map(function(C,A){var R=r.getTickValueCoord(C),N=qa(qa(qa(qa({textAnchor:y,transform:"rotate(".concat(90-c,", ").concat(R.x,", ").concat(R.y,")")},_),{},{stroke:"none",fill:f},b),{},{index:A},R),{},{payload:C});return H.createElement(ut,bc({className:at("recharts-polar-radius-axis-tick",aN(s)),key:"tick-".concat(C.coordinate)},ra(r.props,C,A)),e.renderTickItem(s,N,d?d(C.value,A):C.value))});return H.createElement(ut,{className:"recharts-polar-radius-axis-ticks"},P)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:H.createElement(ut,{className:at("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),mn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return H.isValidElement(r)?s=H.cloneElement(r,i):Ye(r)?s=r(i):s=H.createElement(Qa,bc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(X.PureComponent);Rp(Lp,"displayName","PolarRadiusAxis");Rp(Lp,"axisType","radiusAxis");Rp(Lp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Va.apply(this,arguments)}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){Dp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xN(r.key),r)}}function V6(t,e,n){return e&&nM(t.prototype,e),n&&nM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function H6(t,e,n){return e=qh(e),G6(t,_N()?Reflect.construct(e,n||[],qh(t).constructor):e.apply(t,n))}function G6(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W6(t)}function W6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_N=function(){return!!t})()}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(t)}function K6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ix(t,e)}function Ix(t,e){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ix(t,e)}function Dp(t,e,n){return e=xN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xN(t){var e=Z6(t,"string");return Il(e)=="symbol"?e:e+""}function Z6(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J6=Math.PI/180,rM=1e-5,$p=function(t){function e(){return z6(this,e),H6(this,e,arguments)}return K6(e,t),V6(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,c=i.radius,d=i.orientation,f=i.tickSize,g=f||8,y=Rt(o,s,c,r.coordinate),_=Rt(o,s,c+(d==="inner"?-1:1)*g,r.coordinate);return{x1:y.x,y1:y.y,x2:_.x,y2:_.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*J6),s;return o>rM?s=i==="outer"?"start":"end":o<-rM?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,c=r.axisLine,d=r.axisLineType,f=Ua(Ua({},qe(this.props,!1)),{},{fill:"none"},qe(c,!1));if(d==="circle")return H.createElement(gf,Va({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:s}));var g=this.props.ticks,y=g.map(function(_){return Rt(i,o,s,_.coordinate)});return H.createElement(v6,Va({className:"recharts-polar-angle-axis-line"},f,{points:y}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,c=i.tickLine,d=i.tickFormatter,f=i.stroke,g=qe(this.props,!1),y=qe(s,!1),_=Ua(Ua({},g),{},{fill:"none"},qe(c,!1)),b=o.map(function(P,C){var A=r.getTickLineCoord(P),R=r.getTickTextAnchor(P),N=Ua(Ua(Ua({textAnchor:R},g),{},{stroke:"none",fill:f},y),{},{index:C,payload:P,x:A.x2,y:A.y2});return H.createElement(ut,Va({className:at("recharts-polar-angle-axis-tick",aN(s)),key:"tick-".concat(P.coordinate)},ra(r.props,P,C)),c&&H.createElement("line",Va({className:"recharts-polar-angle-axis-tick-line"},_,A)),s&&e.renderTickItem(s,N,d?d(P.value,C):P.value))});return H.createElement(ut,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:H.createElement(ut,{className:at("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return H.isValidElement(r)?s=H.cloneElement(r,i):Ye(r)?s=r(i):s=H.createElement(Qa,Va({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(X.PureComponent);Dp($p,"displayName","PolarAngleAxis");Dp($p,"axisType","angleAxis");Dp($p,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var i_,iM;function Y6(){if(iM)return i_;iM=1;var t=Ik(),e=t(Object.getPrototypeOf,Object);return i_=e,i_}var o_,oM;function X6(){if(oM)return o_;oM=1;var t=so(),e=Y6(),n=lo(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,c=o.hasOwnProperty,d=s.call(Object);function f(g){if(!n(g)||t(g)!=r)return!1;var y=e(g);if(y===null)return!0;var _=c.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&s.call(_)==d}return o_=f,o_}var Q6=X6();const eV=Tt(Q6);var a_,aM;function tV(){if(aM)return a_;aM=1;var t=so(),e=lo(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return a_=r,a_}var nV=tV();const rV=Tt(nV);function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}function iV(t,e){return lV(t)||sV(t,e)||aV(t,e)||oV()}function oV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aV(t,e){if(t){if(typeof t=="string")return sM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sM(t,e)}}function sM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function lV(t){if(Array.isArray(t))return t}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){uV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uV(t,e,n){return e=cV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cV(t){var e=fV(t,"string");return Qc(e)=="symbol"?e:e+""}function fV(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cM=function(e,n,r,i,o){var s=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-s/2,",").concat(n+o),c+="L ".concat(e+r-s/2-i,",").concat(n+o),c+="L ".concat(e,",").concat(n," Z"),c},dV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hV=function(e){var n=uM(uM({},dV),e),r=X.useRef(),i=X.useState(-1),o=iV(i,2),s=o[0],c=o[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&c(k)}catch{}},[]);var d=n.x,f=n.y,g=n.upperWidth,y=n.lowerWidth,_=n.height,b=n.className,P=n.animationEasing,C=n.animationDuration,A=n.animationBegin,R=n.isUpdateAnimationActive;if(d!==+d||f!==+f||g!==+g||y!==+y||_!==+_||g===0&&y===0||_===0)return null;var N=at("recharts-trapezoid",b);return R?H.createElement(Lr,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:_,x:d,y:f},to:{upperWidth:g,lowerWidth:y,height:_,x:d,y:f},duration:C,animationEasing:P,isActive:R},function(k){var $=k.upperWidth,I=k.lowerWidth,D=k.height,F=k.x,U=k.y;return H.createElement(Lr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:C,easing:P},H.createElement("path",Uh({},qe(n,!0),{className:N,d:cM(F,U,$,I,D),ref:r})))}):H.createElement("g",null,H.createElement("path",Uh({},qe(n,!0),{className:N,d:cM(d,f,g,y,_)})))},pV=["option","shapeType","propTransformer","activeClassName","isActive"];function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function mV(t,e){if(t==null)return{};var n=gV(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){vV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vV(t,e,n){return e=yV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t){var e=_V(t,"string");return ef(e)=="symbol"?e:e+""}function _V(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xV(t,e){return jh(jh({},e),t)}function wV(t,e){return t==="symbols"}function dM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(cb,n);case"trapezoid":return H.createElement(hV,n);case"sector":return H.createElement(uN,n);case"symbols":if(wV(e))return H.createElement(xp,n);break;default:return null}}function bV(t){return X.isValidElement(t)?t.props:t}function zh(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?xV:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,c=t.isActive,d=mV(t,pV),f;if(X.isValidElement(e))f=X.cloneElement(e,jh(jh({},d),bV(e)));else if(Ye(e))f=e(d);else if(eV(e)&&!rV(e)){var g=i(e,d);f=H.createElement(dM,{shapeType:n,elementProps:g})}else{var y=d;f=H.createElement(dM,{shapeType:n,elementProps:y})}return c?H.createElement(ut,{className:s},f):f}function Fp(t,e){return e!=null&&"trapezoids"in t.props}function Bp(t,e){return e!=null&&"sectors"in t.props}function tf(t,e){return e!=null&&"points"in t.props}function SV(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function TV(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function CV(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function AV(t,e){var n;return Fp(t,e)?n=SV:Bp(t,e)?n=TV:tf(t,e)&&(n=CV),n}function PV(t,e){var n;return Fp(t,e)?n="trapezoids":Bp(t,e)?n="sectors":tf(t,e)&&(n="points"),n}function EV(t,e){if(Fp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Bp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return tf(t,e)?e.payload:{}}function MV(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=PV(n,e),o=EV(n,e),s=r.filter(function(d,f){var g=ia(o,d),y=n.props[i].filter(function(P){var C=AV(n,e);return C(P,e)}),_=n.props[i].indexOf(y[y.length-1]),b=f===_;return g&&b}),c=r.indexOf(s[s.length-1]);return c}var ih;function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bN(r.key),r)}}function OV(t,e,n){return e&&pM(t.prototype,e),n&&pM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kV(t,e,n){return e=Vh(e),NV(t,wN()?Reflect.construct(e,n||[],Vh(t).constructor):e.apply(t,n))}function NV(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RV(t)}function RV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wN=function(){return!!t})()}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vh(t)}function LV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ox(t,e)}function Ox(t,e){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ox(t,e)}function Or(t,e,n){return e=bN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bN(t){var e=DV(t,"string");return Ol(e)=="symbol"?e:e+""}function DV(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fo=function(t){function e(n){var r;return IV(this,e),r=kV(this,e,[n]),Or(r,"pieRef",null),Or(r,"sectorRefs",[]),Or(r,"id",sa("recharts-pie-")),Or(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ye(i)&&i()}),Or(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ye(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return LV(e,t),OV(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,c=o.labelLine,d=o.dataKey,f=o.valueKey,g=qe(this.props,!1),y=qe(s,!1),_=qe(c,!1),b=s&&s.offsetRadius||20,P=r.map(function(C,A){var R=(C.startAngle+C.endAngle)/2,N=Rt(C.cx,C.cy,C.outerRadius+b,R),k=kt(kt(kt(kt({},g),C),{},{stroke:"none"},y),{},{index:A,textAnchor:e.getTextAnchor(N.x,C.cx)},N),$=kt(kt(kt(kt({},g),C),{},{fill:"none",stroke:C.fill},_),{},{index:A,points:[Rt(C.cx,C.cy,C.outerRadius,R),N]}),I=d;return Je(d)&&Je(f)?I="value":Je(d)&&(I=f),H.createElement(ut,{key:"label-".concat(C.startAngle,"-").concat(C.endAngle,"-").concat(C.midAngle,"-").concat(A)},c&&e.renderLabelLineItem(c,$,"line"),e.renderLabelItem(s,k,Bt(C,I)))});return H.createElement(ut,{className:"recharts-pie-labels"},P)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,c=o.blendStroke,d=o.inactiveShape;return r.map(function(f,g){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var y=i.isActiveIndex(g),_=d&&i.hasActiveIndex()?d:null,b=y?s:_,P=kt(kt({},f),{},{stroke:c?f.fill:f.stroke,tabIndex:-1});return H.createElement(ut,sl({ref:function(A){A&&!i.sectorRefs.includes(A)&&i.sectorRefs.push(A)},tabIndex:-1,className:"recharts-pie-sector"},ra(i.props,f,g),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(g)}),H.createElement(zh,sl({option:b,isActive:y,shapeType:"sector"},P)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,g=i.animationId,y=this.state,_=y.prevSectors,b=y.prevIsAnimationActive;return H.createElement(Lr,{begin:c,duration:d,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(P){var C=P.t,A=[],R=o&&o[0],N=R.startAngle;return o.forEach(function(k,$){var I=_&&_[$],D=$>0?hr(k,"paddingAngle",0):0;if(I){var F=Gt(I.endAngle-I.startAngle,k.endAngle-k.startAngle),U=kt(kt({},k),{},{startAngle:N+D,endAngle:N+F(C)+D});A.push(U),N=U.endAngle}else{var z=k.endAngle,G=k.startAngle,j=Gt(0,z-G),K=j(C),Q=kt(kt({},k),{},{startAngle:N+D,endAngle:N+K+D});A.push(Q),N=Q.endAngle}}),H.createElement(ut,null,r.renderSectorsStatically(A))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!ia(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,c=i.className,d=i.label,f=i.cx,g=i.cy,y=i.innerRadius,_=i.outerRadius,b=i.isAnimationActive,P=this.state.isAnimationFinished;if(o||!s||!s.length||!Se(f)||!Se(g)||!Se(y)||!Se(_))return null;var C=at("recharts-pie",c);return H.createElement(ut,{tabIndex:this.props.rootTabIndex,className:C,ref:function(R){r.pieRef=R}},this.renderSectors(),d&&this.renderLabels(s),mn.renderCallByParent(this.props,null,!1),(!b||P)&&ti.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(H.isValidElement(r))return H.cloneElement(r,i);if(Ye(r))return r(i);var s=at("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return H.createElement(na,sl({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(H.isValidElement(r))return H.cloneElement(r,i);var s=o;if(Ye(r)&&(s=r(i),H.isValidElement(s)))return s;var c=at("recharts-pie-label-text",typeof r!="boolean"&&!Ye(r)?r.className:"");return H.createElement(Qa,sl({},i,{alignmentBaseline:"middle",className:c}),s)}}])}(X.PureComponent);ih=fo;Or(fo,"displayName","Pie");Or(fo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!uo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Or(fo,"parseDeltaAngle",function(t,e){var n=$n(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Or(fo,"getRealPieData",function(t){var e=t.data,n=t.children,r=qe(t,!1),i=qn(n,ff);return e&&e.length?e.map(function(o,s){return kt(kt(kt({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return kt(kt({},r),o.props)}):[]});Or(fo,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=oN(i,o),c=r+Fn(t.cx,i,i/2),d=n+Fn(t.cy,o,o/2),f=Fn(t.innerRadius,s,0),g=Fn(t.outerRadius,s,s*.8),y=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:g,maxRadius:y}});Or(fo,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?kt(kt({},e.type.defaultProps),e.props):e.props,i=ih.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,c=r.endAngle,d=r.paddingAngle,f=r.dataKey,g=r.nameKey,y=r.valueKey,_=r.tooltipType,b=Math.abs(r.minAngle),P=ih.parseCoordinateOfPie(r,n),C=ih.parseDeltaAngle(s,c),A=Math.abs(C),R=f;Je(f)&&Je(y)?(ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R="value"):Je(f)&&(ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R=y);var N=i.filter(function(U){return Bt(U,R,0)!==0}).length,k=(A>=360?N:N-1)*d,$=A-N*b-k,I=i.reduce(function(U,z){var G=Bt(z,R,0);return U+(Se(G)?G:0)},0),D;if(I>0){var F;D=i.map(function(U,z){var G=Bt(U,R,0),j=Bt(U,g,z),K=(Se(G)?G:0)/I,Q;z?Q=F.endAngle+$n(C)*d*(G!==0?1:0):Q=s;var re=Q+$n(C)*((G!==0?b:0)+K*$),ie=(Q+re)/2,ae=(P.innerRadius+P.outerRadius)/2,de=[{name:j,value:G,payload:U,dataKey:R,type:_}],J=Rt(P.cx,P.cy,ae,ie);return F=kt(kt(kt({percent:K,cornerRadius:o,name:j,tooltipPayload:de,midAngle:ie,middleRadius:ae,tooltipPosition:J},U),P),{},{value:Bt(U,R),startAngle:Q,endAngle:re,payload:U,paddingAngle:$n(C)*d}),F})}return kt(kt({},P),{},{sectors:D,data:i})});var s_,mM;function $V(){if(mM)return s_;mM=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var c=-1,d=e(t((i-r)/(o||1)),0),f=Array(d);d--;)f[s?d:++c]=r,r+=o;return f}return s_=n,s_}var l_,gM;function SN(){if(gM)return l_;gM=1;var t=Gk(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return l_=r,l_}var u_,vM;function FV(){if(vM)return u_;vM=1;var t=$V(),e=Sp(),n=SN();function r(i){return function(o,s,c){return c&&typeof c!="number"&&e(o,s,c)&&(s=c=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),c=c===void 0?o<s?1:-1:n(c),t(o,s,c,i)}}return u_=r,u_}var c_,yM;function BV(){if(yM)return c_;yM=1;var t=FV(),e=t();return c_=e,c_}var qV=BV();const Hh=Tt(qV);function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){TN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TN(t,e,n){return e=UV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UV(t){var e=jV(t,"string");return nf(e)=="symbol"?e:e+""}function jV(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zV=["Webkit","Moz","O","ms"],VV=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=zV.reduce(function(o,s){return xM(xM({},o),{},TN({},s+r,n))},{});return i[e]=n,i};function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AN(r.key),r)}}function GV(t,e,n){return e&&bM(t.prototype,e),n&&bM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WV(t,e,n){return e=Wh(e),KV(t,CN()?Reflect.construct(e,n||[],Wh(t).constructor):e.apply(t,n))}function KV(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZV(t)}function ZV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CN=function(){return!!t})()}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wh(t)}function JV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kx(t,e)}function kx(t,e){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kx(t,e)}function cr(t,e,n){return e=AN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AN(t){var e=YV(t,"string");return kl(e)=="symbol"?e:e+""}function YV(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XV=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=yc().domain(Hh(0,d)).range([o,o+s-c]),g=f.domain().map(function(y){return f(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:g}},SM=function(e){return e.changedTouches&&!!e.changedTouches.length},no=function(t){function e(n){var r;return HV(this,e),r=WV(this,e,[n]),cr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),cr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),cr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,c=i.startIndex;s==null||s({endIndex:o,startIndex:c})}),r.detachDragEndListener()}),cr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),cr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),cr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),cr(r,"handleSlideDragStart",function(i){var o=SM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return JV(e,t),GV(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,g=f.length-1,y=Math.min(i,o),_=Math.max(i,o),b=e.getIndexInRange(s,y),P=e.getIndexInRange(s,_);return{startIndex:b-b%d,endIndex:P===g?g:P-P%d}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,c=i.dataKey,d=Bt(o[r],c,r);return Ye(s)?s(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,c=i.endX,d=this.props,f=d.x,g=d.width,y=d.travellerWidth,_=d.startIndex,b=d.endIndex,P=d.onChange,C=r.pageX-o;C>0?C=Math.min(C,f+g-y-c,f+g-y-s):C<0&&(C=Math.max(C,f-s,f-c));var A=this.getIndex({startX:s+C,endX:c+C});(A.startIndex!==_||A.endIndex!==b)&&P&&P(A),this.setState({startX:s+C,endX:c+C,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=SM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,c=i.endX,d=i.startX,f=this.state[s],g=this.props,y=g.x,_=g.width,b=g.travellerWidth,P=g.onChange,C=g.gap,A=g.data,R={startX:this.state.startX,endX:this.state.endX},N=r.pageX-o;N>0?N=Math.min(N,y+_-b-f):N<0&&(N=Math.max(N,y-f)),R[s]=f+N;var k=this.getIndex(R),$=k.startIndex,I=k.endIndex,D=function(){var U=A.length-1;return s==="startX"&&(c>d?$%C===0:I%C===0)||c<d&&I===U||s==="endX"&&(c>d?I%C===0:$%C===0)||c>d&&I===U};this.setState(cr(cr({},s,f+N),"brushMoveStartX",r.pageX),function(){P&&D()&&P(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,c=s.scaleValues,d=s.startX,f=s.endX,g=this.state[i],y=c.indexOf(g);if(y!==-1){var _=y+r;if(!(_===-1||_>=c.length)){var b=c[_];i==="startX"&&b>=f||i==="endX"&&b<=d||this.setState(cr({},i,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,c=r.height,d=r.fill,f=r.stroke;return H.createElement("rect",{stroke:f,fill:d,x:i,y:o,width:s,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,c=r.height,d=r.data,f=r.children,g=r.padding,y=X.Children.only(f);return y?H.cloneElement(y,{x:i,y:o,width:s,height:c,margin:g,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,c=this,d=this.props,f=d.y,g=d.travellerWidth,y=d.height,_=d.traveller,b=d.ariaLabel,P=d.data,C=d.startIndex,A=d.endIndex,R=Math.max(r,this.props.x),N=f_(f_({},qe(this.props,!1)),{},{x:R,y:f,width:g,height:y}),k=b||"Min value: ".concat((o=P[C])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=P[A])===null||s===void 0?void 0:s.name);return H.createElement(ut,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),c.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(_,N))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,c=o.height,d=o.stroke,f=o.travellerWidth,g=Math.min(r,i)+f,y=Math.max(Math.abs(i-r)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:g,y:s,width:y,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,c=r.height,d=r.travellerWidth,f=r.stroke,g=this.state,y=g.startX,_=g.endX,b=5,P={pointerEvents:"none",fill:f};return H.createElement(ut,{className:"recharts-brush-texts"},H.createElement(Qa,Gh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(y,_)-b,y:s+c/2},P),this.getTextOfTick(i)),H.createElement(Qa,Gh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(y,_)+d+b,y:s+c/2},P),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,c=r.x,d=r.y,f=r.width,g=r.height,y=r.alwaysShowText,_=this.state,b=_.startX,P=_.endX,C=_.isTextActive,A=_.isSlideMoving,R=_.isTravellerMoving,N=_.isTravellerFocused;if(!i||!i.length||!Se(c)||!Se(d)||!Se(f)||!Se(g)||f<=0||g<=0)return null;var k=at("recharts-brush",o),$=H.Children.count(s)===1,I=VV("userSelect","none");return H.createElement(ut,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(b,P),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(P,"endX"),(C||A||R||N||y)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,c=r.height,d=r.stroke,f=Math.floor(o+c/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:o,width:s,height:c,fill:d,stroke:"none"}),H.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):Ye(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,c=r.x,d=r.travellerWidth,f=r.updateId,g=r.startIndex,y=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return f_({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s},o&&o.length?XV({data:o,width:s,x:c,travellerWidth:d,startIndex:g,endIndex:y}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+s-d]);var _=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:_}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,c=o-1;c-s>1;){var d=Math.floor((s+c)/2);r[d]>i?c=d:s=d}return i>=r[c]?c:s}}])}(X.PureComponent);cr(no,"displayName","Brush");cr(no,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var d_,TM;function QV(){if(TM)return d_;TM=1;var t=Dw();function e(n,r){var i;return t(n,function(o,s,c){return i=r(o,s,c),!i}),!!i}return d_=e,d_}var h_,CM;function e8(){if(CM)return h_;CM=1;var t=Sk(),e=bi(),n=QV(),r=Jn(),i=Sp();function o(s,c,d){var f=r(s)?t:n;return d&&i(s,c,d)&&(c=void 0),f(s,e(c,3))}return h_=o,h_}var t8=e8();const n8=Tt(t8);var _i=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},p_,AM;function r8(){if(AM)return p_;AM=1;var t=Uk();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return p_=e,p_}var m_,PM;function i8(){if(PM)return m_;PM=1;var t=r8(),e=Bk(),n=bi();function r(i,o){var s={};return o=n(o,3),e(i,function(c,d,f){t(s,d,o(c,d,f))}),s}return m_=r,m_}var o8=i8();const a8=Tt(o8);var g_,EM;function s8(){if(EM)return g_;EM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return g_=t,g_}var v_,MM;function l8(){if(MM)return v_;MM=1;var t=Dw();function e(n,r){var i=!0;return t(n,function(o,s,c){return i=!!r(o,s,c),i}),i}return v_=e,v_}var y_,IM;function u8(){if(IM)return y_;IM=1;var t=s8(),e=l8(),n=bi(),r=Jn(),i=Sp();function o(s,c,d){var f=r(s)?t:e;return d&&i(s,c,d)&&(c=void 0),f(s,n(c,3))}return y_=o,y_}var c8=u8();const PN=Tt(c8);var f8=["x","y"];function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(this,arguments)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){d8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d8(t,e,n){return e=h8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h8(t){var e=p8(t,"string");return rf(e)=="symbol"?e:e+""}function p8(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m8(t,e){if(t==null)return{};var n=g8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v8(t,e){var n=t.x,r=t.y,i=m8(t,f8),o="".concat(n),s=parseInt(o,10),c="".concat(r),d=parseInt(c,10),f="".concat(e.height||i.height),g=parseInt(f,10),y="".concat(e.width||i.width),_=parseInt(y,10);return fc(fc(fc(fc(fc({},e),i),s?{x:s}:{}),d?{y:d}:{}),{},{height:g,width:_,name:e.name,radius:e.radius})}function kM(t){return H.createElement(zh,Nx({shapeType:"rectangle",propTransformer:v8,activeClassName:"recharts-active-bar"},t))}var y8=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Se(r)||UL(r);return o?e(r,i):(o||ts(),n)}},_8=["value","background"],EN;function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function x8(t,e){if(t==null)return{};var n=w8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){Xo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IN(r.key),r)}}function S8(t,e,n){return e&&RM(t.prototype,e),n&&RM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T8(t,e,n){return e=Zh(e),C8(t,MN()?Reflect.construct(e,n||[],Zh(t).constructor):e.apply(t,n))}function C8(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A8(t)}function A8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MN=function(){return!!t})()}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zh(t)}function P8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rx(t,e)}function Rx(t,e){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rx(t,e)}function Xo(t,e,n){return e=IN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IN(t){var e=E8(t,"string");return Nl(e)=="symbol"?e:e+""}function E8(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oa=function(t){function e(){var n;b8(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=T8(this,e,[].concat(i)),Xo(n,"state",{isAnimationFinished:!1}),Xo(n,"id",sa("recharts-bar-")),Xo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Xo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return P8(e,t),S8(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,c=o.dataKey,d=o.activeIndex,f=o.activeBar,g=qe(this.props,!1);return r&&r.map(function(y,_){var b=_===d,P=b?f:s,C=en(en(en({},g),y),{},{isActive:b,option:P,index:_,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(ut,Kh({className:"recharts-bar-rectangle"},ra(i.props,y,_),{key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(_)}),H.createElement(kM,C))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,g=i.animationEasing,y=i.animationId,_=this.state.prevData;return H.createElement(Lr,{begin:d,duration:f,isActive:c,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var P=b.t,C=o.map(function(A,R){var N=_&&_[R];if(N){var k=Gt(N.x,A.x),$=Gt(N.y,A.y),I=Gt(N.width,A.width),D=Gt(N.height,A.height);return en(en({},A),{},{x:k(P),y:$(P),width:I(P),height:D(P)})}if(s==="horizontal"){var F=Gt(0,A.height),U=F(P);return en(en({},A),{},{y:A.y+A.height-U,height:U})}var z=Gt(0,A.width),G=z(P);return en(en({},A),{},{width:G})});return H.createElement(ut,null,r.renderRectanglesStatically(C))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!ia(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,c=i.activeIndex,d=qe(this.props.background,!1);return o.map(function(f,g){f.value;var y=f.background,_=x8(f,_8);if(!y)return null;var b=en(en(en(en(en({},_),{},{fill:"#eee"},y),d),ra(r.props,f,g)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:g,className:"recharts-bar-background-rectangle"});return H.createElement(kM,Kh({key:"background-bar-".concat(g),option:r.props.background,isActive:g===c},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,c=o.xAxis,d=o.yAxis,f=o.layout,g=o.children,y=qn(g,nu);if(!y)return null;var _=f==="vertical"?s[0].height/2:s[0].width/2,b=function(A,R){var N=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:N,errorVal:Bt(A,R)}},P={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(ut,P,y.map(function(C){return H.cloneElement(C,{key:"error-bar-".concat(i,"-").concat(C.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,offset:_,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,c=r.xAxis,d=r.yAxis,f=r.left,g=r.top,y=r.width,_=r.height,b=r.isAnimationActive,P=r.background,C=r.id;if(i||!o||!o.length)return null;var A=this.state.isAnimationFinished,R=at("recharts-bar",s),N=c&&c.allowDataOverflow,k=d&&d.allowDataOverflow,$=N||k,I=Je(C)?this.id:C;return H.createElement(ut,{className:R},N||k?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(I)},H.createElement("rect",{x:N?f:f-y/2,y:k?g:g-_/2,width:N?y:y*2,height:k?_:_*2}))):null,H.createElement(ut,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(I,")"):null},P?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,I),(!b||A)&&ti.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(X.PureComponent);EN=oa;Xo(oa,"displayName","Bar");Xo(oa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!uo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xo(oa,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,g=t.dataStartIndex,y=t.displayedData,_=t.offset,b=nU(r,n);if(!b)return null;var P=e.layout,C=n.type.defaultProps,A=C!==void 0?en(en({},C),n.props):n.props,R=A.dataKey,N=A.children,k=A.minPointSize,$=P==="horizontal"?s:o,I=f?$.scale.domain():null,D=uU({numericAxis:$}),F=qn(N,ff),U=y.map(function(z,G){var j,K,Q,re,ie,ae;f?j=rU(f[g+G],I):(j=Bt(z,R),Array.isArray(j)||(j=[D,j]));var de=y8(k,EN.defaultProps.minPointSize)(j[1],G);if(P==="horizontal"){var J,ce=[s.scale(j[0]),s.scale(j[1])],ne=ce[0],V=ce[1];K=oE({axis:o,ticks:c,bandSize:i,offset:b.offset,entry:z,index:G}),Q=(J=V??ne)!==null&&J!==void 0?J:void 0,re=b.size;var ee=ne-V;if(ie=Number.isNaN(ee)?0:ee,ae={x:K,y:s.y,width:re,height:s.height},Math.abs(de)>0&&Math.abs(ie)<Math.abs(de)){var ve=$n(ie||de)*(Math.abs(de)-Math.abs(ie));Q-=ve,ie+=ve}}else{var Ce=[o.scale(j[0]),o.scale(j[1])],le=Ce[0],pe=Ce[1];if(K=le,Q=oE({axis:s,ticks:d,bandSize:i,offset:b.offset,entry:z,index:G}),re=pe-le,ie=b.size,ae={x:o.x,y:Q,width:o.width,height:ie},Math.abs(de)>0&&Math.abs(re)<Math.abs(de)){var Le=$n(re||de)*(Math.abs(de)-Math.abs(re));re+=Le}}return en(en(en({},z),{},{x:K,y:Q,width:re,height:ie,value:f?j:j[1],payload:z,background:ae},F&&F[G]&&F[G].props),{},{tooltipPayload:[rN(n,z)],tooltipPosition:{x:K+re/2,y:Q+ie/2}})});return en({data:U,layout:P},_)});function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function M8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ON(r.key),r)}}function I8(t,e,n){return e&&LM(t.prototype,e),n&&LM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){qp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qp(t,e,n){return e=ON(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ON(t){var e=O8(t,"string");return of(e)=="symbol"?e:e+""}function O8(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Up=function(e,n,r,i,o){var s=e.width,c=e.height,d=e.layout,f=e.children,g=Object.keys(n),y={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},_=!!fr(f,oa);return g.reduce(function(b,P){var C=n[P],A=C.orientation,R=C.domain,N=C.padding,k=N===void 0?{}:N,$=C.mirror,I=C.reversed,D="".concat(A).concat($?"Mirror":""),F,U,z,G,j;if(C.type==="number"&&(C.padding==="gap"||C.padding==="no-gap")){var K=R[1]-R[0],Q=1/0,re=C.categoricalDomain.sort(HL);if(re.forEach(function(Ce,le){le>0&&(Q=Math.min((Ce||0)-(re[le-1]||0),Q))}),Number.isFinite(Q)){var ie=Q/K,ae=C.layout==="vertical"?r.height:r.width;if(C.padding==="gap"&&(F=ie*ae/2),C.padding==="no-gap"){var de=Fn(e.barCategoryGap,ie*ae),J=ie*ae/2;F=J-de-(J-de)/ae*de}}}i==="xAxis"?U=[r.left+(k.left||0)+(F||0),r.left+r.width-(k.right||0)-(F||0)]:i==="yAxis"?U=d==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(F||0),r.top+r.height-(k.bottom||0)-(F||0)]:U=C.range,I&&(U=[U[1],U[0]]);var ce=Q2(C,o,_),ne=ce.scale,V=ce.realScaleType;ne.domain(R).range(U),eN(ne);var ee=tN(ne,Zr(Zr({},C),{},{realScaleType:V}));i==="xAxis"?(j=A==="top"&&!$||A==="bottom"&&$,z=r.left,G=y[D]-j*C.height):i==="yAxis"&&(j=A==="left"&&!$||A==="right"&&$,z=y[D]-j*C.width,G=r.top);var ve=Zr(Zr(Zr({},C),ee),{},{realScaleType:V,x:z,y:G,scale:ne,width:i==="xAxis"?r.width:C.width,height:i==="yAxis"?r.height:C.height});return ve.bandSize=kh(ve,ee),!C.hide&&i==="xAxis"?y[D]+=(j?-1:1)*ve.height:C.hide||(y[D]+=(j?-1:1)*ve.width),Zr(Zr({},b),{},qp({},P,ve))},{})},kN=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},k8=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return kN({x:n,y:r},{x:i,y:o})},NN=function(){function t(e){M8(this,t),this.scale=e}return I8(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();qp(NN,"EPS",1e-4);var fb=function(e){var n=Object.keys(e).reduce(function(r,i){return Zr(Zr({},r),{},qp({},i,NN.create(e[i])))},{});return Zr(Zr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,c=o.position;return a8(i,function(d,f){return n[f].apply(d,{bandAware:s,position:c})})},isInRange:function(i){return PN(i,function(o,s){return n[s].isInRange(o)})}})};function N8(t){return(t%180+180)%180}var R8=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=N8(i),s=o*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},__,$M;function L8(){if($M)return __;$M=1;var t=bi(),e=cf(),n=wp();function r(i){return function(o,s,c){var d=Object(o);if(!e(o)){var f=t(s,3);o=n(o),s=function(y){return f(d[y],y,d)}}var g=i(o,s,c);return g>-1?d[f?o[g]:g]:void 0}}return __=r,__}var x_,FM;function D8(){if(FM)return x_;FM=1;var t=SN();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return x_=e,x_}var w_,BM;function $8(){if(BM)return w_;BM=1;var t=Rk(),e=bi(),n=D8(),r=Math.max;function i(o,s,c){var d=o==null?0:o.length;if(!d)return-1;var f=c==null?0:n(c);return f<0&&(f=r(d+f,0)),t(o,e(s,3),f)}return w_=i,w_}var b_,qM;function F8(){if(qM)return b_;qM=1;var t=L8(),e=$8(),n=t(e);return b_=n,b_}var B8=F8();const q8=Tt(B8);var U8=ZO();const j8=Tt(U8);var z8=j8(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),db=X.createContext(void 0),hb=X.createContext(void 0),RN=X.createContext(void 0),LN=X.createContext({}),DN=X.createContext(void 0),$N=X.createContext(0),FN=X.createContext(0),UM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,c=e.children,d=e.width,f=e.height,g=z8(o);return H.createElement(db.Provider,{value:r},H.createElement(hb.Provider,{value:i},H.createElement(LN.Provider,{value:o},H.createElement(RN.Provider,{value:g},H.createElement(DN.Provider,{value:s},H.createElement($N.Provider,{value:f},H.createElement(FN.Provider,{value:d},c)))))))},V8=function(){return X.useContext(DN)},BN=function(e){var n=X.useContext(db);n==null&&ts();var r=n[e];return r==null&&ts(),r},H8=function(){var e=X.useContext(db);return Jo(e)},G8=function(){var e=X.useContext(hb),n=q8(e,function(r){return PN(r.domain,Number.isFinite)});return n||Jo(e)},qN=function(e){var n=X.useContext(hb);n==null&&ts();var r=n[e];return r==null&&ts(),r},W8=function(){var e=X.useContext(RN);return e},K8=function(){return X.useContext(LN)},pb=function(){return X.useContext(FN)},mb=function(){return X.useContext($N)};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Z8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jN(r.key),r)}}function Y8(t,e,n){return e&&J8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X8(t,e,n){return e=Jh(e),Q8(t,UN()?Reflect.construct(e,n||[],Jh(t).constructor):e.apply(t,n))}function Q8(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eH(t)}function eH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UN=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jh(t)}function tH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lx(t,e)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){gb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gb(t,e,n){return e=jN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jN(t){var e=nH(t,"string");return Rl(e)=="symbol"?e:e+""}function nH(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rH(t,e){return sH(t)||aH(t,e)||oH(t,e)||iH()}function iH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(t,e){if(t){if(typeof t=="string")return VM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VM(t,e)}}function VM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function sH(t){if(Array.isArray(t))return t}function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(this,arguments)}var lH=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):Ye(e)?r=e(n):r=H.createElement("line",Dx({},n,{className:"recharts-reference-line-line"})),r},uH=function(e,n,r,i,o,s,c,d,f){var g=o.x,y=o.y,_=o.width,b=o.height;if(r){var P=f.y,C=e.y.apply(P,{position:s});if(_i(f,"discard")&&!e.y.isInRange(C))return null;var A=[{x:g+_,y:C},{x:g,y:C}];return d==="left"?A.reverse():A}if(n){var R=f.x,N=e.x.apply(R,{position:s});if(_i(f,"discard")&&!e.x.isInRange(N))return null;var k=[{x:N,y:y+b},{x:N,y}];return c==="top"?k.reverse():k}if(i){var $=f.segment,I=$.map(function(D){return e.apply(D,{position:s})});return _i(f,"discard")&&n8(I,function(D){return!e.isInRange(D)})?null:I}return null};function cH(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,c=t.className,d=t.alwaysShow,f=V8(),g=BN(i),y=qN(o),_=W8();if(!f||!_)return null;ei(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=fb({x:g.scale,y:y.scale}),P=un(e),C=un(n),A=r&&r.length===2,R=uH(b,P,C,A,_,t.position,g.orientation,y.orientation,t);if(!R)return null;var N=rH(R,2),k=N[0],$=k.x,I=k.y,D=N[1],F=D.x,U=D.y,z=_i(t,"hidden")?"url(#".concat(f,")"):void 0,G=zM(zM({clipPath:z},qe(t,!0)),{},{x1:$,y1:I,x2:F,y2:U});return H.createElement(ut,{className:at("recharts-reference-line",c)},lH(s,G),mn.renderCallByParent(t,k8({x1:$,y1:I,x2:F,y2:U})))}var vb=function(t){function e(){return Z8(this,e),X8(this,e,arguments)}return tH(e,t),Y8(e,[{key:"render",value:function(){return H.createElement(cH,this.props)}}])}(H.Component);gb(vb,"displayName","ReferenceLine");gb(vb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){jp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VN(r.key),r)}}function hH(t,e,n){return e&&dH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pH(t,e,n){return e=Yh(e),mH(t,zN()?Reflect.construct(e,n||[],Yh(t).constructor):e.apply(t,n))}function mH(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gH(t)}function gH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zN=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(t)}function vH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fx(t,e)}function Fx(t,e){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fx(t,e)}function jp(t,e,n){return e=VN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VN(t){var e=yH(t,"string");return Ll(e)=="symbol"?e:e+""}function yH(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _H=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=fb({x:i.scale,y:o.scale}),c=s.apply({x:n,y:r},{bandAware:!0});return _i(e,"discard")&&!s.isInRange(c)?null:c},zp=function(t){function e(){return fH(this,e),pH(this,e,arguments)}return vH(e,t),hH(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,c=r.alwaysShow,d=r.clipPathId,f=un(i),g=un(o);if(ei(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!g)return null;var y=_H(this.props);if(!y)return null;var _=y.x,b=y.y,P=this.props,C=P.shape,A=P.className,R=_i(this.props,"hidden")?"url(#".concat(d,")"):void 0,N=GM(GM({clipPath:R},qe(this.props,!0)),{},{cx:_,cy:b});return H.createElement(ut,{className:at("recharts-reference-dot",A)},e.renderDot(C,N),mn.renderCallByParent(this.props,{x:_-s,y:b-s,width:2*s,height:2*s}))}}])}(H.Component);jp(zp,"displayName","ReferenceDot");jp(zp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jp(zp,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Ye(t)?n=t(e):n=H.createElement(gf,$x({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(this,arguments)}function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Vp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GN(r.key),r)}}function bH(t,e,n){return e&&wH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SH(t,e,n){return e=Xh(e),TH(t,HN()?Reflect.construct(e,n||[],Xh(t).constructor):e.apply(t,n))}function TH(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CH(t)}function CH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HN=function(){return!!t})()}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xh(t)}function AH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qx(t,e)}function qx(t,e){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qx(t,e)}function Vp(t,e,n){return e=GN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GN(t){var e=PH(t,"string");return Dl(e)=="symbol"?e:e+""}function PH(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EH=function(e,n,r,i,o){var s=o.x1,c=o.x2,d=o.y1,f=o.y2,g=o.xAxis,y=o.yAxis;if(!g||!y)return null;var _=fb({x:g.scale,y:y.scale}),b={x:e?_.x.apply(s,{position:"start"}):_.x.rangeMin,y:r?_.y.apply(d,{position:"start"}):_.y.rangeMin},P={x:n?_.x.apply(c,{position:"end"}):_.x.rangeMax,y:i?_.y.apply(f,{position:"end"}):_.y.rangeMax};return _i(o,"discard")&&(!_.isInRange(b)||!_.isInRange(P))?null:kN(b,P)},Hp=function(t){function e(){return xH(this,e),SH(this,e,arguments)}return AH(e,t),bH(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,c=r.y2,d=r.className,f=r.alwaysShow,g=r.clipPathId;ei(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=un(i),_=un(o),b=un(s),P=un(c),C=this.props.shape;if(!y&&!_&&!b&&!P&&!C)return null;var A=EH(y,_,b,P,this.props);if(!A&&!C)return null;var R=_i(this.props,"hidden")?"url(#".concat(g,")"):void 0;return H.createElement(ut,{className:at("recharts-reference-area",d)},e.renderRect(C,KM(KM({clipPath:R},qe(this.props,!0)),A)),mn.renderCallByParent(this.props,A))}}])}(H.Component);Vp(Hp,"displayName","ReferenceArea");Vp(Hp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vp(Hp,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Ye(t)?n=t(e):n=H.createElement(cb,Bx({},e,{className:"recharts-reference-area-rect"})),n});function WN(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function MH(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return R8(r,n)}function IH(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,c=t.height;return e===1?{start:r?i:o,end:r?i+s:o+c}:{start:r?i+s:o+c,end:r?i:o}}function Qh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function OH(t,e){return WN(t,e+1)}function kH(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,c=e.end,d=0,f=1,g=s,y=function(){var P=r==null?void 0:r[d];if(P===void 0)return{v:WN(r,f)};var C=d,A,R=function(){return A===void 0&&(A=n(P,C)),A},N=P.coordinate,k=d===0||Qh(t,N,R,g,c);k||(d=0,g=s,f+=1),k&&(g=N+t*(R()/2+i),d+=f)},_;f<=o.length;)if(_=y(),_)return _.v;return[]}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){NH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NH(t,e,n){return e=RH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RH(t){var e=LH(t,"string");return af(e)=="symbol"?e:e+""}function LH(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DH(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,c=e.start,d=e.end,f=function(_){var b=o[_],P,C=function(){return P===void 0&&(P=n(b,_)),P};if(_===s-1){var A=t*(b.coordinate+t*C()/2-d);o[_]=b=En(En({},b),{},{tickCoord:A>0?b.coordinate-A*t:b.coordinate})}else o[_]=b=En(En({},b),{},{tickCoord:b.coordinate});var R=Qh(t,b.tickCoord,C,c,d);R&&(d=b.tickCoord-t*(C()/2+i),o[_]=En(En({},b),{},{isShow:!0}))},g=s-1;g>=0;g--)f(g);return o}function $H(t,e,n,r,i,o){var s=(r||[]).slice(),c=s.length,d=e.start,f=e.end;if(o){var g=r[c-1],y=n(g,c-1),_=t*(g.coordinate+t*y/2-f);s[c-1]=g=En(En({},g),{},{tickCoord:_>0?g.coordinate-_*t:g.coordinate});var b=Qh(t,g.tickCoord,function(){return y},d,f);b&&(f=g.tickCoord-t*(y/2+i),s[c-1]=En(En({},g),{},{isShow:!0}))}for(var P=o?c-1:c,C=function(N){var k=s[N],$,I=function(){return $===void 0&&($=n(k,N)),$};if(N===0){var D=t*(k.coordinate-t*I()/2-d);s[N]=k=En(En({},k),{},{tickCoord:D<0?k.coordinate-D*t:k.coordinate})}else s[N]=k=En(En({},k),{},{tickCoord:k.coordinate});var F=Qh(t,k.tickCoord,I,d,f);F&&(d=k.tickCoord+t*(I()/2+i),s[N]=En(En({},k),{},{isShow:!0}))},A=0;A<P;A++)C(A);return s}function yb(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,c=t.orientation,d=t.interval,f=t.tickFormatter,g=t.unit,y=t.angle;if(!i||!i.length||!r)return[];if(Se(d)||uo.isSsr)return OH(i,typeof d=="number"&&Se(d)?d:0);var _=[],b=c==="top"||c==="bottom"?"width":"height",P=g&&b==="width"?vc(g,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=function(k,$){var I=Ye(f)?f(k.value,$):k.value;return b==="width"?MH(vc(I,{fontSize:e,letterSpacing:n}),P,y):vc(I,{fontSize:e,letterSpacing:n})[b]},A=i.length>=2?$n(i[1].coordinate-i[0].coordinate):1,R=IH(o,A,b);return d==="equidistantPreserveStart"?kH(A,R,C,i,s):(d==="preserveStart"||d==="preserveStartEnd"?_=$H(A,R,C,i,s,d==="preserveStartEnd"):_=DH(A,R,C,i,s),_.filter(function(N){return N.isShow}))}var FH=["viewBox"],BH=["viewBox"],qH=["ticks"];function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){_b(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_(t,e){if(t==null)return{};var n=UH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZN(r.key),r)}}function zH(t,e,n){return e&&YM(t.prototype,e),n&&YM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VH(t,e,n){return e=ep(e),HH(t,KN()?Reflect.construct(e,n||[],ep(t).constructor):e.apply(t,n))}function HH(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GH(t)}function GH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KN=function(){return!!t})()}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ep(t)}function WH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ux(t,e)}function Ux(t,e){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ux(t,e)}function _b(t,e,n){return e=ZN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZN(t){var e=KH(t,"string");return $l(e)=="symbol"?e:e+""}function KH(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ru=function(t){function e(n){var r;return jH(this,e),r=VH(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return WH(e,t),zH(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=S_(r,FH),c=this.props,d=c.viewBox,f=S_(c,BH);return!fl(o,d)||!fl(s,f)||!fl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,c=i.width,d=i.height,f=i.orientation,g=i.tickSize,y=i.mirror,_=i.tickMargin,b,P,C,A,R,N,k=y?-1:1,$=r.tickSize||g,I=Se(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":b=P=r.coordinate,A=s+ +!y*d,C=A-k*$,N=C-k*_,R=I;break;case"left":C=A=r.coordinate,P=o+ +!y*c,b=P-k*$,R=b-k*_,N=I;break;case"right":C=A=r.coordinate,P=o+ +y*c,b=P+k*$,R=b+k*_,N=I;break;default:b=P=r.coordinate,A=s+ +y*d,C=A+k*$,N=C+k*_,R=I;break}return{line:{x1:b,y1:C,x2:P,y2:A},tick:{x:R,y:N}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,c=r.height,d=r.orientation,f=r.mirror,g=r.axisLine,y=sn(sn(sn({},qe(this.props,!1)),qe(g,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var _=+(d==="top"&&!f||d==="bottom"&&f);y=sn(sn({},y),{},{x1:i,y1:o+_*c,x2:i+s,y2:o+_*c})}else{var b=+(d==="left"&&!f||d==="right"&&f);y=sn(sn({},y),{},{x1:i+b*s,y1:o,x2:i+b*s,y2:o+c})}return H.createElement("line",ll({},y,{className:at("recharts-cartesian-axis-line",hr(g,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,c=this.props,d=c.tickLine,f=c.stroke,g=c.tick,y=c.tickFormatter,_=c.unit,b=yb(sn(sn({},this.props),{},{ticks:r}),i,o),P=this.getTickTextAnchor(),C=this.getTickVerticalAnchor(),A=qe(this.props,!1),R=qe(g,!1),N=sn(sn({},A),{},{fill:"none"},qe(d,!1)),k=b.map(function($,I){var D=s.getTickLineCoord($),F=D.line,U=D.tick,z=sn(sn(sn(sn({textAnchor:P,verticalAnchor:C},A),{},{stroke:"none",fill:f},R),U),{},{index:I,payload:$,visibleTicksCount:b.length,tickFormatter:y});return H.createElement(ut,ll({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},ra(s.props,$,I)),d&&H.createElement("line",ll({},N,F,{className:at("recharts-cartesian-axis-tick-line",hr(d,"className"))})),g&&e.renderTickItem(g,z,"".concat(Ye(y)?y($.value,I):$.value).concat(_||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,c=i.height,d=i.ticksGenerator,f=i.className,g=i.hide;if(g)return null;var y=this.props,_=y.ticks,b=S_(y,qH),P=_;return Ye(d)&&(P=_&&_.length>0?d(this.props):d(b)),s<=0||c<=0||!P||!P.length?null:H.createElement(ut,{className:at("recharts-cartesian-axis",f),ref:function(A){r.layerReference=A}},o&&this.renderAxisLine(),this.renderTicks(P,this.state.fontSize,this.state.letterSpacing),mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,c=at(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?s=H.cloneElement(r,sn(sn({},i),{},{className:c})):Ye(r)?s=r(sn(sn({},i),{},{className:c})):s=H.createElement(Qa,ll({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(X.Component);_b(ru,"displayName","CartesianAxis");_b(ru,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ZH=["x1","y1","x2","y2","key"],JH=["offset"];function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){YH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YH(t,e,n){return e=XH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XH(t){var e=QH(t,"string");return ns(e)=="symbol"?e:e+""}function QH(t,e){if(ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}function QM(t,e){if(t==null)return{};var n=eG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tG=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,c=e.height,d=e.ry;return H.createElement("rect",{x:i,y:o,ry:d,width:s,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JN(t,e){var n;if(H.isValidElement(t))n=H.cloneElement(t,e);else if(Ye(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,c=e.key,d=QM(e,ZH),f=qe(d,!1);f.offset;var g=QM(f,JH);n=H.createElement("line",Ka({},g,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:c}))}return n}function nG(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(c,d){var f=Mn(Mn({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(d),index:d});return JN(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function rG(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(c,d){var f=Mn(Mn({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(d),index:d});return JN(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function iG(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,c=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var g=c.map(function(_){return Math.round(_+i-i)}).sort(function(_,b){return _-b});i!==g[0]&&g.unshift(0);var y=g.map(function(_,b){var P=!g[b+1],C=P?i+s-_:g[b+1]-_;if(C<=0)return null;var A=b%e.length;return H.createElement("rect",{key:"react-".concat(b),y:_,x:r,height:C,width:o,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}function oG(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,c=t.width,d=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var g=f.map(function(_){return Math.round(_+o-o)}).sort(function(_,b){return _-b});o!==g[0]&&g.unshift(0);var y=g.map(function(_,b){var P=!g[b+1],C=P?o+c-_:g[b+1]-_;if(C<=0)return null;var A=b%r.length;return H.createElement("rect",{key:"react-".concat(b),x:_,y:s,width:C,height:d,stroke:"none",fill:r[A],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}var aG=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return X2(yb(Mn(Mn(Mn({},ru.defaultProps),r),{},{ticks:Qi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},sG=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return X2(yb(Mn(Mn(Mn({},ru.defaultProps),r),{},{ticks:Qi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},nl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function il(t){var e,n,r,i,o,s,c=pb(),d=mb(),f=K8(),g=Mn(Mn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:nl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:nl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:nl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:nl.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:nl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:nl.verticalFill,x:Se(t.x)?t.x:f.left,y:Se(t.y)?t.y:f.top,width:Se(t.width)?t.width:f.width,height:Se(t.height)?t.height:f.height}),y=g.x,_=g.y,b=g.width,P=g.height,C=g.syncWithTicks,A=g.horizontalValues,R=g.verticalValues,N=H8(),k=G8();if(!Se(b)||b<=0||!Se(P)||P<=0||!Se(y)||y!==+y||!Se(_)||_!==+_)return null;var $=g.verticalCoordinatesGenerator||aG,I=g.horizontalCoordinatesGenerator||sG,D=g.horizontalPoints,F=g.verticalPoints;if((!D||!D.length)&&Ye(I)){var U=A&&A.length,z=I({yAxis:k?Mn(Mn({},k),{},{ticks:U?A:k.ticks}):void 0,width:c,height:d,offset:f},U?!0:C);ei(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ns(z),"]")),Array.isArray(z)&&(D=z)}if((!F||!F.length)&&Ye($)){var G=R&&R.length,j=$({xAxis:N?Mn(Mn({},N),{},{ticks:G?R:N.ticks}):void 0,width:c,height:d,offset:f},G?!0:C);ei(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ns(j),"]")),Array.isArray(j)&&(F=j)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(tG,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),H.createElement(nG,Ka({},g,{offset:f,horizontalPoints:D,xAxis:N,yAxis:k})),H.createElement(rG,Ka({},g,{offset:f,verticalPoints:F,xAxis:N,yAxis:k})),H.createElement(iG,Ka({},g,{horizontalPoints:D})),H.createElement(oG,Ka({},g,{verticalPoints:F})))}il.displayName="CartesianGrid";var lG=["type","layout","connectNulls","ref"],uG=["key"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function eI(t,e){if(t==null)return{};var n=cG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(this,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rl(t){return pG(t)||hG(t)||dG(t)||fG()}function fG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dG(t,e){if(t){if(typeof t=="string")return jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jx(t,e)}}function hG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pG(t){if(Array.isArray(t))return jx(t)}function jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XN(r.key),r)}}function gG(t,e,n){return e&&nI(t.prototype,e),n&&nI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vG(t,e,n){return e=tp(e),yG(t,YN()?Reflect.construct(e,n||[],tp(t).constructor):e.apply(t,n))}function yG(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _G(t)}function _G(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YN=function(){return!!t})()}function tp(t){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tp(t)}function xG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zx(t,e)}function zx(t,e){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zx(t,e)}function Jr(t,e,n){return e=XN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XN(t){var e=wG(t,"string");return Fl(e)=="symbol"?e:e+""}function wG(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bl=function(t){function e(){var n;mG(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vG(this,e,[].concat(i)),Jr(n,"state",{isAnimationFinished:!0,totalLength:0}),Jr(n,"generateSimpleStrokeDasharray",function(s,c){return"".concat(c,"px ").concat(s-c,"px")}),Jr(n,"getStrokeDasharray",function(s,c,d){var f=d.reduce(function(R,N){return R+N});if(!f)return n.generateSimpleStrokeDasharray(c,s);for(var g=Math.floor(s/f),y=s%f,_=c-s,b=[],P=0,C=0;P<d.length;C+=d[P],++P)if(C+d[P]>y){b=[].concat(rl(d.slice(0,P)),[y-C]);break}var A=b.length%2===0?[0,_]:[_];return[].concat(rl(e.repeat(d,g)),rl(b),A).map(function(R){return"".concat(R,"px")}).join(", ")}),Jr(n,"id",sa("recharts-line-")),Jr(n,"pathRef",function(s){n.mainCurve=s}),Jr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Jr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return xG(e,t),gG(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,c=o.xAxis,d=o.yAxis,f=o.layout,g=o.children,y=qn(g,nu);if(!y)return null;var _=function(C,A){return{x:C.x,y:C.y,value:C.value,errorVal:Bt(C.payload,A)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(ut,b,y.map(function(P){return H.cloneElement(P,{key:"bar-".concat(P.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,dataPointFormatter:_})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,g=c.dataKey,y=qe(this.props,!1),_=qe(d,!0),b=f.map(function(C,A){var R=ur(ur(ur({key:"dot-".concat(A),r:3},y),_),{},{index:A,cx:C.x,cy:C.y,value:C.value,dataKey:g,payload:C.payload,points:f});return e.renderDotItem(d,R)}),P={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement(ut,Sc({className:"recharts-line-dots",key:"dots"},P),b)}},{key:"renderCurveStatically",value:function(r,i,o,s){var c=this.props,d=c.type,f=c.layout,g=c.connectNulls;c.ref;var y=eI(c,lG),_=ur(ur(ur({},qe(y,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:d,layout:f,connectNulls:g});return H.createElement(na,Sc({},_,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,c=s.points,d=s.strokeDasharray,f=s.isAnimationActive,g=s.animationBegin,y=s.animationDuration,_=s.animationEasing,b=s.animationId,P=s.animateNewValues,C=s.width,A=s.height,R=this.state,N=R.prevPoints,k=R.totalLength;return H.createElement(Lr,{begin:g,duration:y,isActive:f,easing:_,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var I=$.t;if(N){var D=N.length/c.length,F=c.map(function(K,Q){var re=Math.floor(Q*D);if(N[re]){var ie=N[re],ae=Gt(ie.x,K.x),de=Gt(ie.y,K.y);return ur(ur({},K),{},{x:ae(I),y:de(I)})}if(P){var J=Gt(C*2,K.x),ce=Gt(A/2,K.y);return ur(ur({},K),{},{x:J(I),y:ce(I)})}return ur(ur({},K),{},{x:K.x,y:K.y})});return o.renderCurveStatically(F,r,i)}var U=Gt(0,k),z=U(I),G;if(d){var j="".concat(d).split(/[,\s]+/gim).map(function(K){return parseFloat(K)});G=o.getStrokeDasharray(z,k,j)}else G=o.generateSimpleStrokeDasharray(k,z);return o.renderCurveStatically(c,r,i,{strokeDasharray:G})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,c=o.isAnimationActive,d=this.state,f=d.prevPoints,g=d.totalLength;return c&&s&&s.length&&(!f&&g>0||!ia(f,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,c=i.points,d=i.className,f=i.xAxis,g=i.yAxis,y=i.top,_=i.left,b=i.width,P=i.height,C=i.isAnimationActive,A=i.id;if(o||!c||!c.length)return null;var R=this.state.isAnimationFinished,N=c.length===1,k=at("recharts-line",d),$=f&&f.allowDataOverflow,I=g&&g.allowDataOverflow,D=$||I,F=Je(A)?this.id:A,U=(r=qe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},z=U.r,G=z===void 0?3:z,j=U.strokeWidth,K=j===void 0?2:j,Q=ek(s)?s:{},re=Q.clipDot,ie=re===void 0?!0:re,ae=G*2+K;return H.createElement(ut,{className:k},$||I?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(F)},H.createElement("rect",{x:$?_:_-b/2,y:I?y:y-P/2,width:$?b:b*2,height:I?P:P*2})),!ie&&H.createElement("clipPath",{id:"clipPath-dots-".concat(F)},H.createElement("rect",{x:_-ae/2,y:y-ae/2,width:b+ae,height:P+ae}))):null,!N&&this.renderCurve(D,F),this.renderErrorBar(D,F),(N||s)&&this.renderDots(D,ie,F),(!C||R)&&ti.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(rl(r),[0]):r,s=[],c=0;c<i;++c)s=[].concat(rl(s),rl(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(H.isValidElement(r))o=H.cloneElement(r,i);else if(Ye(r))o=r(i);else{var s=i.key,c=eI(i,uG),d=at("recharts-line-dot",typeof r!="boolean"?r.className:"");o=H.createElement(gf,Sc({key:s},c,{className:d}))}return o}}])}(X.PureComponent);Jr(Bl,"displayName","Line");Jr(Bl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!uo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jr(Bl,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,c=t.bandSize,d=t.displayedData,f=t.offset,g=e.layout,y=d.map(function(_,b){var P=Bt(_,s);return g==="horizontal"?{x:Pl({axis:n,ticks:i,bandSize:c,entry:_,index:b}),y:Je(P)?null:r.scale(P),value:P,payload:_}:{x:Je(P)?null:n.scale(P),y:Pl({axis:r,ticks:o,bandSize:c,entry:_,index:b}),value:P,payload:_}});return ur({points:y,layout:g},f)});var bG=["layout","type","stroke","connectNulls","isRange","ref"],SG=["key"],QN;function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function e5(t,e){if(t==null)return{};var n=TG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n5(r.key),r)}}function AG(t,e,n){return e&&iI(t.prototype,e),n&&iI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PG(t,e,n){return e=np(e),EG(t,t5()?Reflect.construct(e,n||[],np(t).constructor):e.apply(t,n))}function EG(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MG(t)}function MG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}function IG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vx(t,e)}function Vx(t,e){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vx(t,e)}function vi(t,e,n){return e=n5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5(t){var e=OG(t,"string");return ql(e)=="symbol"?e:e+""}function OG(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ao=function(t){function e(){var n;CG(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=PG(this,e,[].concat(i)),vi(n,"state",{isAnimationFinished:!0}),vi(n,"id",sa("recharts-area-")),vi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(s)&&s()}),vi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(s)&&s()}),n}return IG(e,t),AG(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(s&&!c)return null;var d=this.props,f=d.dot,g=d.points,y=d.dataKey,_=qe(this.props,!1),b=qe(f,!0),P=g.map(function(A,R){var N=Ko(Ko(Ko({key:"dot-".concat(R),r:3},_),b),{},{index:R,cx:A.x,cy:A.y,dataKey:y,value:A.value,payload:A.payload,points:g});return e.renderDotItem(f,N)}),C={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement(ut,Za({className:"recharts-area-dots"},C),P)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,c=i.strokeWidth,d=s[0].x,f=s[s.length-1].x,g=r*Math.abs(d-f),y=Yo(s.map(function(_){return _.y||0}));return Se(o)&&typeof o=="number"?y=Math.max(o,y):o&&Array.isArray(o)&&o.length&&(y=Math.max(Yo(o.map(function(_){return _.y||0})),y)),Se(y)?H.createElement("rect",{x:d<f?d:d-g,y:0,width:g,height:Math.floor(y+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,c=i.strokeWidth,d=s[0].y,f=s[s.length-1].y,g=r*Math.abs(d-f),y=Yo(s.map(function(_){return _.x||0}));return Se(o)&&typeof o=="number"?y=Math.max(o,y):o&&Array.isArray(o)&&o.length&&(y=Math.max(Yo(o.map(function(_){return _.x||0})),y)),Se(y)?H.createElement("rect",{x:0,y:d<f?d:d-g,width:y+(c?parseInt("".concat(c),10):1),height:Math.floor(g)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var c=this.props,d=c.layout,f=c.type,g=c.stroke,y=c.connectNulls,_=c.isRange;c.ref;var b=e5(c,bG);return H.createElement(ut,{clipPath:o?"url(#clipPath-".concat(s,")"):null},H.createElement(na,Za({},qe(b,!0),{points:r,connectNulls:y,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),g!=="none"&&H.createElement(na,Za({},qe(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:y,fill:"none",points:r})),g!=="none"&&_&&H.createElement(na,Za({},qe(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:y,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,c=s.points,d=s.baseLine,f=s.isAnimationActive,g=s.animationBegin,y=s.animationDuration,_=s.animationEasing,b=s.animationId,P=this.state,C=P.prevPoints,A=P.prevBaseLine;return H.createElement(Lr,{begin:g,duration:y,isActive:f,easing:_,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var N=R.t;if(C){var k=C.length/c.length,$=c.map(function(U,z){var G=Math.floor(z*k);if(C[G]){var j=C[G],K=Gt(j.x,U.x),Q=Gt(j.y,U.y);return Ko(Ko({},U),{},{x:K(N),y:Q(N)})}return U}),I;if(Se(d)&&typeof d=="number"){var D=Gt(A,d);I=D(N)}else if(Je(d)||Yl(d)){var F=Gt(A,0);I=F(N)}else I=d.map(function(U,z){var G=Math.floor(z*k);if(A[G]){var j=A[G],K=Gt(j.x,U.x),Q=Gt(j.y,U.y);return Ko(Ko({},U),{},{x:K(N),y:Q(N)})}return U});return o.renderAreaStatically($,I,r,i)}return H.createElement(ut,null,H.createElement("defs",null,H.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(N))),H.createElement(ut,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(c,d,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,c=o.baseLine,d=o.isAnimationActive,f=this.state,g=f.prevPoints,y=f.prevBaseLine,_=f.totalLength;return d&&s&&s.length&&(!g&&_>0||!ia(g,s)||!ia(y,c))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,c,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,c=i.points,d=i.className,f=i.top,g=i.left,y=i.xAxis,_=i.yAxis,b=i.width,P=i.height,C=i.isAnimationActive,A=i.id;if(o||!c||!c.length)return null;var R=this.state.isAnimationFinished,N=c.length===1,k=at("recharts-area",d),$=y&&y.allowDataOverflow,I=_&&_.allowDataOverflow,D=$||I,F=Je(A)?this.id:A,U=(r=qe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},z=U.r,G=z===void 0?3:z,j=U.strokeWidth,K=j===void 0?2:j,Q=ek(s)?s:{},re=Q.clipDot,ie=re===void 0?!0:re,ae=G*2+K;return H.createElement(ut,{className:k},$||I?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(F)},H.createElement("rect",{x:$?g:g-b/2,y:I?f:f-P/2,width:$?b:b*2,height:I?P:P*2})),!ie&&H.createElement("clipPath",{id:"clipPath-dots-".concat(F)},H.createElement("rect",{x:g-ae/2,y:f-ae/2,width:b+ae,height:P+ae}))):null,N?null:this.renderArea(D,F),(s||N)&&this.renderDots(D,ie,F),(!C||R)&&ti.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(X.PureComponent);QN=ao;vi(ao,"displayName","Area");vi(ao,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!uo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});vi(ao,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,c=s??o;if(Se(c)&&typeof c=="number")return c;var d=i==="horizontal"?r:n,f=d.scale.domain();if(d.type==="number"){var g=Math.max(f[0],f[1]),y=Math.min(f[0],f[1]);return c==="dataMin"?y:c==="dataMax"||g<0?g:Math.max(Math.min(f[0],f[1]),0)}return c==="dataMin"?f[0]:c==="dataMax"?f[1]:f[0]});vi(ao,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,c=t.bandSize,d=t.dataKey,f=t.stackedData,g=t.dataStartIndex,y=t.displayedData,_=t.offset,b=e.layout,P=f&&f.length,C=QN.getBaseValue(e,n,r,i),A=b==="horizontal",R=!1,N=y.map(function($,I){var D;P?D=f[g+I]:(D=Bt($,d),Array.isArray(D)?R=!0:D=[C,D]);var F=D[1]==null||P&&Bt($,d)==null;return A?{x:Pl({axis:r,ticks:o,bandSize:c,entry:$,index:I}),y:F?null:i.scale(D[1]),value:D,payload:$}:{x:F?null:r.scale(D[1]),y:Pl({axis:i,ticks:s,bandSize:c,entry:$,index:I}),value:D,payload:$}}),k;return P||R?k=N.map(function($){var I=Array.isArray($.value)?$.value[0]:null;return A?{x:$.x,y:I!=null&&$.y!=null?i.scale(I):null}:{x:I!=null?r.scale(I):null,y:$.y}}):k=A?i.scale(C):r.scale(C),Ko({points:N,baseLine:k,layout:b,isRange:R},_)});vi(ao,"renderDotItem",function(t,e){var n;if(H.isValidElement(t))n=H.cloneElement(t,e);else if(Ye(t))n=t(e);else{var r=at("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=e5(e,SG);n=H.createElement(gf,Za({},o,{key:i,className:r}))}return n});function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function kG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o5(r.key),r)}}function RG(t,e,n){return e&&NG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LG(t,e,n){return e=rp(e),DG(t,r5()?Reflect.construct(e,n||[],rp(t).constructor):e.apply(t,n))}function DG(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $G(t)}function $G(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r5=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function FG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hx(t,e)}function Hx(t,e){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hx(t,e)}function i5(t,e,n){return e=o5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5(t){var e=BG(t,"string");return Ul(e)=="symbol"?e:e+""}function BG(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gp=function(t){function e(){return kG(this,e),LG(this,e,arguments)}return FG(e,t),RG(e,[{key:"render",value:function(){return null}}])}(X.Component);i5(Gp,"displayName","ZAxis");i5(Gp,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var qG=["option","isActive"];function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}function UG(t,e){if(t==null)return{};var n=jG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zG(t){var e=t.option,n=t.isActive,r=UG(t,qG);return typeof e=="string"?X.createElement(zh,Tc({option:X.createElement(xp,Tc({type:e},r)),isActive:n,shapeType:"symbols"},r)):X.createElement(zh,Tc({option:e,isActive:n,shapeType:"symbols"},r))}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){Qo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s5(r.key),r)}}function HG(t,e,n){return e&&aI(t.prototype,e),n&&aI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GG(t,e,n){return e=ip(e),WG(t,a5()?Reflect.construct(e,n||[],ip(t).constructor):e.apply(t,n))}function WG(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KG(t)}function KG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a5=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ip(t)}function ZG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gx(t,e)}function Gx(t,e){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gx(t,e)}function Qo(t,e,n){return e=s5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s5(t){var e=JG(t,"string");return jl(e)=="symbol"?e:e+""}function JG(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zl=function(t){function e(){var n;VG(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=GG(this,e,[].concat(i)),Qo(n,"state",{isAnimationFinished:!1}),Qo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Qo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Qo(n,"id",sa("recharts-scatter-")),n}return ZG(e,t),HG(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,s=o.shape,c=o.activeShape,d=o.activeIndex,f=qe(this.props,!1);return r.map(function(g,y){var _=d===y,b=_?c:s,P=Mr(Mr({},f),g);return H.createElement(ut,Cc({className:"recharts-scatter-symbol",key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(y)},ra(i.props,g,y),{role:"img"}),H.createElement(zG,Cc({option:b,isActive:_,key:"symbol-".concat(y)},P)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,g=i.animationId,y=this.state.prevPoints;return H.createElement(Lr,{begin:c,duration:d,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var b=_.t,P=o.map(function(C,A){var R=y&&y[A];if(R){var N=Gt(R.cx,C.cx),k=Gt(R.cy,C.cy),$=Gt(R.size,C.size);return Mr(Mr({},C),{},{cx:N(b),cy:k(b),size:$(b)})}var I=Gt(0,C.size);return Mr(Mr({},C),{},{size:I(b)})});return H.createElement(ut,null,r.renderSymbolsStatically(P))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=this.state.prevPoints;return o&&i&&i.length&&(!s||!ia(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,c=i.yAxis,d=i.children,f=qn(d,nu);return f?f.map(function(g,y){var _=g.props,b=_.direction,P=_.dataKey;return H.cloneElement(g,{key:"".concat(b,"-").concat(P,"-").concat(o[y]),data:o,xAxis:s,yAxis:c,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(A,R){return{x:A.cx,y:A.cy,value:b==="x"?+A.node.x:+A.node.y,errorVal:Bt(A,R)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,s=r.lineType,c=r.lineJointType,d=qe(this.props,!1),f=qe(o,!1),g,y;if(s==="joint")g=i.map(function(k){return{x:k.cx,y:k.cy}});else if(s==="fitting"){var _=VL(i),b=_.xmin,P=_.xmax,C=_.a,A=_.b,R=function($){return C*$+A};g=[{x:b,y:R(b)},{x:P,y:R(P)}]}var N=Mr(Mr(Mr({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:g});return H.isValidElement(o)?y=H.cloneElement(o,N):Ye(o)?y=o(N):y=H.createElement(na,Cc({},N,{type:c})),H.createElement(ut,{className:"recharts-scatter-line",key:"recharts-scatter-line"},y)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,s=r.line,c=r.className,d=r.xAxis,f=r.yAxis,g=r.left,y=r.top,_=r.width,b=r.height,P=r.id,C=r.isAnimationActive;if(i||!o||!o.length)return null;var A=this.state.isAnimationFinished,R=at("recharts-scatter",c),N=d&&d.allowDataOverflow,k=f&&f.allowDataOverflow,$=N||k,I=Je(P)?this.id:P;return H.createElement(ut,{className:R,clipPath:$?"url(#clipPath-".concat(I,")"):null},N||k?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(I)},H.createElement("rect",{x:N?g:g-_/2,y:k?y:y-b/2,width:N?_:_*2,height:k?b:b*2}))):null,s&&this.renderLine(),this.renderErrorBar(),H.createElement(ut,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!C||A)&&ti.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(X.PureComponent);Qo(zl,"displayName","Scatter");Qo(zl,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!uo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Qo(zl,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,s=t.xAxisTicks,c=t.yAxisTicks,d=t.offset,f=i.props.tooltipType,g=qn(i.props.children,ff),y=Je(e.dataKey)?i.props.dataKey:e.dataKey,_=Je(n.dataKey)?i.props.dataKey:n.dataKey,b=r&&r.dataKey,P=r?r.range:Gp.defaultProps.range,C=P&&P[0],A=e.scale.bandwidth?e.scale.bandwidth():0,R=n.scale.bandwidth?n.scale.bandwidth():0,N=o.map(function(k,$){var I=Bt(k,y),D=Bt(k,_),F=!Je(b)&&Bt(k,b)||"-",U=[{name:Je(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:I,payload:k,dataKey:y,type:f},{name:Je(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:D,payload:k,dataKey:_,type:f}];F!=="-"&&U.push({name:r.name||r.dataKey,unit:r.unit||"",value:F,payload:k,dataKey:b,type:f});var z=Pl({axis:e,ticks:s,bandSize:A,entry:k,index:$,dataKey:y}),G=Pl({axis:n,ticks:c,bandSize:R,entry:k,index:$,dataKey:_}),j=F!=="-"?r.scale(F):C,K=Math.sqrt(Math.max(j,0)/Math.PI);return Mr(Mr({},k),{},{cx:z,cy:G,x:z-K,y:G-K,xAxis:e,yAxis:n,zAxis:r,width:2*K,height:2*K,size:j,node:{x:I,y:D,z:F},tooltipPayload:U,tooltipPosition:{x:z,y:G},payload:k},g&&g[$]&&g[$].props)});return Mr({points:N},d)});function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function YG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c5(r.key),r)}}function QG(t,e,n){return e&&XG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eW(t,e,n){return e=op(e),tW(t,l5()?Reflect.construct(e,n||[],op(t).constructor):e.apply(t,n))}function tW(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nW(t)}function nW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l5=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function rW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wx(t,e)}function Wx(t,e){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wx(t,e)}function u5(t,e,n){return e=c5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c5(t){var e=iW(t,"string");return Vl(e)=="symbol"?e:e+""}function iW(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(this,arguments)}function oW(t){var e=t.xAxisId,n=pb(),r=mb(),i=BN(e);return i==null?null:X.createElement(ru,Kx({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Qi(s,!0)}}))}var Xr=function(t){function e(){return YG(this,e),eW(this,e,arguments)}return rW(e,t),QG(e,[{key:"render",value:function(){return X.createElement(oW,this.props)}}])}(X.Component);u5(Xr,"displayName","XAxis");u5(Xr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function aW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h5(r.key),r)}}function lW(t,e,n){return e&&sW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uW(t,e,n){return e=ap(e),cW(t,f5()?Reflect.construct(e,n||[],ap(t).constructor):e.apply(t,n))}function cW(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fW(t)}function fW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f5=function(){return!!t})()}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(t)}function dW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zx(t,e)}function Zx(t,e){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zx(t,e)}function d5(t,e,n){return e=h5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h5(t){var e=hW(t,"string");return Hl(e)=="symbol"?e:e+""}function hW(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}var pW=function(e){var n=e.yAxisId,r=pb(),i=mb(),o=qN(n);return o==null?null:X.createElement(ru,Jx({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return Qi(c,!0)}}))},Qr=function(t){function e(){return aW(this,e),uW(this,e,arguments)}return dW(e,t),lW(e,[{key:"render",value:function(){return X.createElement(pW,this.props)}}])}(X.Component);d5(Qr,"displayName","YAxis");d5(Qr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sI(t){return yW(t)||vW(t)||gW(t)||mW()}function mW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(t,e){if(t){if(typeof t=="string")return Yx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yx(t,e)}}function vW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yW(t){if(Array.isArray(t))return Yx(t)}function Yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xx=function(e,n,r,i,o){var s=qn(e,vb),c=qn(e,zp),d=[].concat(sI(s),sI(c)),f=qn(e,Hp),g="".concat(i,"Id"),y=i[0],_=n;if(d.length&&(_=d.reduce(function(C,A){if(A.props[g]===r&&_i(A.props,"extendDomain")&&Se(A.props[y])){var R=A.props[y];return[Math.min(C[0],R),Math.max(C[1],R)]}return C},_)),f.length){var b="".concat(y,"1"),P="".concat(y,"2");_=f.reduce(function(C,A){if(A.props[g]===r&&_i(A.props,"extendDomain")&&Se(A.props[b])&&Se(A.props[P])){var R=A.props[b],N=A.props[P];return[Math.min(C[0],R,N),Math.max(C[1],R,N)]}return C},_)}return o&&o.length&&(_=o.reduce(function(C,A){return Se(A)?[Math.min(C[0],A),Math.max(C[1],A)]:C},_)),_},T_={exports:{}},lI;function _W(){return lI||(lI=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,g){this.fn=d,this.context=f,this.once=g||!1}function o(d,f,g,y,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new i(g,y||d,_),P=n?n+f:f;return d._events[P]?d._events[P].fn?d._events[P]=[d._events[P],b]:d._events[P].push(b):(d._events[P]=b,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],g,y;if(this._eventsCount===0)return f;for(y in g=this._events)e.call(g,y)&&f.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},c.prototype.listeners=function(f){var g=n?n+f:f,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,b=y.length,P=new Array(b);_<b;_++)P[_]=y[_].fn;return P},c.prototype.listenerCount=function(f){var g=n?n+f:f,y=this._events[g];return y?y.fn?1:y.length:0},c.prototype.emit=function(f,g,y,_,b,P){var C=n?n+f:f;if(!this._events[C])return!1;var A=this._events[C],R=arguments.length,N,k;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,y),!0;case 4:return A.fn.call(A.context,g,y,_),!0;case 5:return A.fn.call(A.context,g,y,_,b),!0;case 6:return A.fn.call(A.context,g,y,_,b,P),!0}for(k=1,N=new Array(R-1);k<R;k++)N[k-1]=arguments[k];A.fn.apply(A.context,N)}else{var $=A.length,I;for(k=0;k<$;k++)switch(A[k].once&&this.removeListener(f,A[k].fn,void 0,!0),R){case 1:A[k].fn.call(A[k].context);break;case 2:A[k].fn.call(A[k].context,g);break;case 3:A[k].fn.call(A[k].context,g,y);break;case 4:A[k].fn.call(A[k].context,g,y,_);break;default:if(!N)for(I=1,N=new Array(R-1);I<R;I++)N[I-1]=arguments[I];A[k].fn.apply(A[k].context,N)}}return!0},c.prototype.on=function(f,g,y){return o(this,f,g,y,!1)},c.prototype.once=function(f,g,y){return o(this,f,g,y,!0)},c.prototype.removeListener=function(f,g,y,_){var b=n?n+f:f;if(!this._events[b])return this;if(!g)return s(this,b),this;var P=this._events[b];if(P.fn)P.fn===g&&(!_||P.once)&&(!y||P.context===y)&&s(this,b);else{for(var C=0,A=[],R=P.length;C<R;C++)(P[C].fn!==g||_&&!P[C].once||y&&P[C].context!==y)&&A.push(P[C]);A.length?this._events[b]=A.length===1?A[0]:A:s(this,b)}return this},c.prototype.removeAllListeners=function(f){var g;return f?(g=n?n+f:f,this._events[g]&&s(this,g)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(T_)),T_.exports}var xW=_W();const wW=Tt(xW);var C_=new wW,A_="recharts.syncMouseEvents";function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function bW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p5(r.key),r)}}function TW(t,e,n){return e&&SW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P_(t,e,n){return e=p5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p5(t){var e=CW(t,"string");return sf(e)=="symbol"?e:e+""}function CW(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AW=function(){function t(){bW(this,t),P_(this,"activeIndex",0),P_(this,"coordinateList",[]),P_(this,"layout","horizontal")}return TW(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,c=s===void 0?null:s,d=n.layout,f=d===void 0?null:d,g=n.offset,y=g===void 0?null:g,_=n.mouseHandlerCallback,b=_===void 0?null:_;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=y??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((r=window)===null||r===void 0?void 0:r.scrollY)||0,y=o+d+f,_=s+this.offset.top+c/2+g;this.mouseHandlerCallback({pageX:y,pageY:_})}}}])}();function PW(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Se(r)&&Se(i))return!0}return!1}function EW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function m5(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Rt(e,n,r,i),c=Rt(e,n,r,o);return{points:[s,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function MW(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,f=e.innerRadius,g=e.outerRadius,y=e.angle,_=Rt(c,d,f,y),b=Rt(c,d,g,y);r=_.x,i=_.y,o=b.x,s=b.y}else return m5(e);return[{x:r,y:i},{x:o,y:s}]}function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){IW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IW(t,e,n){return e=OW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OW(t){var e=kW(t,"string");return lf(e)=="symbol"?e:e+""}function kW(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NW(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,c=t.activePayload,d=t.offset,f=t.activeTooltipIndex,g=t.tooltipAxisBandSize,y=t.layout,_=t.chartName,b=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!o||!s||_!=="ScatterChart"&&i!=="axis")return null;var P,C=na;if(_==="ScatterChart")P=s,C=A6;else if(_==="BarChart")P=EW(y,s,d,g),C=cb;else if(y==="radial"){var A=m5(s),R=A.cx,N=A.cy,k=A.radius,$=A.startAngle,I=A.endAngle;P={cx:R,cy:N,startAngle:$,endAngle:I,innerRadius:k,outerRadius:k},C=uN}else P={points:MW(y,s,d)},C=na;var D=Xd(Xd(Xd(Xd({stroke:"#ccc",pointerEvents:"none"},d),P),qe(b,!1)),{},{payload:c,payloadIndex:f,className:at("recharts-tooltip-cursor",b.className)});return X.isValidElement(b)?X.cloneElement(b,D):X.createElement(C,D)}var RW=["item"],LW=["children","className","width","height","style","compact","title","desc"];function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function cI(t,e){return FW(t)||$W(t,e)||v5(t,e)||DW()}function DW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $W(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function FW(t){if(Array.isArray(t))return t}function fI(t,e){if(t==null)return{};var n=BW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y5(r.key),r)}}function jW(t,e,n){return e&&UW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zW(t,e,n){return e=sp(e),VW(t,g5()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function VW(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HW(t)}function HW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g5=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function GW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qx(t,e)}function Qx(t,e){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qx(t,e)}function Wl(t){return ZW(t)||KW(t)||v5(t)||WW()}function WW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function KW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZW(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){Xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xe(t,e,n){return e=y5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y5(t){var e=JW(t,"string");return Gl(e)=="symbol"?e:e+""}function JW(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YW={xAxis:["bottom","top"],yAxis:["left","right"]},XW={width:"100%",height:"100%"},_5={x:0,y:0};function Qd(t){return t}var QW=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},e9=function(e,n,r,i){var o=n.find(function(g){return g&&g.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,c=i.radius;return me(me(me({},i),Rt(i.cx,i.cy,c,s)),{},{angle:s,radius:c})}var d=o.coordinate,f=i.angle;return me(me(me({},i),Rt(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return _5},Wp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(Wl(c),Wl(f)):c},[]);return s.length>0?s:e&&e.length&&Se(i)&&Se(o)?e.slice(i,o+1):[]};function x5(t){return t==="number"?[0,"auto"]:void 0}var tw=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,c=Wp(n,e);return r<0||!o||!o.length||r>=c.length?null:o.reduce(function(d,f){var g,y=(g=f.props.data)!==null&&g!==void 0?g:n;y&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(y=y.slice(e.dataStartIndex,e.dataEndIndex+1));var _;if(s.dataKey&&!s.allowDuplicatedCategory){var b=y===void 0?c:y;_=sh(b,s.dataKey,i)}else _=y&&y[r]||c[r];return _?[].concat(Wl(d),[rN(f,_)]):d},[])},hI=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=QW(o,r),c=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,g=Jq(s,c,f,d);if(g>=0&&f){var y=f[g]&&f[g].value,_=tw(e,n,g,y),b=e9(r,c,g,o);return{activeTooltipIndex:g,activeLabel:y,activePayload:_,activeCoordinate:b}}return null},t9=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,g=e.layout,y=e.children,_=e.stackOffset,b=Y2(g,o);return r.reduce(function(P,C){var A,R=C.type.defaultProps!==void 0?me(me({},C.type.defaultProps),C.props):C.props,N=R.type,k=R.dataKey,$=R.allowDataOverflow,I=R.allowDuplicatedCategory,D=R.scale,F=R.ticks,U=R.includeHidden,z=R[s];if(P[z])return P;var G=Wp(e.data,{graphicalItems:i.filter(function(ee){var ve,Ce=s in ee.props?ee.props[s]:(ve=ee.type.defaultProps)===null||ve===void 0?void 0:ve[s];return Ce===z}),dataStartIndex:d,dataEndIndex:f}),j=G.length,K,Q,re;PW(R.domain,$,N)&&(K=dx(R.domain,null,$),b&&(N==="number"||D!=="auto")&&(re=_c(G,k,"category")));var ie=x5(N);if(!K||K.length===0){var ae,de=(ae=R.domain)!==null&&ae!==void 0?ae:ie;if(k){if(K=_c(G,k,N),N==="category"&&b){var J=zL(K);I&&J?(Q=K,K=Hh(0,j)):I||(K=lE(de,K,C).reduce(function(ee,ve){return ee.indexOf(ve)>=0?ee:[].concat(Wl(ee),[ve])},[]))}else if(N==="category")I?K=K.filter(function(ee){return ee!==""&&!Je(ee)}):K=lE(de,K,C).reduce(function(ee,ve){return ee.indexOf(ve)>=0||ve===""||Je(ve)?ee:[].concat(Wl(ee),[ve])},[]);else if(N==="number"){var ce=tU(G,i.filter(function(ee){var ve,Ce,le=s in ee.props?ee.props[s]:(ve=ee.type.defaultProps)===null||ve===void 0?void 0:ve[s],pe="hide"in ee.props?ee.props.hide:(Ce=ee.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return le===z&&(U||!pe)}),k,o,g);ce&&(K=ce)}b&&(N==="number"||D!=="auto")&&(re=_c(G,k,"category"))}else b?K=Hh(0,j):c&&c[z]&&c[z].hasStack&&N==="number"?K=_==="expand"?[0,1]:nN(c[z].stackGroups,d,f):K=J2(G,i.filter(function(ee){var ve=s in ee.props?ee.props[s]:ee.type.defaultProps[s],Ce="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return ve===z&&(U||!Ce)}),N,g,!0);if(N==="number")K=Xx(y,K,z,o,F),de&&(K=dx(de,K,$));else if(N==="category"&&de){var ne=de,V=K.every(function(ee){return ne.indexOf(ee)>=0});V&&(K=ne)}}return me(me({},P),{},Xe({},z,me(me({},R),{},{axisType:o,domain:K,categoricalDomain:re,duplicateDomain:Q,originalDomain:(A=R.domain)!==null&&A!==void 0?A:ie,isCategorical:b,layout:g})))},{})},n9=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,g=e.layout,y=e.children,_=Wp(e.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),b=_.length,P=Y2(g,o),C=-1;return r.reduce(function(A,R){var N=R.type.defaultProps!==void 0?me(me({},R.type.defaultProps),R.props):R.props,k=N[s],$=x5("number");if(!A[k]){C++;var I;return P?I=Hh(0,b):c&&c[k]&&c[k].hasStack?(I=nN(c[k].stackGroups,d,f),I=Xx(y,I,k,o)):(I=dx($,J2(_,r.filter(function(D){var F,U,z=s in D.props?D.props[s]:(F=D.type.defaultProps)===null||F===void 0?void 0:F[s],G="hide"in D.props?D.props.hide:(U=D.type.defaultProps)===null||U===void 0?void 0:U.hide;return z===k&&!G}),"number",g),i.defaultProps.allowDataOverflow),I=Xx(y,I,k,o)),me(me({},A),{},Xe({},k,me(me({axisType:o},i.defaultProps),{},{hide:!0,orientation:hr(YW,"".concat(o,".").concat(C%2),null),domain:I,originalDomain:$,isCategorical:P,layout:g})))}return A},{})},r9=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,g=e.children,y="".concat(i,"Id"),_=qn(g,o),b={};return _&&_.length?b=t9(e,{axes:_,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):s&&s.length&&(b=n9(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),b},i9=function(e){var n=Jo(e),r=Qi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:$w(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kh(n,r)}},pI=function(e){var n=e.children,r=e.defaultShowTooltip,i=fr(n,no),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},o9=function(e){return!e||!e.length?!1:e.some(function(n){var r=eo(n&&n.type);return r&&r.indexOf("Bar")>=0})},mI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},a9=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,c=e.yAxisMap,d=c===void 0?{}:c,f=r.width,g=r.height,y=r.children,_=r.margin||{},b=fr(y,no),P=fr(y,Ir),C=Object.keys(d).reduce(function(I,D){var F=d[D],U=F.orientation;return!F.mirror&&!F.hide?me(me({},I),{},Xe({},U,I[U]+F.width)):I},{left:_.left||0,right:_.right||0}),A=Object.keys(s).reduce(function(I,D){var F=s[D],U=F.orientation;return!F.mirror&&!F.hide?me(me({},I),{},Xe({},U,hr(I,"".concat(U))+F.height)):I},{top:_.top||0,bottom:_.bottom||0}),R=me(me({},A),C),N=R.bottom;b&&(R.bottom+=b.props.height||no.defaultProps.height),P&&n&&(R=Qq(R,i,r,n));var k=f-R.left-R.right,$=g-R.top-R.bottom;return me(me({brushBottom:N},R),{},{width:Math.max(k,0),height:Math.max($,0)})},s9=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},vf=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,c=s===void 0?["axis"]:s,d=e.axisComponents,f=e.legendContent,g=e.formatAxisMap,y=e.defaultProps,_=function(R,N){var k=N.graphicalItems,$=N.stackGroups,I=N.offset,D=N.updateId,F=N.dataStartIndex,U=N.dataEndIndex,z=R.barSize,G=R.layout,j=R.barGap,K=R.barCategoryGap,Q=R.maxBarSize,re=mI(G),ie=re.numericAxisName,ae=re.cateAxisName,de=o9(k),J=[];return k.forEach(function(ce,ne){var V=Wp(R.data,{graphicalItems:[ce],dataStartIndex:F,dataEndIndex:U}),ee=ce.type.defaultProps!==void 0?me(me({},ce.type.defaultProps),ce.props):ce.props,ve=ee.dataKey,Ce=ee.maxBarSize,le=ee["".concat(ie,"Id")],pe=ee["".concat(ae,"Id")],Le={},Oe=d.reduce(function(gt,Yt){var Yn=N["".concat(Yt.axisType,"Map")],Si=ee["".concat(Yt.axisType,"Id")];Yn&&Yn[Si]||Yt.axisType==="zAxis"||ts();var ri=Yn[Si];return me(me({},gt),{},Xe(Xe({},Yt.axisType,ri),"".concat(Yt.axisType,"Ticks"),Qi(ri)))},Le),_e=Oe[ae],ke=Oe["".concat(ae,"Ticks")],He=$&&$[le]&&$[le].hasStack&&cU(ce,$[le].stackGroups),ge=eo(ce.type).indexOf("Bar")>=0,rt=kh(_e,ke),Qe=[],pt=de&&Yq({barSize:z,stackGroups:$,totalSize:s9(Oe,ae)});if(ge){var mt,Pe,ze=Je(Ce)?Q:Ce,Ve=(mt=(Pe=kh(_e,ke,!0))!==null&&Pe!==void 0?Pe:ze)!==null&&mt!==void 0?mt:0;Qe=Xq({barGap:j,barCategoryGap:K,bandSize:Ve!==rt?Ve:rt,sizeList:pt[pe],maxBarSize:ze}),Ve!==rt&&(Qe=Qe.map(function(gt){return me(me({},gt),{},{position:me(me({},gt.position),{},{offset:gt.position.offset-Ve/2})})}))}var it=ce&&ce.type&&ce.type.getComposedData;it&&J.push({props:me(me({},it(me(me({},Oe),{},{displayedData:V,props:R,dataKey:ve,item:ce,bandSize:rt,barPosition:Qe,offset:I,stackedData:He,layout:G,dataStartIndex:F,dataEndIndex:U}))),{},Xe(Xe(Xe({key:ce.key||"item-".concat(ne)},ie,Oe[ie]),ae,Oe[ae]),"animationId",D)),childIndex:nD(ce,R.children),item:ce})}),J},b=function(R,N){var k=R.props,$=R.dataStartIndex,I=R.dataEndIndex,D=R.updateId;if(!ST({props:k}))return null;var F=k.children,U=k.layout,z=k.stackOffset,G=k.data,j=k.reverseStackOrder,K=mI(U),Q=K.numericAxisName,re=K.cateAxisName,ie=qn(F,r),ae=lU(G,ie,"".concat(Q,"Id"),"".concat(re,"Id"),z,j),de=d.reduce(function(ee,ve){var Ce="".concat(ve.axisType,"Map");return me(me({},ee),{},Xe({},Ce,r9(k,me(me({},ve),{},{graphicalItems:ie,stackGroups:ve.axisType===Q&&ae,dataStartIndex:$,dataEndIndex:I}))))},{}),J=a9(me(me({},de),{},{props:k,graphicalItems:ie}),N==null?void 0:N.legendBBox);Object.keys(de).forEach(function(ee){de[ee]=g(k,de[ee],J,ee.replace("Map",""),n)});var ce=de["".concat(re,"Map")],ne=i9(ce),V=_(k,me(me({},de),{},{dataStartIndex:$,dataEndIndex:I,updateId:D,graphicalItems:ie,stackGroups:ae,offset:J}));return me(me({formattedGraphicalItems:V,graphicalItems:ie,offset:J,stackGroups:ae},ne),de)},P=function(A){function R(N){var k,$,I;return qW(this,R),I=zW(this,R,[N]),Xe(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xe(I,"accessibilityManager",new AW),Xe(I,"handleLegendBBoxUpdate",function(D){if(D){var F=I.state,U=F.dataStartIndex,z=F.dataEndIndex,G=F.updateId;I.setState(me({legendBBox:D},b({props:I.props,dataStartIndex:U,dataEndIndex:z,updateId:G},me(me({},I.state),{},{legendBBox:D}))))}}),Xe(I,"handleReceiveSyncEvent",function(D,F,U){if(I.props.syncId===D){if(U===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(F)}}),Xe(I,"handleBrushChange",function(D){var F=D.startIndex,U=D.endIndex;if(F!==I.state.dataStartIndex||U!==I.state.dataEndIndex){var z=I.state.updateId;I.setState(function(){return me({dataStartIndex:F,dataEndIndex:U},b({props:I.props,dataStartIndex:F,dataEndIndex:U,updateId:z},I.state))}),I.triggerSyncEvent({dataStartIndex:F,dataEndIndex:U})}}),Xe(I,"handleMouseEnter",function(D){var F=I.getMouseInfo(D);if(F){var U=me(me({},F),{},{isTooltipActive:!0});I.setState(U),I.triggerSyncEvent(U);var z=I.props.onMouseEnter;Ye(z)&&z(U,D)}}),Xe(I,"triggeredAfterMouseMove",function(D){var F=I.getMouseInfo(D),U=F?me(me({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(U),I.triggerSyncEvent(U);var z=I.props.onMouseMove;Ye(z)&&z(U,D)}),Xe(I,"handleItemMouseEnter",function(D){I.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),Xe(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),Xe(I,"handleMouseMove",function(D){D.persist(),I.throttleTriggeredAfterMouseMove(D)}),Xe(I,"handleMouseLeave",function(D){I.throttleTriggeredAfterMouseMove.cancel();var F={isTooltipActive:!1};I.setState(F),I.triggerSyncEvent(F);var U=I.props.onMouseLeave;Ye(U)&&U(F,D)}),Xe(I,"handleOuterEvent",function(D){var F=tD(D),U=hr(I.props,"".concat(F));if(F&&Ye(U)){var z,G;/.*touch.*/i.test(F)?G=I.getMouseInfo(D.changedTouches[0]):G=I.getMouseInfo(D),U((z=G)!==null&&z!==void 0?z:{},D)}}),Xe(I,"handleClick",function(D){var F=I.getMouseInfo(D);if(F){var U=me(me({},F),{},{isTooltipActive:!0});I.setState(U),I.triggerSyncEvent(U);var z=I.props.onClick;Ye(z)&&z(U,D)}}),Xe(I,"handleMouseDown",function(D){var F=I.props.onMouseDown;if(Ye(F)){var U=I.getMouseInfo(D);F(U,D)}}),Xe(I,"handleMouseUp",function(D){var F=I.props.onMouseUp;if(Ye(F)){var U=I.getMouseInfo(D);F(U,D)}}),Xe(I,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),Xe(I,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.handleMouseDown(D.changedTouches[0])}),Xe(I,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.handleMouseUp(D.changedTouches[0])}),Xe(I,"handleDoubleClick",function(D){var F=I.props.onDoubleClick;if(Ye(F)){var U=I.getMouseInfo(D);F(U,D)}}),Xe(I,"handleContextMenu",function(D){var F=I.props.onContextMenu;if(Ye(F)){var U=I.getMouseInfo(D);F(U,D)}}),Xe(I,"triggerSyncEvent",function(D){I.props.syncId!==void 0&&C_.emit(A_,I.props.syncId,D,I.eventEmitterSymbol)}),Xe(I,"applySyncEvent",function(D){var F=I.props,U=F.layout,z=F.syncMethod,G=I.state.updateId,j=D.dataStartIndex,K=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)I.setState(me({dataStartIndex:j,dataEndIndex:K},b({props:I.props,dataStartIndex:j,dataEndIndex:K,updateId:G},I.state)));else if(D.activeTooltipIndex!==void 0){var Q=D.chartX,re=D.chartY,ie=D.activeTooltipIndex,ae=I.state,de=ae.offset,J=ae.tooltipTicks;if(!de)return;if(typeof z=="function")ie=z(J,D);else if(z==="value"){ie=-1;for(var ce=0;ce<J.length;ce++)if(J[ce].value===D.activeLabel){ie=ce;break}}var ne=me(me({},de),{},{x:de.left,y:de.top}),V=Math.min(Q,ne.x+ne.width),ee=Math.min(re,ne.y+ne.height),ve=J[ie]&&J[ie].value,Ce=tw(I.state,I.props.data,ie),le=J[ie]?{x:U==="horizontal"?J[ie].coordinate:V,y:U==="horizontal"?ee:J[ie].coordinate}:_5;I.setState(me(me({},D),{},{activeLabel:ve,activeCoordinate:le,activePayload:Ce,activeTooltipIndex:ie}))}else I.setState(D)}),Xe(I,"renderCursor",function(D){var F,U=I.state,z=U.isTooltipActive,G=U.activeCoordinate,j=U.activePayload,K=U.offset,Q=U.activeTooltipIndex,re=U.tooltipAxisBandSize,ie=I.getTooltipEventType(),ae=(F=D.props.active)!==null&&F!==void 0?F:z,de=I.props.layout,J=D.key||"_recharts-cursor";return H.createElement(NW,{key:J,activeCoordinate:G,activePayload:j,activeTooltipIndex:Q,chartName:n,element:D,isActive:ae,layout:de,offset:K,tooltipAxisBandSize:re,tooltipEventType:ie})}),Xe(I,"renderPolarAxis",function(D,F,U){var z=hr(D,"type.axisType"),G=hr(I.state,"".concat(z,"Map")),j=D.type.defaultProps,K=j!==void 0?me(me({},j),D.props):D.props,Q=G&&G[K["".concat(z,"Id")]];return X.cloneElement(D,me(me({},Q),{},{className:at(z,Q.className),key:D.key||"".concat(F,"-").concat(U),ticks:Qi(Q,!0)}))}),Xe(I,"renderPolarGrid",function(D){var F=D.props,U=F.radialLines,z=F.polarAngles,G=F.polarRadius,j=I.state,K=j.radiusAxisMap,Q=j.angleAxisMap,re=Jo(K),ie=Jo(Q),ae=ie.cx,de=ie.cy,J=ie.innerRadius,ce=ie.outerRadius;return X.cloneElement(D,{polarAngles:Array.isArray(z)?z:Qi(ie,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(G)?G:Qi(re,!0).map(function(ne){return ne.coordinate}),cx:ae,cy:de,innerRadius:J,outerRadius:ce,key:D.key||"polar-grid",radialLines:U})}),Xe(I,"renderLegend",function(){var D=I.state.formattedGraphicalItems,F=I.props,U=F.children,z=F.width,G=F.height,j=I.props.margin||{},K=z-(j.left||0)-(j.right||0),Q=K2({children:U,formattedGraphicalItems:D,legendWidth:K,legendContent:f});if(!Q)return null;var re=Q.item,ie=fI(Q,RW);return X.cloneElement(re,me(me({},ie),{},{chartWidth:z,chartHeight:G,margin:j,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),Xe(I,"renderTooltip",function(){var D,F=I.props,U=F.children,z=F.accessibilityLayer,G=fr(U,Dn);if(!G)return null;var j=I.state,K=j.isTooltipActive,Q=j.activeCoordinate,re=j.activePayload,ie=j.activeLabel,ae=j.offset,de=(D=G.props.active)!==null&&D!==void 0?D:K;return X.cloneElement(G,{viewBox:me(me({},ae),{},{x:ae.left,y:ae.top}),active:de,label:ie,payload:de?re:[],coordinate:Q,accessibilityLayer:z})}),Xe(I,"renderBrush",function(D){var F=I.props,U=F.margin,z=F.data,G=I.state,j=G.offset,K=G.dataStartIndex,Q=G.dataEndIndex,re=G.updateId;return X.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Kd(I.handleBrushChange,D.props.onChange),data:z,x:Se(D.props.x)?D.props.x:j.left,y:Se(D.props.y)?D.props.y:j.top+j.height+j.brushBottom-(U.bottom||0),width:Se(D.props.width)?D.props.width:j.width,startIndex:K,endIndex:Q,updateId:"brush-".concat(re)})}),Xe(I,"renderReferenceElement",function(D,F,U){if(!D)return null;var z=I,G=z.clipPathId,j=I.state,K=j.xAxisMap,Q=j.yAxisMap,re=j.offset,ie=D.type.defaultProps||{},ae=D.props,de=ae.xAxisId,J=de===void 0?ie.xAxisId:de,ce=ae.yAxisId,ne=ce===void 0?ie.yAxisId:ce;return X.cloneElement(D,{key:D.key||"".concat(F,"-").concat(U),xAxis:K[J],yAxis:Q[ne],viewBox:{x:re.left,y:re.top,width:re.width,height:re.height},clipPathId:G})}),Xe(I,"renderActivePoints",function(D){var F=D.item,U=D.activePoint,z=D.basePoint,G=D.childIndex,j=D.isRange,K=[],Q=F.props.key,re=F.item.type.defaultProps!==void 0?me(me({},F.item.type.defaultProps),F.item.props):F.item.props,ie=re.activeDot,ae=re.dataKey,de=me(me({index:G,dataKey:ae,cx:U.x,cy:U.y,r:4,fill:ub(F.item),strokeWidth:2,stroke:"#fff",payload:U.payload,value:U.value},qe(ie,!1)),lh(ie));return K.push(R.renderActiveDot(ie,de,"".concat(Q,"-activePoint-").concat(G))),z?K.push(R.renderActiveDot(ie,me(me({},de),{},{cx:z.x,cy:z.y}),"".concat(Q,"-basePoint-").concat(G))):j&&K.push(null),K}),Xe(I,"renderGraphicChild",function(D,F,U){var z=I.filterFormatItem(D,F,U);if(!z)return null;var G=I.getTooltipEventType(),j=I.state,K=j.isTooltipActive,Q=j.tooltipAxis,re=j.activeTooltipIndex,ie=j.activeLabel,ae=I.props.children,de=fr(ae,Dn),J=z.props,ce=J.points,ne=J.isRange,V=J.baseLine,ee=z.item.type.defaultProps!==void 0?me(me({},z.item.type.defaultProps),z.item.props):z.item.props,ve=ee.activeDot,Ce=ee.hide,le=ee.activeBar,pe=ee.activeShape,Le=!!(!Ce&&K&&de&&(ve||le||pe)),Oe={};G!=="axis"&&de&&de.props.trigger==="click"?Oe={onClick:Kd(I.handleItemMouseEnter,D.props.onClick)}:G!=="axis"&&(Oe={onMouseLeave:Kd(I.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Kd(I.handleItemMouseEnter,D.props.onMouseEnter)});var _e=X.cloneElement(D,me(me({},z.props),Oe));function ke(Yt){return typeof Q.dataKey=="function"?Q.dataKey(Yt.payload):null}if(Le)if(re>=0){var He,ge;if(Q.dataKey&&!Q.allowDuplicatedCategory){var rt=typeof Q.dataKey=="function"?ke:"payload.".concat(Q.dataKey.toString());He=sh(ce,rt,ie),ge=ne&&V&&sh(V,rt,ie)}else He=ce==null?void 0:ce[re],ge=ne&&V&&V[re];if(pe||le){var Qe=D.props.activeIndex!==void 0?D.props.activeIndex:re;return[X.cloneElement(D,me(me(me({},z.props),Oe),{},{activeIndex:Qe})),null,null]}if(!Je(He))return[_e].concat(Wl(I.renderActivePoints({item:z,activePoint:He,basePoint:ge,childIndex:re,isRange:ne})))}else{var pt,mt=(pt=I.getItemByXY(I.state.activeCoordinate))!==null&&pt!==void 0?pt:{graphicalItem:_e},Pe=mt.graphicalItem,ze=Pe.item,Ve=ze===void 0?D:ze,it=Pe.childIndex,gt=me(me(me({},z.props),Oe),{},{activeIndex:it});return[X.cloneElement(Ve,gt),null,null]}return ne?[_e,null,null]:[_e,null]}),Xe(I,"renderCustomized",function(D,F,U){return X.cloneElement(D,me(me({key:"recharts-customized-".concat(U)},I.props),I.state))}),Xe(I,"renderMap",{CartesianGrid:{handler:Qd,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:Qd},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:Qd},YAxis:{handler:Qd},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((k=N.id)!==null&&k!==void 0?k:sa("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=Wk(I.triggeredAfterMouseMove,($=N.throttleDelay)!==null&&$!==void 0?$:1e3/60),I.state={},I}return GW(R,A),jW(R,[{key:"componentDidMount",value:function(){var k,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,$=k.children,I=k.data,D=k.height,F=k.layout,U=fr($,Dn);if(U){var z=U.props.defaultIndex;if(!(typeof z!="number"||z<0||z>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[z]&&this.state.tooltipTicks[z].value,j=tw(this.state,I,z,G),K=this.state.tooltipTicks[z].coordinate,Q=(this.state.offset.top+D)/2,re=F==="horizontal",ie=re?{x:K,y:Q}:{y:K,x:Q},ae=this.state.formattedGraphicalItems.find(function(J){var ce=J.item;return ce.type.name==="Scatter"});ae&&(ie=me(me({},ie),ae.props.points[z].tooltipPosition),j=ae.props.points[z].tooltipPayload);var de={activeTooltipIndex:z,isTooltipActive:!0,activeLabel:G,activePayload:j,activeCoordinate:ie};this.setState(de),this.renderCursor(U),this.accessibilityManager.setIndex(z)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var I,D;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(k){R_([fr(k.children,Dn)],[fr(this.props.children,Dn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=fr(this.props.children,Dn);if(k&&typeof k.props.shared=="boolean"){var $=k.props.shared?"axis":"item";return c.indexOf($)>=0?$:o}return o}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var $=this.container,I=$.getBoundingClientRect(),D=j3(I),F={chartX:Math.round(k.pageX-D.left),chartY:Math.round(k.pageY-D.top)},U=I.width/$.offsetWidth||1,z=this.inRange(F.chartX,F.chartY,U);if(!z)return null;var G=this.state,j=G.xAxisMap,K=G.yAxisMap,Q=this.getTooltipEventType(),re=hI(this.state,this.props.data,this.props.layout,z);if(Q!=="axis"&&j&&K){var ie=Jo(j).scale,ae=Jo(K).scale,de=ie&&ie.invert?ie.invert(F.chartX):null,J=ae&&ae.invert?ae.invert(F.chartY):null;return me(me({},F),{},{xValue:de,yValue:J},re)}return re?me(me({},F),re):null}},{key:"inRange",value:function(k,$){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,F=k/I,U=$/I;if(D==="horizontal"||D==="vertical"){var z=this.state.offset,G=F>=z.left&&F<=z.left+z.width&&U>=z.top&&U<=z.top+z.height;return G?{x:F,y:U}:null}var j=this.state,K=j.angleAxisMap,Q=j.radiusAxisMap;if(K&&Q){var re=Jo(K);return fE({x:F,y:U},re)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,$=this.getTooltipEventType(),I=fr(k,Dn),D={};I&&$==="axis"&&(I.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var F=lh(this.props,this.handleOuterEvent);return me(me({},F),D)}},{key:"addListener",value:function(){C_.on(A_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){C_.removeListener(A_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,$,I){for(var D=this.state.formattedGraphicalItems,F=0,U=D.length;F<U;F++){var z=D[F];if(z.item===k||z.props.key===k.key||$===eo(z.item.type)&&I===z.childIndex)return z}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,$=this.state.offset,I=$.left,D=$.top,F=$.height,U=$.width;return H.createElement("defs",null,H.createElement("clipPath",{id:k},H.createElement("rect",{x:I,y:D,height:F,width:U})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function($,I){var D=cI(I,2),F=D[0],U=D[1];return me(me({},$),{},Xe({},F,U.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function($,I){var D=cI(I,2),F=D[0],U=D[1];return me(me({},$),{},Xe({},F,U.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[k])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(k){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[k])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(k){var $=this.state,I=$.formattedGraphicalItems,D=$.activeItem;if(I&&I.length)for(var F=0,U=I.length;F<U;F++){var z=I[F],G=z.props,j=z.item,K=j.type.defaultProps!==void 0?me(me({},j.type.defaultProps),j.props):j.props,Q=eo(j.type);if(Q==="Bar"){var re=(G.data||[]).find(function(J){return a6(k,J)});if(re)return{graphicalItem:z,payload:re}}else if(Q==="RadialBar"){var ie=(G.data||[]).find(function(J){return fE(k,J)});if(ie)return{graphicalItem:z,payload:ie}}else if(Fp(z,D)||Bp(z,D)||tf(z,D)){var ae=MV({graphicalItem:z,activeTooltipItem:D,itemData:K.data}),de=K.activeIndex===void 0?ae:K.activeIndex;return{graphicalItem:me(me({},z),{},{childIndex:de}),payload:tf(z,D)?K.data[ae]:z.props.data[ae]}}}return null}},{key:"render",value:function(){var k=this;if(!ST(this))return null;var $=this.props,I=$.children,D=$.className,F=$.width,U=$.height,z=$.style,G=$.compact,j=$.title,K=$.desc,Q=fI($,LW),re=qe(Q,!1);if(G)return H.createElement(UM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(D_,ul({},re,{width:F,height:U,title:j,desc:K}),this.renderClipPath(),CT(I,this.renderMap)));if(this.props.accessibilityLayer){var ie,ae;re.tabIndex=(ie=this.props.tabIndex)!==null&&ie!==void 0?ie:0,re.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",re.onKeyDown=function(J){k.accessibilityManager.keyboardEvent(J)},re.onFocus=function(){k.accessibilityManager.focus()}}var de=this.parseEventsOfWrapper();return H.createElement(UM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",ul({className:at("recharts-wrapper",D),style:me({position:"relative",cursor:"default",width:F,height:U},z)},de,{ref:function(ce){k.container=ce}}),H.createElement(D_,ul({},re,{width:F,height:U,title:j,desc:K,style:XW}),this.renderClipPath(),CT(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(X.Component);Xe(P,"displayName",n),Xe(P,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},y)),Xe(P,"getDerivedStateFromProps",function(A,R){var N=A.dataKey,k=A.data,$=A.children,I=A.width,D=A.height,F=A.layout,U=A.stackOffset,z=A.margin,G=R.dataStartIndex,j=R.dataEndIndex;if(R.updateId===void 0){var K=pI(A);return me(me(me({},K),{},{updateId:0},b(me(me({props:A},K),{},{updateId:0}),R)),{},{prevDataKey:N,prevData:k,prevWidth:I,prevHeight:D,prevLayout:F,prevStackOffset:U,prevMargin:z,prevChildren:$})}if(N!==R.prevDataKey||k!==R.prevData||I!==R.prevWidth||D!==R.prevHeight||F!==R.prevLayout||U!==R.prevStackOffset||!fl(z,R.prevMargin)){var Q=pI(A),re={chartX:R.chartX,chartY:R.chartY,isTooltipActive:R.isTooltipActive},ie=me(me({},hI(R,k,F)),{},{updateId:R.updateId+1}),ae=me(me(me({},Q),re),ie);return me(me(me({},ae),b(me({props:A},ae),R)),{},{prevDataKey:N,prevData:k,prevWidth:I,prevHeight:D,prevLayout:F,prevStackOffset:U,prevMargin:z,prevChildren:$})}if(!R_($,R.prevChildren)){var de,J,ce,ne,V=fr($,no),ee=V&&(de=(J=V.props)===null||J===void 0?void 0:J.startIndex)!==null&&de!==void 0?de:G,ve=V&&(ce=(ne=V.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ce!==void 0?ce:j,Ce=ee!==G||ve!==j,le=!Je(k),pe=le&&!Ce?R.updateId:R.updateId+1;return me(me({updateId:pe},b(me(me({props:A},R),{},{updateId:pe,dataStartIndex:ee,dataEndIndex:ve}),R)),{},{prevChildren:$,dataStartIndex:ee,dataEndIndex:ve})}return null}),Xe(P,"renderActiveDot",function(A,R,N){var k;return X.isValidElement(A)?k=X.cloneElement(A,R):Ye(A)?k=A(R):k=H.createElement(gf,R),H.createElement(ut,{className:"recharts-active-dot",key:N},k)});var C=X.forwardRef(function(R,N){return H.createElement(P,ul({},R,{ref:N}))});return C.displayName=P.displayName,C},l9=vf({chartName:"LineChart",GraphicalChild:Bl,axisComponents:[{axisType:"xAxis",AxisComp:Xr},{axisType:"yAxis",AxisComp:Qr}],formatAxisMap:Up}),gI=vf({chartName:"BarChart",GraphicalChild:oa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xr},{axisType:"yAxis",AxisComp:Qr}],formatAxisMap:Up}),u9=vf({chartName:"PieChart",GraphicalChild:fo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$p},{axisType:"radiusAxis",AxisComp:Lp}],formatAxisMap:xU,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),c9=vf({chartName:"ScatterChart",GraphicalChild:zl,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Xr},{axisType:"yAxis",AxisComp:Qr},{axisType:"zAxis",AxisComp:Gp}],formatAxisMap:Up}),f9=vf({chartName:"AreaChart",GraphicalChild:ao,axisComponents:[{axisType:"xAxis",AxisComp:Xr},{axisType:"yAxis",AxisComp:Qr}],formatAxisMap:Up});function w5(t,e){const n=X.useRef(e);X.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function d9(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const h9=1;function p9(t){return Object.freeze({__version:h9,map:t})}function m9(t,e){return Object.freeze({...t,...e})}const b5=X.createContext(null),S5=b5.Provider;function xb(){const t=X.useContext(b5);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function g9(t){function e(n,r){const{instance:i,context:o}=t(n).current;return X.useImperativeHandle(r,()=>i),n.children==null?null:H.createElement(S5,{value:o},n.children)}return X.forwardRef(e)}function v9(t){function e(n,r){const[i,o]=X.useState(!1),{instance:s}=t(n,o).current;X.useImperativeHandle(r,()=>s),X.useEffect(function(){i&&s.update()},[s,i,n.children]);const c=s._contentNode;return c?Yz.createPortal(n.children,c):null}return X.forwardRef(e)}function y9(t){function e(n,r){const{instance:i}=t(n).current;return X.useImperativeHandle(r,()=>i),null}return X.forwardRef(e)}function wb(t,e){const n=X.useRef();X.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Kp(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function _9(t,e){return function(r,i){const o=xb(),s=t(Kp(r,o),o);return w5(o.map,r.attribution),wb(s.current,r.eventHandlers),e(s.current,o,r,i),s}}var gc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var x9=gc.exports,vI;function w9(){return vI||(vI=1,function(t,e){(function(n,r){r(e)})(x9,function(n){var r="1.9.4";function i(l){var m,x,S,O;for(x=1,S=arguments.length;x<S;x++){O=arguments[x];for(m in O)l[m]=O[m]}return l}var o=Object.create||function(){function l(){}return function(m){return l.prototype=m,new l}}();function s(l,m){var x=Array.prototype.slice;if(l.bind)return l.bind.apply(l,x.call(arguments,1));var S=x.call(arguments,2);return function(){return l.apply(m,S.length?S.concat(x.call(arguments)):arguments)}}var c=0;function d(l){return"_leaflet_id"in l||(l._leaflet_id=++c),l._leaflet_id}function f(l,m,x){var S,O,q,Z;return Z=function(){S=!1,O&&(q.apply(x,O),O=!1)},q=function(){S?O=arguments:(l.apply(x,arguments),setTimeout(Z,m),S=!0)},q}function g(l,m,x){var S=m[1],O=m[0],q=S-O;return l===S&&x?l:((l-O)%q+q)%q+O}function y(){return!1}function _(l,m){if(m===!1)return l;var x=Math.pow(10,m===void 0?6:m);return Math.round(l*x)/x}function b(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function P(l){return b(l).split(/\s+/)}function C(l,m){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var x in m)l.options[x]=m[x];return l.options}function A(l,m,x){var S=[];for(var O in l)S.push(encodeURIComponent(x?O.toUpperCase():O)+"="+encodeURIComponent(l[O]));return(!m||m.indexOf("?")===-1?"?":"&")+S.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function N(l,m){return l.replace(R,function(x,S){var O=m[S];if(O===void 0)throw new Error("No value provided for variable "+x);return typeof O=="function"&&(O=O(m)),O})}var k=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function $(l,m){for(var x=0;x<l.length;x++)if(l[x]===m)return x;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var F=0;function U(l){var m=+new Date,x=Math.max(0,16-(m-F));return F=m+x,window.setTimeout(l,x)}var z=window.requestAnimationFrame||D("RequestAnimationFrame")||U,G=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function j(l,m,x){if(x&&z===U)l.call(m);else return z.call(window,s(l,m))}function K(l){l&&G.call(window,l)}var Q={__proto__:null,extend:i,create:o,bind:s,get lastId(){return c},stamp:d,throttle:f,wrapNum:g,falseFn:y,formatNum:_,trim:b,splitWords:P,setOptions:C,getParamString:A,template:N,isArray:k,indexOf:$,emptyImageUrl:I,requestFn:z,cancelFn:G,requestAnimFrame:j,cancelAnimFrame:K};function re(){}re.extend=function(l){var m=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=m.__super__=this.prototype,S=o(x);S.constructor=m,m.prototype=S;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(m[O]=this[O]);return l.statics&&i(m,l.statics),l.includes&&(ie(l.includes),i.apply(null,[S].concat(l.includes))),i(S,l),delete S.statics,delete S.includes,S.options&&(S.options=x.options?o(x.options):{},i(S.options,l.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var q=0,Z=S._initHooks.length;q<Z;q++)S._initHooks[q].call(this)}},m},re.include=function(l){var m=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=m,this.mergeOptions(l.options)),this},re.mergeOptions=function(l){return i(this.prototype.options,l),this},re.addInitHook=function(l){var m=Array.prototype.slice.call(arguments,1),x=typeof l=="function"?l:function(){this[l].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};function ie(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=k(l)?l:[l];for(var m=0;m<l.length;m++)l[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(l,m,x){if(typeof l=="object")for(var S in l)this._on(S,l[S],m);else{l=P(l);for(var O=0,q=l.length;O<q;O++)this._on(l[O],m,x)}return this},off:function(l,m,x){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var S in l)this._off(S,l[S],m);else{l=P(l);for(var O=arguments.length===1,q=0,Z=l.length;q<Z;q++)O?this._off(l[q]):this._off(l[q],m,x)}return this},_on:function(l,m,x,S){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(l,m,x)===!1){x===this&&(x=void 0);var O={fn:m,ctx:x};S&&(O.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(O)}},_off:function(l,m,x){var S,O,q;if(this._events&&(S=this._events[l],!!S)){if(arguments.length===1){if(this._firingCount)for(O=0,q=S.length;O<q;O++)S[O].fn=y;delete this._events[l];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Z=this._listens(l,m,x);if(Z!==!1){var oe=S[Z];this._firingCount&&(oe.fn=y,this._events[l]=S=S.slice()),S.splice(Z,1)}}},fire:function(l,m,x){if(!this.listens(l,x))return this;var S=i({},m,{type:l,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var O=this._events[l];if(O){this._firingCount=this._firingCount+1||1;for(var q=0,Z=O.length;q<Z;q++){var oe=O[q],fe=oe.fn;oe.once&&this.off(l,fe,oe.ctx),fe.call(oe.ctx||this,S)}this._firingCount--}}return x&&this._propagateEvent(S),this},listens:function(l,m,x,S){typeof l!="string"&&console.warn('"string" type argument expected');var O=m;typeof m!="function"&&(S=!!m,O=void 0,x=void 0);var q=this._events&&this._events[l];if(q&&q.length&&this._listens(l,O,x)!==!1)return!0;if(S){for(var Z in this._eventParents)if(this._eventParents[Z].listens(l,m,x,S))return!0}return!1},_listens:function(l,m,x){if(!this._events)return!1;var S=this._events[l]||[];if(!m)return!!S.length;x===this&&(x=void 0);for(var O=0,q=S.length;O<q;O++)if(S[O].fn===m&&S[O].ctx===x)return O;return!1},once:function(l,m,x){if(typeof l=="object")for(var S in l)this._on(S,l[S],m,!0);else{l=P(l);for(var O=0,q=l.length;O<q;O++)this._on(l[O],m,x,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[d(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[d(l)],this},_propagateEvent:function(l){for(var m in this._eventParents)this._eventParents[m].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var de=re.extend(ae);function J(l,m,x){this.x=x?Math.round(l):l,this.y=x?Math.round(m):m}var ce=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};J.prototype={clone:function(){return new J(this.x,this.y)},add:function(l){return this.clone()._add(ne(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(ne(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new J(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new J(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(l){l=ne(l);var m=l.x-this.x,x=l.y-this.y;return Math.sqrt(m*m+x*x)},equals:function(l){return l=ne(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=ne(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function ne(l,m,x){return l instanceof J?l:k(l)?new J(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new J(l.x,l.y):new J(l,m,x)}function V(l,m){if(l)for(var x=m?[l,m]:l,S=0,O=x.length;S<O;S++)this.extend(x[S])}V.prototype={extend:function(l){var m,x;if(!l)return this;if(l instanceof J||typeof l[0]=="number"||"x"in l)m=x=ne(l);else if(l=ee(l),m=l.min,x=l.max,!m||!x)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=x.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)),this},getCenter:function(l){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var m,x;return typeof l[0]=="number"||l instanceof J?l=ne(l):l=ee(l),l instanceof V?(m=l.min,x=l.max):m=x=l,m.x>=this.min.x&&x.x<=this.max.x&&m.y>=this.min.y&&x.y<=this.max.y},intersects:function(l){l=ee(l);var m=this.min,x=this.max,S=l.min,O=l.max,q=O.x>=m.x&&S.x<=x.x,Z=O.y>=m.y&&S.y<=x.y;return q&&Z},overlaps:function(l){l=ee(l);var m=this.min,x=this.max,S=l.min,O=l.max,q=O.x>m.x&&S.x<x.x,Z=O.y>m.y&&S.y<x.y;return q&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var m=this.min,x=this.max,S=Math.abs(m.x-x.x)*l,O=Math.abs(m.y-x.y)*l;return ee(ne(m.x-S,m.y-O),ne(x.x+S,x.y+O))},equals:function(l){return l?(l=ee(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function ee(l,m){return!l||l instanceof V?l:new V(l,m)}function ve(l,m){if(l)for(var x=m?[l,m]:l,S=0,O=x.length;S<O;S++)this.extend(x[S])}ve.prototype={extend:function(l){var m=this._southWest,x=this._northEast,S,O;if(l instanceof le)S=l,O=l;else if(l instanceof ve){if(S=l._southWest,O=l._northEast,!S||!O)return this}else return l?this.extend(pe(l)||Ce(l)):this;return!m&&!x?(this._southWest=new le(S.lat,S.lng),this._northEast=new le(O.lat,O.lng)):(m.lat=Math.min(S.lat,m.lat),m.lng=Math.min(S.lng,m.lng),x.lat=Math.max(O.lat,x.lat),x.lng=Math.max(O.lng,x.lng)),this},pad:function(l){var m=this._southWest,x=this._northEast,S=Math.abs(m.lat-x.lat)*l,O=Math.abs(m.lng-x.lng)*l;return new ve(new le(m.lat-S,m.lng-O),new le(x.lat+S,x.lng+O))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof le||"lat"in l?l=pe(l):l=Ce(l);var m=this._southWest,x=this._northEast,S,O;return l instanceof ve?(S=l.getSouthWest(),O=l.getNorthEast()):S=O=l,S.lat>=m.lat&&O.lat<=x.lat&&S.lng>=m.lng&&O.lng<=x.lng},intersects:function(l){l=Ce(l);var m=this._southWest,x=this._northEast,S=l.getSouthWest(),O=l.getNorthEast(),q=O.lat>=m.lat&&S.lat<=x.lat,Z=O.lng>=m.lng&&S.lng<=x.lng;return q&&Z},overlaps:function(l){l=Ce(l);var m=this._southWest,x=this._northEast,S=l.getSouthWest(),O=l.getNorthEast(),q=O.lat>m.lat&&S.lat<x.lat,Z=O.lng>m.lng&&S.lng<x.lng;return q&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,m){return l?(l=Ce(l),this._southWest.equals(l.getSouthWest(),m)&&this._northEast.equals(l.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ce(l,m){return l instanceof ve?l:new ve(l,m)}function le(l,m,x){if(isNaN(l)||isNaN(m))throw new Error("Invalid LatLng object: ("+l+", "+m+")");this.lat=+l,this.lng=+m,x!==void 0&&(this.alt=+x)}le.prototype={equals:function(l,m){if(!l)return!1;l=pe(l);var x=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return x<=(m===void 0?1e-9:m)},toString:function(l){return"LatLng("+_(this.lat,l)+", "+_(this.lng,l)+")"},distanceTo:function(l){return Oe.distance(this,pe(l))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(l){var m=180*l/40075017,x=m/Math.cos(Math.PI/180*this.lat);return Ce([this.lat-m,this.lng-x],[this.lat+m,this.lng+x])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function pe(l,m,x){return l instanceof le?l:k(l)&&typeof l[0]!="object"?l.length===3?new le(l[0],l[1],l[2]):l.length===2?new le(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new le(l.lat,"lng"in l?l.lng:l.lon,l.alt):m===void 0?null:new le(l,m,x)}var Le={latLngToPoint:function(l,m){var x=this.projection.project(l),S=this.scale(m);return this.transformation._transform(x,S)},pointToLatLng:function(l,m){var x=this.scale(m),S=this.transformation.untransform(l,x);return this.projection.unproject(S)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var m=this.projection.bounds,x=this.scale(l),S=this.transformation.transform(m.min,x),O=this.transformation.transform(m.max,x);return new V(S,O)},infinite:!1,wrapLatLng:function(l){var m=this.wrapLng?g(l.lng,this.wrapLng,!0):l.lng,x=this.wrapLat?g(l.lat,this.wrapLat,!0):l.lat,S=l.alt;return new le(x,m,S)},wrapLatLngBounds:function(l){var m=l.getCenter(),x=this.wrapLatLng(m),S=m.lat-x.lat,O=m.lng-x.lng;if(S===0&&O===0)return l;var q=l.getSouthWest(),Z=l.getNorthEast(),oe=new le(q.lat-S,q.lng-O),fe=new le(Z.lat-S,Z.lng-O);return new ve(oe,fe)}},Oe=i({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(l,m){var x=Math.PI/180,S=l.lat*x,O=m.lat*x,q=Math.sin((m.lat-l.lat)*x/2),Z=Math.sin((m.lng-l.lng)*x/2),oe=q*q+Math.cos(S)*Math.cos(O)*Z*Z,fe=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*fe}}),_e=6378137,ke={R:_e,MAX_LATITUDE:85.0511287798,project:function(l){var m=Math.PI/180,x=this.MAX_LATITUDE,S=Math.max(Math.min(x,l.lat),-x),O=Math.sin(S*m);return new J(this.R*l.lng*m,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(l){var m=180/Math.PI;return new le((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*m,l.x*m/this.R)},bounds:function(){var l=_e*Math.PI;return new V([-l,-l],[l,l])}()};function He(l,m,x,S){if(k(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=m,this._c=x,this._d=S}He.prototype={transform:function(l,m){return this._transform(l.clone(),m)},_transform:function(l,m){return m=m||1,l.x=m*(this._a*l.x+this._b),l.y=m*(this._c*l.y+this._d),l},untransform:function(l,m){return m=m||1,new J((l.x/m-this._b)/this._a,(l.y/m-this._d)/this._c)}};function ge(l,m,x,S){return new He(l,m,x,S)}var rt=i({},Oe,{code:"EPSG:3857",projection:ke,transformation:function(){var l=.5/(Math.PI*ke.R);return ge(l,.5,-l,.5)}()}),Qe=i({},rt,{code:"EPSG:900913"});function pt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function mt(l,m){var x="",S,O,q,Z,oe,fe;for(S=0,q=l.length;S<q;S++){for(oe=l[S],O=0,Z=oe.length;O<Z;O++)fe=oe[O],x+=(O?"L":"M")+fe.x+" "+fe.y;x+=m?Be.svg?"z":"x":""}return x||"M0 0"}var Pe=document.documentElement.style,ze="ActiveXObject"in window,Ve=ze&&!document.addEventListener,it="msLaunchUri"in navigator&&!("documentMode"in document),gt=xn("webkit"),Yt=xn("android"),Yn=xn("android 2")||xn("android 3"),Si=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ri=Yt&&xn("Google")&&Si<537&&!("AudioNode"in window),po=!!window.opera,De=!it&&xn("chrome"),Te=xn("gecko")&&!gt&&!po&&!ze,Ee=!De&&xn("safari"),We=xn("phantom"),ct="OTransition"in Pe,st=navigator.platform.indexOf("Win")===0,Et=ze&&"transition"in Pe,Ti="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yn,cs="MozPerspective"in Pe,Ci=!window.L_DISABLE_3D&&(Et||Ti||cs)&&!ct&&!We,Ai=typeof orientation<"u"||xn("mobile"),uu=Ai&&gt,cu=Ai&&Ti,fs=!window.PointerEvent&&window.MSPointerEvent,Pi=!!(window.PointerEvent||fs),Ei="ontouchstart"in window||!!window.TouchEvent,wf=!window.L_NO_TOUCH&&(Ei||Pi),bf=Ai&&po,Sf=Ai&&Te,Tf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Cf=function(){var l=!1;try{var m=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",y,m),window.removeEventListener("testPassiveEventSupport",y,m)}catch{}return l}(),fu=function(){return!!document.createElement("canvas").getContext}(),ds=!!(document.createElementNS&&pt("svg").createSVGRect),fa=!!ds&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),du=!ds&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var m=l.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),da=navigator.platform.indexOf("Mac")===0,Qp=navigator.platform.indexOf("Linux")===0;function xn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Be={ie:ze,ielt9:Ve,edge:it,webkit:gt,android:Yt,android23:Yn,androidStock:ri,opera:po,chrome:De,gecko:Te,safari:Ee,phantom:We,opera12:ct,win:st,ie3d:Et,webkit3d:Ti,gecko3d:cs,any3d:Ci,mobile:Ai,mobileWebkit:uu,mobileWebkit3d:cu,msPointer:fs,pointer:Pi,touch:wf,touchNative:Ei,mobileOpera:bf,mobileGecko:Sf,retina:Tf,passiveEvents:Cf,canvas:fu,svg:ds,vml:du,inlineSvg:fa,mac:da,linux:Qp},ha=Be.msPointer?"MSPointerDown":"pointerdown",hs=Be.msPointer?"MSPointerMove":"pointermove",Af=Be.msPointer?"MSPointerUp":"pointerup",Pf=Be.msPointer?"MSPointerCancel":"pointercancel",hu={touchstart:ha,touchmove:hs,touchend:Af,touchcancel:Pf},ii={touchstart:jt,touchmove:ps,touchend:ps,touchcancel:ps},Mi={},pu=!1;function em(l,m,x){return m==="touchstart"&&tm(),ii[m]?(x=ii[m].bind(this,x),l.addEventListener(hu[m],x,!1),x):(console.warn("wrong event specified:",m),y)}function Ef(l,m,x){if(!hu[m]){console.warn("wrong event specified:",m);return}l.removeEventListener(hu[m],x,!1)}function Mf(l){Mi[l.pointerId]=l}function If(l){Mi[l.pointerId]&&(Mi[l.pointerId]=l)}function mu(l){delete Mi[l.pointerId]}function tm(){pu||(document.addEventListener(ha,Mf,!0),document.addEventListener(hs,If,!0),document.addEventListener(Af,mu,!0),document.addEventListener(Pf,mu,!0),pu=!0)}function ps(l,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var x in Mi)m.touches.push(Mi[x]);m.changedTouches=[m],l(m)}}function jt(l,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&zt(m),ps(l,m)}function nm(l){var m={},x,S;for(S in l)x=l[S],m[S]=x&&x.bind?x.bind(l):x;return l=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var gu=200;function Of(l,m){l.addEventListener("dblclick",m);var x=0,S;function O(q){if(q.detail!==1){S=q.detail;return}if(!(q.pointerType==="mouse"||q.sourceCapabilities&&!q.sourceCapabilities.firesTouchEvents)){var Z=ki(q);if(!(Z.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!Z.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var oe=Date.now();oe-x<=gu?(S++,S===2&&m(nm(q))):S=1,x=oe}}}return l.addEventListener("click",O),{dblclick:m,simDblclick:O}}function ms(l,m){l.removeEventListener("dblclick",m.dblclick),l.removeEventListener("click",m.simDblclick)}var vu=yo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mo=yo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pa=mo==="webkitTransition"||mo==="OTransition"?mo+"End":"transitionend";function Xn(l){return typeof l=="string"?document.getElementById(l):l}function ma(l,m){var x=l.style[m]||l.currentStyle&&l.currentStyle[m];if((!x||x==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(l,null);x=S?S[m]:null}return x==="auto"?null:x}function ot(l,m,x){var S=document.createElement(l);return S.className=m||"",x&&x.appendChild(S),S}function Lt(l){var m=l.parentNode;m&&m.removeChild(l)}function gs(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function go(l){var m=l.parentNode;m&&m.lastChild!==l&&m.appendChild(l)}function $r(l){var m=l.parentNode;m&&m.firstChild!==l&&m.insertBefore(l,m.firstChild)}function vo(l,m){if(l.classList!==void 0)return l.classList.contains(m);var x=vs(l);return x.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(x)}function nt(l,m){if(l.classList!==void 0)for(var x=P(m),S=0,O=x.length;S<O;S++)l.classList.add(x[S]);else if(!vo(l,m)){var q=vs(l);yu(l,(q?q+" ":"")+m)}}function It(l,m){l.classList!==void 0?l.classList.remove(m):yu(l,b((" "+vs(l)+" ").replace(" "+m+" "," ")))}function yu(l,m){l.className.baseVal===void 0?l.className=m:l.className.baseVal=m}function vs(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function wn(l,m){"opacity"in l.style?l.style.opacity=m:"filter"in l.style&&kf(l,m)}function kf(l,m){var x=!1,S="DXImageTransform.Microsoft.Alpha";try{x=l.filters.item(S)}catch{if(m===1)return}m=Math.round(m*100),x?(x.Enabled=m!==100,x.Opacity=m):l.style.filter+=" progid:"+S+"(opacity="+m+")"}function yo(l){for(var m=document.documentElement.style,x=0;x<l.length;x++)if(l[x]in m)return l[x];return!1}function Qn(l,m,x){var S=m||new J(0,0);l.style[vu]=(Be.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(x?" scale("+x+")":"")}function Wt(l,m){l._leaflet_pos=m,Be.any3d?Qn(l,m):(l.style.left=m.x+"px",l.style.top=m.y+"px")}function Fr(l){return l._leaflet_pos||new J(0,0)}var ht,_o,ys;if("onselectstart"in document)ht=function(){et(window,"selectstart",zt)},_o=function(){Ct(window,"selectstart",zt)};else{var Ii=yo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ht=function(){if(Ii){var l=document.documentElement.style;ys=l[Ii],l[Ii]="none"}},_o=function(){Ii&&(document.documentElement.style[Ii]=ys,ys=void 0)}}function _s(){et(window,"dragstart",zt)}function xs(){Ct(window,"dragstart",zt)}var ga,va;function xo(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(er(),ga=l,va=l.style.outlineStyle,l.style.outlineStyle="none",et(window,"keydown",er))}function er(){ga&&(ga.style.outlineStyle=va,ga=void 0,va=void 0,Ct(window,"keydown",er))}function Br(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function pr(l){var m=l.getBoundingClientRect();return{x:m.width/l.offsetWidth||1,y:m.height/l.offsetHeight||1,boundingClientRect:m}}var ya={__proto__:null,TRANSFORM:vu,TRANSITION:mo,TRANSITION_END:pa,get:Xn,getStyle:ma,create:ot,remove:Lt,empty:gs,toFront:go,toBack:$r,hasClass:vo,addClass:nt,removeClass:It,setClass:yu,getClass:vs,setOpacity:wn,testProp:yo,setTransform:Qn,setPosition:Wt,getPosition:Fr,get disableTextSelection(){return ht},get enableTextSelection(){return _o},disableImageDrag:_s,enableImageDrag:xs,preventOutline:xo,restoreOutline:er,getSizedParentNode:Br,getScale:pr};function et(l,m,x,S){if(m&&typeof m=="object")for(var O in m)xu(l,O,m[O],x);else{m=P(m);for(var q=0,Z=m.length;q<Z;q++)xu(l,m[q],x,S)}return this}var nn="_leaflet_events";function Ct(l,m,x,S){if(arguments.length===1)_u(l),delete l[nn];else if(m&&typeof m=="object")for(var O in m)ws(l,O,m[O],x);else if(m=P(m),arguments.length===2)_u(l,function(oe){return $(m,oe)!==-1});else for(var q=0,Z=m.length;q<Z;q++)ws(l,m[q],x,S);return this}function _u(l,m){for(var x in l[nn]){var S=x.split(/\d/)[0];(!m||m(S))&&ws(l,S,null,null,x)}}var Oi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xu(l,m,x,S){var O=m+d(x)+(S?"_"+d(S):"");if(l[nn]&&l[nn][O])return this;var q=function(oe){return x.call(S||l,oe||window.event)},Z=q;!Be.touchNative&&Be.pointer&&m.indexOf("touch")===0?q=em(l,m,q):Be.touch&&m==="dblclick"?q=Of(l,q):"addEventListener"in l?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?l.addEventListener(Oi[m]||m,q,Be.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(q=function(oe){oe=oe||window.event,wa(l,oe)&&Z(oe)},l.addEventListener(Oi[m],q,!1)):l.addEventListener(m,Z,!1):l.attachEvent("on"+m,q),l[nn]=l[nn]||{},l[nn][O]=q}function ws(l,m,x,S,O){O=O||m+d(x)+(S?"_"+d(S):"");var q=l[nn]&&l[nn][O];if(!q)return this;!Be.touchNative&&Be.pointer&&m.indexOf("touch")===0?Ef(l,m,q):Be.touch&&m==="dblclick"?ms(l,q):"removeEventListener"in l?l.removeEventListener(Oi[m]||m,q,!1):l.detachEvent("on"+m,q),l[nn][O]=null}function mr(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function bs(l){return xu(l,"wheel",mr),this}function _a(l){return et(l,"mousedown touchstart dblclick contextmenu",mr),l._leaflet_disable_click=!0,this}function zt(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function tr(l){return zt(l),mr(l),this}function ki(l){if(l.composedPath)return l.composedPath();for(var m=[],x=l.target;x;)m.push(x),x=x.parentNode;return m}function xa(l,m){if(!m)return new J(l.clientX,l.clientY);var x=pr(m),S=x.boundingClientRect;return new J((l.clientX-S.left)/x.x-m.clientLeft,(l.clientY-S.top)/x.y-m.clientTop)}var rm=Be.linux&&Be.chrome?window.devicePixelRatio:Be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nf(l){return Be.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/rm:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function wa(l,m){var x=m.relatedTarget;if(!x)return!0;try{for(;x&&x!==l;)x=x.parentNode}catch{return!1}return x!==l}var Ss={__proto__:null,on:et,off:Ct,stopPropagation:mr,disableScrollPropagation:bs,disableClickPropagation:_a,preventDefault:zt,stop:tr,getPropagationPath:ki,getMousePosition:xa,getWheelDelta:Nf,isExternalTarget:wa,addListener:et,removeListener:Ct},Ts=de.extend({run:function(l,m,x,S){this.stop(),this._el=l,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=Fr(l),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(l){var m=+new Date-this._startTime,x=this._duration*1e3;m<x?this._runFrame(this._easeOut(m/x),l):(this._runFrame(1),this._complete())},_runFrame:function(l,m){var x=this._startPos.add(this._offset.multiplyBy(l));m&&x._round(),Wt(this._el,x),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),dt=de.extend({options:{crs:rt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,m){m=C(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(pe(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mo&&Be.any3d&&!Be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),et(this._proxy,pa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,m,x){if(m=m===void 0?this._zoom:this._limitZoom(m),l=this._limitCenter(pe(l),m,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&x!==!0){x.animate!==void 0&&(x.zoom=i({animate:x.animate},x.zoom),x.pan=i({animate:x.animate,duration:x.duration},x.pan));var S=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,m,x.zoom):this._tryAnimatedPan(l,x.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(l,m,x.pan&&x.pan.noMoveStart),this},setZoom:function(l,m){return this._loaded?this.setView(this.getCenter(),l,{zoom:m}):(this._zoom=l,this)},zoomIn:function(l,m){return l=l||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,m)},zoomOut:function(l,m){return l=l||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,m)},setZoomAround:function(l,m,x){var S=this.getZoomScale(m),O=this.getSize().divideBy(2),q=l instanceof J?l:this.latLngToContainerPoint(l),Z=q.subtract(O).multiplyBy(1-1/S),oe=this.containerPointToLatLng(O.add(Z));return this.setView(oe,m,{zoom:x})},_getBoundsCenterZoom:function(l,m){m=m||{},l=l.getBounds?l.getBounds():Ce(l);var x=ne(m.paddingTopLeft||m.padding||[0,0]),S=ne(m.paddingBottomRight||m.padding||[0,0]),O=this.getBoundsZoom(l,!1,x.add(S));if(O=typeof m.maxZoom=="number"?Math.min(m.maxZoom,O):O,O===1/0)return{center:l.getCenter(),zoom:O};var q=S.subtract(x).divideBy(2),Z=this.project(l.getSouthWest(),O),oe=this.project(l.getNorthEast(),O),fe=this.unproject(Z.add(oe).divideBy(2).add(q),O);return{center:fe,zoom:O}},fitBounds:function(l,m){if(l=Ce(l),!l.isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(l,m);return this.setView(x.center,x.zoom,m)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,m){return this.setView(l,this._zoom,{pan:m})},panBy:function(l,m){if(l=ne(l).round(),m=m||{},!l.x&&!l.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ts,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,x,m.duration||.25,m.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,m,x){if(x=x||{},x.animate===!1||!Be.any3d)return this.setView(l,m,x);this._stop();var S=this.project(this.getCenter()),O=this.project(l),q=this.getSize(),Z=this._zoom;l=pe(l),m=m===void 0?Z:m;var oe=Math.max(q.x,q.y),fe=oe*this.getZoomScale(Z,m),ye=O.distanceTo(S)||1,Me=1.42,Ge=Me*Me;function lt(xt){var Lo=xt?-1:1,vm=xt?fe:oe,ym=fe*fe-oe*oe+Lo*Ge*Ge*ye*ye,Bi=2*vm*Ge*ye,qi=ym/Bi,Ui=Math.sqrt(qi*qi+1)-qi,Fs=Ui<1e-9?-18:Math.log(Ui);return Fs}function rn(xt){return(Math.exp(xt)-Math.exp(-xt))/2}function Xt(xt){return(Math.exp(xt)+Math.exp(-xt))/2}function Nn(xt){return rn(xt)/Xt(xt)}var Sn=lt(0);function No(xt){return oe*(Xt(Sn)/Xt(Sn+Me*xt))}function Uu(xt){return oe*(Xt(Sn)*Nn(Sn+Me*xt)-rn(Sn))/Ge}function di(xt){return 1-Math.pow(1-xt,1.5)}var ed=Date.now(),Fi=(lt(1)-Sn)/Me,_r=x.duration?1e3*x.duration:1e3*Fi*.8;function Ro(){var xt=(Date.now()-ed)/_r,Lo=di(xt)*Fi;xt<=1?(this._flyToFrame=j(Ro,this),this._move(this.unproject(S.add(O.subtract(S).multiplyBy(Uu(Lo)/ye)),Z),this.getScaleZoom(oe/No(Lo),Z),{flyTo:!0})):this._move(l,m)._moveEnd(!0)}return this._moveStart(!0,x.noMoveStart),Ro.call(this),this},flyToBounds:function(l,m){var x=this._getBoundsCenterZoom(l,m);return this.flyTo(x.center,x.zoom,m)},setMaxBounds:function(l){return l=Ce(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var m=this.options.minZoom;return this.options.minZoom=l,this._loaded&&m!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var m=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&m!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,m){this._enforcingBounds=!0;var x=this.getCenter(),S=this._limitCenter(x,this._zoom,Ce(l));return x.equals(S)||this.panTo(S,m),this._enforcingBounds=!1,this},panInside:function(l,m){m=m||{};var x=ne(m.paddingTopLeft||m.padding||[0,0]),S=ne(m.paddingBottomRight||m.padding||[0,0]),O=this.project(this.getCenter()),q=this.project(l),Z=this.getPixelBounds(),oe=ee([Z.min.add(x),Z.max.subtract(S)]),fe=oe.getSize();if(!oe.contains(q)){this._enforcingBounds=!0;var ye=q.subtract(oe.getCenter()),Me=oe.extend(q).getSize().subtract(fe);O.x+=ye.x<0?-Me.x:Me.x,O.y+=ye.y<0?-Me.y:Me.y,this.panTo(this.unproject(O),m),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),S=m.divideBy(2).round(),O=x.divideBy(2).round(),q=S.subtract(O);return!q.x&&!q.y?this:(l.animate&&l.pan?this.panBy(q):(l.pan&&this._rawPanBy(q),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:x}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=s(this._handleGeolocationResponse,this),x=s(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,x,l):navigator.geolocation.getCurrentPosition(m,x,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var m=l.code,x=l.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var m=l.coords.latitude,x=l.coords.longitude,S=new le(m,x),O=S.toBounds(l.coords.accuracy*2),q=this._locateOptions;if(q.setView){var Z=this.getBoundsZoom(O);this.setView(S,q.maxZoom?Math.min(Z,q.maxZoom):Z)}var oe={latlng:S,bounds:O,timestamp:l.timestamp};for(var fe in l.coords)typeof l.coords[fe]=="number"&&(oe[fe]=l.coords[fe]);this.fire("locationfound",oe)}},addHandler:function(l,m){if(!m)return this;var x=this[l]=new m(this);return this._handlers.push(x),this.options[l]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)Lt(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,m){var x="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),S=ot("div",x,m||this._mapPane);return l&&(this._panes[l]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),m=this.unproject(l.getBottomLeft()),x=this.unproject(l.getTopRight());return new ve(m,x)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,m,x){l=Ce(l),x=ne(x||[0,0]);var S=this.getZoom()||0,O=this.getMinZoom(),q=this.getMaxZoom(),Z=l.getNorthWest(),oe=l.getSouthEast(),fe=this.getSize().subtract(x),ye=ee(this.project(oe,S),this.project(Z,S)).getSize(),Me=Be.any3d?this.options.zoomSnap:1,Ge=fe.x/ye.x,lt=fe.y/ye.y,rn=m?Math.max(Ge,lt):Math.min(Ge,lt);return S=this.getScaleZoom(rn,S),Me&&(S=Math.round(S/(Me/100))*(Me/100),S=m?Math.ceil(S/Me)*Me:Math.floor(S/Me)*Me),Math.max(O,Math.min(q,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,m){var x=this._getTopLeftPoint(l,m);return new V(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,m){var x=this.options.crs;return m=m===void 0?this._zoom:m,x.scale(l)/x.scale(m)},getScaleZoom:function(l,m){var x=this.options.crs;m=m===void 0?this._zoom:m;var S=x.zoom(l*x.scale(m));return isNaN(S)?1/0:S},project:function(l,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(pe(l),m)},unproject:function(l,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(ne(l),m)},layerPointToLatLng:function(l){var m=ne(l).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(l){var m=this.project(pe(l))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(pe(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(Ce(l))},distance:function(l,m){return this.options.crs.distance(pe(l),pe(m))},containerPointToLayerPoint:function(l){return ne(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return ne(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var m=this.containerPointToLayerPoint(ne(l));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(l)))},mouseEventToContainerPoint:function(l){return xa(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var m=this._container=Xn(l);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");et(m,"scroll",this._onScroll,this),this._containerId=d(m)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Be.any3d,nt(l,"leaflet-container"+(Be.touch?" leaflet-touch":"")+(Be.retina?" leaflet-retina":"")+(Be.ielt9?" leaflet-oldie":"")+(Be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=ma(l,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wt(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(l.markerPane,"leaflet-zoom-hide"),nt(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,m,x){Wt(this._mapPane,new J(0,0));var S=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var O=this._zoom!==m;this._moveStart(O,x)._move(l,m)._moveEnd(O),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(l,m){return l&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(l,m,x,S){m===void 0&&(m=this._zoom);var O=this._zoom!==m;return this._zoom=m,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),S?x&&x.pinch&&this.fire("zoom",x):((O||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Wt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[d(this._container)]=this;var m=l?Ct:et;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Be.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,m){for(var x=[],S,O=m==="mouseout"||m==="mouseover",q=l.target||l.srcElement,Z=!1;q;){if(S=this._targets[d(q)],S&&(m==="click"||m==="preclick")&&this._draggableMoved(S)){Z=!0;break}if(S&&S.listens(m,!0)&&(O&&!wa(q,l)||(x.push(S),O))||q===this._container)break;q=q.parentNode}return!x.length&&!Z&&!O&&this.listens(m,!0)&&(x=[this]),x},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var m=l.target||l.srcElement;if(!(!this._loaded||m._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(m))){var x=l.type;x==="mousedown"&&xo(m),this._fireDOMEvent(l,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,m,x){if(l.type==="click"){var S=i({},l);S.type="preclick",this._fireDOMEvent(S,S.type,x)}var O=this._findEventTargets(l,m);if(x){for(var q=[],Z=0;Z<x.length;Z++)x[Z].listens(m,!0)&&q.push(x[Z]);O=q.concat(O)}if(O.length){m==="contextmenu"&&zt(l);var oe=O[0],fe={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var ye=oe.getLatLng&&(!oe._radius||oe._radius<=10);fe.containerPoint=ye?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(l),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=ye?oe.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(Z=0;Z<O.length;Z++)if(O[Z].fire(m,fe,!0),fe.originalEvent._stopped||O[Z].options.bubblingMouseEvents===!1&&$(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,m=this._handlers.length;l<m;l++)this._handlers[l].disable()},whenReady:function(l,m){return this._loaded?l.call(m||this,{target:this}):this.on("load",l,m),this},_getMapPanePos:function(){return Fr(this._mapPane)||new J(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,m){var x=l&&m!==void 0?this._getNewPixelOrigin(l,m):this.getPixelOrigin();return x.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,m){var x=this.getSize()._divideBy(2);return this.project(l,m)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,m,x){var S=this._getNewPixelOrigin(x,m);return this.project(l,m)._subtract(S)},_latLngBoundsToNewLayerBounds:function(l,m,x){var S=this._getNewPixelOrigin(x,m);return ee([this.project(l.getSouthWest(),m)._subtract(S),this.project(l.getNorthWest(),m)._subtract(S),this.project(l.getSouthEast(),m)._subtract(S),this.project(l.getNorthEast(),m)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,m,x){if(!x)return l;var S=this.project(l,m),O=this.getSize().divideBy(2),q=new V(S.subtract(O),S.add(O)),Z=this._getBoundsOffset(q,x,m);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?l:this.unproject(S.add(Z),m)},_limitOffset:function(l,m){if(!m)return l;var x=this.getPixelBounds(),S=new V(x.min.add(l),x.max.add(l));return l.add(this._getBoundsOffset(S,m))},_getBoundsOffset:function(l,m,x){var S=ee(this.project(m.getNorthEast(),x),this.project(m.getSouthWest(),x)),O=S.min.subtract(l.min),q=S.max.subtract(l.max),Z=this._rebound(O.x,-q.x),oe=this._rebound(O.y,-q.y);return new J(Z,oe)},_rebound:function(l,m){return l+m>0?Math.round(l-m)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(m))},_limitZoom:function(l){var m=this.getMinZoom(),x=this.getMaxZoom(),S=Be.any3d?this.options.zoomSnap:1;return S&&(l=Math.round(l/S)*S),Math.max(m,Math.min(x,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){It(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,m){var x=this._getCenterOffset(l)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(x)?!1:(this.panBy(x,m),!0)},_createAnimProxy:function(){var l=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(m){var x=vu,S=this._proxy.style[x];Qn(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),S===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),m=this.getZoom();Qn(this._proxy,this.project(l,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,m,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||x.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(m),O=this._getCenterOffset(l)._divideBy(1-1/S);return x.animate!==!0&&!this.getSize().contains(O)?!1:(j(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(l,m,!0)},this),!0)},_animateZoom:function(l,m,x,S){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=m,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:m,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&It(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oi(l,m){return new dt(l,m)}var On=re.extend({options:{position:"topright"},initialize:function(l){C(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var m=this._map;return m&&m.removeControl(this),this.options.position=l,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var m=this._container=this.onAdd(l),x=this.getPosition(),S=l._controlCorners[x];return nt(m,"leaflet-control"),x.indexOf("bottom")!==-1?S.insertBefore(m,S.firstChild):S.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),ai=function(l){return new On(l)};dt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},m="leaflet-",x=this._controlContainer=ot("div",m+"control-container",this._container);function S(O,q){var Z=m+O+" "+m+q;l[O+q]=ot("div",Z,x)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)Lt(this._controlCorners[l]);Lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wu=On.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,m,x,S){return x<S?-1:S<x?1:0}},initialize:function(l,m,x){C(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in l)this._addLayer(l[S],S);for(S in m)this._addLayer(m[S],S,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return On.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,m){return this._addLayer(l,m),this._map?this._update():this},addOverlay:function(l,m){return this._addLayer(l,m,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var m=this._getLayer(d(l));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):It(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return It(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",m=this._container=ot("div",l),x=this.options.collapsed;m.setAttribute("aria-haspopup",!0),_a(m),bs(m);var S=this._section=ot("section",l+"-list");x&&(this._map.on("click",this.collapse,this),et(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=ot("a",l+"-toggle",m);O.href="#",O.title="Layers",O.setAttribute("role","button"),et(O,{keydown:function(q){q.keyCode===13&&this._expandSafely()},click:function(q){zt(q),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=ot("div",l+"-base",S),this._separator=ot("div",l+"-separator",S),this._overlaysList=ot("div",l+"-overlays",S),m.appendChild(S)},_getLayer:function(l){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&d(this._layers[m].layer)===l)return this._layers[m]},_addLayer:function(l,m,x){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:m,overlay:x}),this.options.sortLayers&&this._layers.sort(s(function(S,O){return this.options.sortFunction(S.layer,O.layer,S.name,O.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gs(this._baseLayersList),gs(this._overlaysList),this._layerControlInputs=[];var l,m,x,S,O=0;for(x=0;x<this._layers.length;x++)S=this._layers[x],this._addItem(S),m=m||S.overlay,l=l||!S.overlay,O+=S.overlay?0:1;return this.options.hideSingleBase&&(l=l&&O>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=m&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var m=this._getLayer(d(l.target)),x=m.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;x&&this._map.fire(x,m)},_createRadioElement:function(l,m){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(m?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=x,S.firstChild},_addItem:function(l){var m=document.createElement("label"),x=this._map.hasLayer(l.layer),S;l.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=x):S=this._createRadioElement("leaflet-base-layers_"+d(this),x),this._layerControlInputs.push(S),S.layerId=d(l.layer),et(S,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+l.name;var q=document.createElement("span");m.appendChild(q),q.appendChild(S),q.appendChild(O);var Z=l.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,m,x,S=[],O=[];this._handlingClick=!0;for(var q=l.length-1;q>=0;q--)m=l[q],x=this._getLayer(m.layerId).layer,m.checked?S.push(x):m.checked||O.push(x);for(q=0;q<O.length;q++)this._map.hasLayer(O[q])&&this._map.removeLayer(O[q]);for(q=0;q<S.length;q++)this._map.hasLayer(S[q])||this._map.addLayer(S[q]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,m,x,S=this._map.getZoom(),O=l.length-1;O>=0;O--)m=l[O],x=this._getLayer(m.layerId).layer,m.disabled=x.options.minZoom!==void 0&&S<x.options.minZoom||x.options.maxZoom!==void 0&&S>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,et(l,"click",zt),this.expand();var m=this;setTimeout(function(){Ct(l,"click",zt),m._preventClick=!1})}}),Cs=function(l,m,x){return new wu(l,m,x)},wo=On.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var m="leaflet-control-zoom",x=ot("div",m+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,m+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,m+"-out",x,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,m,x,S,O){var q=ot("a",x,S);return q.innerHTML=l,q.href="#",q.title=m,q.setAttribute("role","button"),q.setAttribute("aria-label",m),_a(q),et(q,"click",tr),et(q,"click",O,this),et(q,"click",this._refocusOnMap,this),q},_updateDisabled:function(){var l=this._map,m="leaflet-disabled";It(this._zoomInButton,m),It(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(nt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(nt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});dt.mergeOptions({zoomControl:!0}),dt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new wo,this.addControl(this.zoomControl))});var Rf=function(l){return new wo(l)},bn=On.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var m="leaflet-control-scale",x=ot("div",m),S=this.options;return this._addScales(S,m+"-line",x),l.on(S.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),x},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,m,x){l.metric&&(this._mScale=ot("div",m,x)),l.imperial&&(this._iScale=ot("div",m,x))},_update:function(){var l=this._map,m=l.getSize().y/2,x=l.distance(l.containerPointToLatLng([0,m]),l.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(x)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var m=this._getRoundNum(l),x=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,x,m/l)},_updateImperial:function(l){var m=l*3.2808399,x,S,O;m>5280?(x=m/5280,S=this._getRoundNum(x),this._updateScale(this._iScale,S+" mi",S/x)):(O=this._getRoundNum(m),this._updateScale(this._iScale,O+" ft",O/m))},_updateScale:function(l,m,x){l.style.width=Math.round(this.options.maxWidth*x)+"px",l.innerHTML=m},_getRoundNum:function(l){var m=Math.pow(10,(Math.floor(l)+"").length-1),x=l/m;return x=x>=10?10:x>=5?5:x>=3?3:x>=2?2:1,m*x}}),bo=function(l){return new bn(l)},bu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ni=On.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Be.inlineSvg?bu+" ":"")+"Leaflet</a>"},initialize:function(l){C(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),_a(this._container);for(var m in l._layers)l._layers[m].getAttribution&&this.addAttribution(l._layers[m].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var m in this._attributions)this._attributions[m]&&l.push(m);var x=[];this.options.prefix&&x.push(this.options.prefix),l.length&&x.push(l.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});dt.mergeOptions({attributionControl:!0}),dt.addInitHook(function(){this.options.attributionControl&&new Ni().addTo(this)});var im=function(l){return new Ni(l)};On.Layers=wu,On.Zoom=wo,On.Scale=bn,On.Attribution=Ni,ai.layers=Cs,ai.zoom=Rf,ai.scale=bo,ai.attribution=im;var Un=re.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Un.addTo=function(l,m){return l.addHandler(m,this),this};var Su={Events:ae},So=Be.touch?"touchstart mousedown":"mousedown",nr=de.extend({options:{clickTolerance:3},initialize:function(l,m,x,S){C(this,S),this._element=l,this._dragStartTarget=m||l,this._preventOutline=x},enable:function(){this._enabled||(et(this._dragStartTarget,So,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nr._dragging===this&&this.finishDrag(!0),Ct(this._dragStartTarget,So,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!vo(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){nr._dragging===this&&this.finishDrag();return}if(!(nr._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(nr._dragging=this,this._preventOutline&&xo(this._element),_s(),ht(),!this._moving)){this.fire("down");var m=l.touches?l.touches[0]:l,x=Br(this._element);this._startPoint=new J(m.clientX,m.clientY),this._startPos=Fr(this._element),this._parentScale=pr(x);var S=l.type==="mousedown";et(document,S?"mousemove":"touchmove",this._onMove,this),et(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var m=l.touches&&l.touches.length===1?l.touches[0]:l,x=new J(m.clientX,m.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,zt(l),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Wt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){It(document.body,"leaflet-dragging"),this._lastTarget&&(It(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ct(document,"mousemove touchmove",this._onMove,this),Ct(document,"mouseup touchend touchcancel",this._onUp,this),xs(),_o();var m=this._moved&&this._moving;this._moving=!1,nr._dragging=!1,m&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function Tu(l,m,x){var S,O=[1,4,2,8],q,Z,oe,fe,ye,Me,Ge,lt;for(q=0,Me=l.length;q<Me;q++)l[q]._code=Ri(l[q],m);for(oe=0;oe<4;oe++){for(Ge=O[oe],S=[],q=0,Me=l.length,Z=Me-1;q<Me;Z=q++)fe=l[q],ye=l[Z],fe._code&Ge?ye._code&Ge||(lt=Ps(ye,fe,Ge,m,x),lt._code=Ri(lt,m),S.push(lt)):(ye._code&Ge&&(lt=Ps(ye,fe,Ge,m,x),lt._code=Ri(lt,m),S.push(lt)),S.push(fe));l=S}return l}function Lf(l,m){var x,S,O,q,Z,oe,fe,ye,Me;if(!l||l.length===0)throw new Error("latlngs not passed");jn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Ge=pe([0,0]),lt=Ce(l),rn=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());rn<1700&&(Ge=Cu(l));var Xt=l.length,Nn=[];for(x=0;x<Xt;x++){var Sn=pe(l[x]);Nn.push(m.project(pe([Sn.lat-Ge.lat,Sn.lng-Ge.lng])))}for(oe=fe=ye=0,x=0,S=Xt-1;x<Xt;S=x++)O=Nn[x],q=Nn[S],Z=O.y*q.x-q.y*O.x,fe+=(O.x+q.x)*Z,ye+=(O.y+q.y)*Z,oe+=Z*3;oe===0?Me=Nn[0]:Me=[fe/oe,ye/oe];var No=m.unproject(ne(Me));return pe([No.lat+Ge.lat,No.lng+Ge.lng])}function Cu(l){for(var m=0,x=0,S=0,O=0;O<l.length;O++){var q=pe(l[O]);m+=q.lat,x+=q.lng,S++}return pe([m/S,x/S])}var om={__proto__:null,clipPolygon:Tu,polygonCenter:Lf,centroid:Cu};function As(l,m){if(!m||!l.length)return l.slice();var x=m*m;return l=lm(l,x),l=sm(l,x),l}function Df(l,m,x){return Math.sqrt(Li(l,m,x,!0))}function am(l,m,x){return Li(l,m,x)}function sm(l,m){var x=l.length,S=typeof Uint8Array<"u"?Uint8Array:Array,O=new S(x);O[0]=O[x-1]=1,Au(l,O,m,0,x-1);var q,Z=[];for(q=0;q<x;q++)O[q]&&Z.push(l[q]);return Z}function Au(l,m,x,S,O){var q=0,Z,oe,fe;for(oe=S+1;oe<=O-1;oe++)fe=Li(l[oe],l[S],l[O],!0),fe>q&&(Z=oe,q=fe);q>x&&(m[Z]=1,Au(l,m,x,S,Z),Au(l,m,x,Z,O))}function lm(l,m){for(var x=[l[0]],S=1,O=0,q=l.length;S<q;S++)um(l[S],l[O])>m&&(x.push(l[S]),O=S);return O<q-1&&x.push(l[q-1]),x}var Pu;function $f(l,m,x,S,O){var q=S?Pu:Ri(l,x),Z=Ri(m,x),oe,fe,ye;for(Pu=Z;;){if(!(q|Z))return[l,m];if(q&Z)return!1;oe=q||Z,fe=Ps(l,m,oe,x,O),ye=Ri(fe,x),oe===q?(l=fe,q=ye):(m=fe,Z=ye)}}function Ps(l,m,x,S,O){var q=m.x-l.x,Z=m.y-l.y,oe=S.min,fe=S.max,ye,Me;return x&8?(ye=l.x+q*(fe.y-l.y)/Z,Me=fe.y):x&4?(ye=l.x+q*(oe.y-l.y)/Z,Me=oe.y):x&2?(ye=fe.x,Me=l.y+Z*(fe.x-l.x)/q):x&1&&(ye=oe.x,Me=l.y+Z*(oe.x-l.x)/q),new J(ye,Me,O)}function Ri(l,m){var x=0;return l.x<m.min.x?x|=1:l.x>m.max.x&&(x|=2),l.y<m.min.y?x|=4:l.y>m.max.y&&(x|=8),x}function um(l,m){var x=m.x-l.x,S=m.y-l.y;return x*x+S*S}function Li(l,m,x,S){var O=m.x,q=m.y,Z=x.x-O,oe=x.y-q,fe=Z*Z+oe*oe,ye;return fe>0&&(ye=((l.x-O)*Z+(l.y-q)*oe)/fe,ye>1?(O=x.x,q=x.y):ye>0&&(O+=Z*ye,q+=oe*ye)),Z=l.x-O,oe=l.y-q,S?Z*Z+oe*oe:new J(O,q)}function jn(l){return!k(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function Ff(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),jn(l)}function Bf(l,m){var x,S,O,q,Z,oe,fe,ye;if(!l||l.length===0)throw new Error("latlngs not passed");jn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Me=pe([0,0]),Ge=Ce(l),lt=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());lt<1700&&(Me=Cu(l));var rn=l.length,Xt=[];for(x=0;x<rn;x++){var Nn=pe(l[x]);Xt.push(m.project(pe([Nn.lat-Me.lat,Nn.lng-Me.lng])))}for(x=0,S=0;x<rn-1;x++)S+=Xt[x].distanceTo(Xt[x+1])/2;if(S===0)ye=Xt[0];else for(x=0,q=0;x<rn-1;x++)if(Z=Xt[x],oe=Xt[x+1],O=Z.distanceTo(oe),q+=O,q>S){fe=(q-S)/O,ye=[oe.x-fe*(oe.x-Z.x),oe.y-fe*(oe.y-Z.y)];break}var Sn=m.unproject(ne(ye));return pe([Sn.lat+Me.lat,Sn.lng+Me.lng])}var qf={__proto__:null,simplify:As,pointToSegmentDistance:Df,closestPointOnSegment:am,clipSegment:$f,_getEdgeIntersection:Ps,_getBitCode:Ri,_sqClosestPointOnSegment:Li,isFlat:jn,_flat:Ff,polylineCenter:Bf},Eu={project:function(l){return new J(l.lng,l.lat)},unproject:function(l){return new le(l.y,l.x)},bounds:new V([-180,-90],[180,90])},Mu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var m=Math.PI/180,x=this.R,S=l.lat*m,O=this.R_MINOR/x,q=Math.sqrt(1-O*O),Z=q*Math.sin(S),oe=Math.tan(Math.PI/4-S/2)/Math.pow((1-Z)/(1+Z),q/2);return S=-x*Math.log(Math.max(oe,1e-10)),new J(l.lng*m*x,S)},unproject:function(l){for(var m=180/Math.PI,x=this.R,S=this.R_MINOR/x,O=Math.sqrt(1-S*S),q=Math.exp(-l.y/x),Z=Math.PI/2-2*Math.atan(q),oe=0,fe=.1,ye;oe<15&&Math.abs(fe)>1e-7;oe++)ye=O*Math.sin(Z),ye=Math.pow((1-ye)/(1+ye),O/2),fe=Math.PI/2-2*Math.atan(q*ye)-Z,Z+=fe;return new le(Z*m,l.x*m/x)}},cm={__proto__:null,LonLat:Eu,Mercator:Mu,SphericalMercator:ke},fm=i({},Oe,{code:"EPSG:3395",projection:Mu,transformation:function(){var l=.5/(Math.PI*Mu.R);return ge(l,.5,-l,.5)}()}),Uf=i({},Oe,{code:"EPSG:4326",projection:Eu,transformation:ge(1/180,1,-1/180,.5)}),dm=i({},Le,{projection:Eu,transformation:ge(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,m){var x=m.lng-l.lng,S=m.lat-l.lat;return Math.sqrt(x*x+S*S)},infinite:!0});Le.Earth=Oe,Le.EPSG3395=fm,Le.EPSG3857=rt,Le.EPSG900913=Qe,Le.EPSG4326=Uf,Le.Simple=dm;var rr=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[d(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[d(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var m=l.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var x=this.getEvents();m.on(x,this),this.once("remove",function(){m.off(x,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});dt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var m=d(l);return this._layers[m]?this:(this._layers[m]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var m=d(l);return this._layers[m]?(this._loaded&&l.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return d(l)in this._layers},eachLayer:function(l,m){for(var x in this._layers)l.call(m,this._layers[x]);return this},_addLayers:function(l){l=l?k(l)?l:[l]:[];for(var m=0,x=l.length;m<x;m++)this.addLayer(l[m])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[d(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var m=d(l);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,m=-1/0,x=this._getZoomSpan();for(var S in this._zoomBoundLayers){var O=this._zoomBoundLayers[S].options;l=O.minZoom===void 0?l:Math.min(l,O.minZoom),m=O.maxZoom===void 0?m:Math.max(m,O.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=l===1/0?void 0:l,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var si=rr.extend({initialize:function(l,m){C(this,m),this._layers={};var x,S;if(l)for(x=0,S=l.length;x<S;x++)this.addLayer(l[x])},addLayer:function(l){var m=this.getLayerId(l);return this._layers[m]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var m=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(l){var m=typeof l=="number"?l:this.getLayerId(l);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var m=Array.prototype.slice.call(arguments,1),x,S;for(x in this._layers)S=this._layers[x],S[l]&&S[l].apply(S,m);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,m){for(var x in this._layers)l.call(m,this._layers[x]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return d(l)}}),ba=function(l,m){return new si(l,m)},qr=si.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),si.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),si.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new ve;for(var m in this._layers){var x=this._layers[m];l.extend(x.getBounds?x.getBounds():x.getLatLng())}return l}}),jf=function(l,m){return new qr(l,m)},Di=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){C(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,m){var x=this._getIconUrl(l);if(!x){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(x,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(S,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(l,m){var x=this.options,S=x[m+"Size"];typeof S=="number"&&(S=[S,S]);var O=ne(S),q=ne(m==="shadow"&&x.shadowAnchor||x.iconAnchor||O&&O.divideBy(2,!0));l.className="leaflet-marker-"+m+" "+(x.className||""),q&&(l.style.marginLeft=-q.x+"px",l.style.marginTop=-q.y+"px"),O&&(l.style.width=O.x+"px",l.style.height=O.y+"px")},_createImg:function(l,m){return m=m||document.createElement("img"),m.src=l,m},_getIconUrl:function(l){return Be.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function zf(l){return new Di(l)}var To=Di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof To.imagePath!="string"&&(To.imagePath=this._detectIconPath()),(this.options.imagePath||To.imagePath)+Di.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var m=function(x,S,O){var q=S.exec(x);return q&&q[O]};return l=m(l,/^url\((['"])?(.+)\1\)$/,2),l&&m(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=ot("div","leaflet-default-icon-path",document.body),m=ma(l,"background-image")||ma(l,"backgroundImage");if(document.body.removeChild(l),m=this._stripUrl(m),m)return m;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),Iu=Un.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new nr(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&It(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var m=this._marker,x=m._map,S=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,q=Fr(m._icon),Z=x.getPixelBounds(),oe=x.getPixelOrigin(),fe=ee(Z.min._subtract(oe).add(O),Z.max._subtract(oe).subtract(O));if(!fe.contains(q)){var ye=ne((Math.max(fe.max.x,q.x)-fe.max.x)/(Z.max.x-fe.max.x)-(Math.min(fe.min.x,q.x)-fe.min.x)/(Z.min.x-fe.min.x),(Math.max(fe.max.y,q.y)-fe.max.y)/(Z.max.y-fe.max.y)-(Math.min(fe.min.y,q.y)-fe.min.y)/(Z.min.y-fe.min.y)).multiplyBy(S);x.panBy(ye,{animate:!1}),this._draggable._newPos._add(ye),this._draggable._startPos._add(ye),Wt(m._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=j(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,l)))},_onDrag:function(l){var m=this._marker,x=m._shadow,S=Fr(m._icon),O=m._map.layerPointToLatLng(S);x&&Wt(x,S),m._latlng=O,l.latlng=O,l.oldLatLng=this._oldLatLng,m.fire("move",l).fire("drag",l)},_onDragEnd:function(l){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),Ur=rr.extend({options:{icon:new To,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,m){C(this,m),this._latlng=pe(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var m=this._latlng;return this._latlng=pe(l),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=l.icon.createIcon(this._icon),S=!1;x!==this._icon&&(this._icon&&this._removeIcon(),S=!0,l.title&&(x.title=l.title),x.tagName==="IMG"&&(x.alt=l.alt||"")),nt(x,m),l.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(x,"focus",this._panOnFocus,this);var O=l.icon.createShadow(this._shadow),q=!1;O!==this._shadow&&(this._removeShadow(),q=!0),O&&(nt(O,m),O.alt=""),this._shadow=O,l.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&q&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(this._icon,"focus",this._panOnFocus,this),Lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lt(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Wt(this._icon,l),this._shadow&&Wt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Iu)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Iu(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&wn(this._icon,l),this._shadow&&wn(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var m=this.options.icon.options,x=m.iconSize?ne(m.iconSize):ne(0,0),S=m.iconAnchor?ne(m.iconAnchor):ne(0,0);l.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:x.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hm(l,m){return new Ur(l,m)}var li=rr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return C(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Es=li.extend({options:{fill:!0,radius:10},initialize:function(l,m){C(this,m),this._latlng=pe(l),this._radius=this.options.radius},setLatLng:function(l){var m=this._latlng;return this._latlng=pe(l),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var m=l&&l.radius||this._radius;return li.prototype.setStyle.call(this,l),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,m=this._radiusY||l,x=this._clickTolerance(),S=[l+x,m+x];this._pxBounds=new V(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vf(l,m){return new Es(l,m)}var Ms=Es.extend({initialize:function(l,m,x){if(typeof m=="number"&&(m=i({},x,{radius:m})),C(this,m),this._latlng=pe(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new ve(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:li.prototype.setStyle,_project:function(){var l=this._latlng.lng,m=this._latlng.lat,x=this._map,S=x.options.crs;if(S.distance===Oe.distance){var O=Math.PI/180,q=this._mRadius/Oe.R/O,Z=x.project([m+q,l]),oe=x.project([m-q,l]),fe=Z.add(oe).divideBy(2),ye=x.unproject(fe).lat,Me=Math.acos((Math.cos(q*O)-Math.sin(m*O)*Math.sin(ye*O))/(Math.cos(m*O)*Math.cos(ye*O)))/O;(isNaN(Me)||Me===0)&&(Me=q/Math.cos(Math.PI/180*m)),this._point=fe.subtract(x.getPixelOrigin()),this._radius=isNaN(Me)?0:fe.x-x.project([ye,l-Me]).x,this._radiusY=fe.y-Z.y}else{var Ge=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(Ge).x}this._updateBounds()}});function Sa(l,m,x){return new Ms(l,m,x)}var kn=li.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,m){C(this,m),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var m=1/0,x=null,S=Li,O,q,Z=0,oe=this._parts.length;Z<oe;Z++)for(var fe=this._parts[Z],ye=1,Me=fe.length;ye<Me;ye++){O=fe[ye-1],q=fe[ye];var Ge=S(l,O,q,!0);Ge<m&&(m=Ge,x=S(l,O,q))}return x&&(x.distance=Math.sqrt(m)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,m){return m=m||this._defaultShape(),l=pe(l),m.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new ve,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return jn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var m=[],x=jn(l),S=0,O=l.length;S<O;S++)x?(m[S]=pe(l[S]),this._bounds.extend(m[S])):m[S]=this._convertLatLngs(l[S]);return m},_project:function(){var l=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),m=new J(l,l);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(l,m,x){var S=l[0]instanceof le,O=l.length,q,Z;if(S){for(Z=[],q=0;q<O;q++)Z[q]=this._map.latLngToLayerPoint(l[q]),x.extend(Z[q]);m.push(Z)}else for(q=0;q<O;q++)this._projectLatlngs(l[q],m,x)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,x,S,O,q,Z,oe,fe;for(x=0,O=0,q=this._rings.length;x<q;x++)for(fe=this._rings[x],S=0,Z=fe.length;S<Z-1;S++)oe=$f(fe[S],fe[S+1],l,S,!0),oe&&(m[O]=m[O]||[],m[O].push(oe[0]),(oe[1]!==fe[S+1]||S===Z-2)&&(m[O].push(oe[1]),O++))}},_simplifyPoints:function(){for(var l=this._parts,m=this.options.smoothFactor,x=0,S=l.length;x<S;x++)l[x]=As(l[x],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,m){var x,S,O,q,Z,oe,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(x=0,q=this._parts.length;x<q;x++)for(oe=this._parts[x],S=0,Z=oe.length,O=Z-1;S<Z;O=S++)if(!(!m&&S===0)&&Df(l,oe[O],oe[S])<=fe)return!0;return!1}});function pm(l,m){return new kn(l,m)}kn._flat=Ff;var jr=kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var m=kn.prototype._convertLatLngs.call(this,l),x=m.length;return x>=2&&m[0]instanceof le&&m[0].equals(m[x-1])&&m.pop(),m},_setLatLngs:function(l){kn.prototype._setLatLngs.call(this,l),jn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return jn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,m=this.options.weight,x=new J(m,m);if(l=new V(l.min.subtract(x),l.max.add(x)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,O=this._rings.length,q;S<O;S++)q=Tu(this._rings[S],l,!0),q.length&&this._parts.push(q)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var m=!1,x,S,O,q,Z,oe,fe,ye;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(q=0,fe=this._parts.length;q<fe;q++)for(x=this._parts[q],Z=0,ye=x.length,oe=ye-1;Z<ye;oe=Z++)S=x[Z],O=x[oe],S.y>l.y!=O.y>l.y&&l.x<(O.x-S.x)*(l.y-S.y)/(O.y-S.y)+S.x&&(m=!m);return m||kn.prototype._containsPoint.call(this,l,!0)}});function mm(l,m){return new jr(l,m)}var gr=qr.extend({initialize:function(l,m){C(this,m),this._layers={},l&&this.addData(l)},addData:function(l){var m=k(l)?l:l.features,x,S,O;if(m){for(x=0,S=m.length;x<S;x++)O=m[x],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var q=this.options;if(q.filter&&!q.filter(l))return this;var Z=Co(l,q);return Z?(Z.feature=Rs(l),Z.defaultOptions=Z.options,this.resetStyle(Z),q.onEachFeature&&q.onEachFeature(l,Z),this.addLayer(Z)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(m){this._setLayerStyle(m,l)},this)},_setLayerStyle:function(l,m){l.setStyle&&(typeof m=="function"&&(m=m(l.feature)),l.setStyle(m))}});function Co(l,m){var x=l.type==="Feature"?l.geometry:l,S=x?x.coordinates:null,O=[],q=m&&m.pointToLayer,Z=m&&m.coordsToLatLng||Os,oe,fe,ye,Me;if(!S&&!x)return null;switch(x.type){case"Point":return oe=Z(S),Is(q,l,oe,m);case"MultiPoint":for(ye=0,Me=S.length;ye<Me;ye++)oe=Z(S[ye]),O.push(Is(q,l,oe,m));return new qr(O);case"LineString":case"MultiLineString":return fe=Ta(S,x.type==="LineString"?0:1,Z),new kn(fe,m);case"Polygon":case"MultiPolygon":return fe=Ta(S,x.type==="Polygon"?1:2,Z),new jr(fe,m);case"GeometryCollection":for(ye=0,Me=x.geometries.length;ye<Me;ye++){var Ge=Co({geometry:x.geometries[ye],type:"Feature",properties:l.properties},m);Ge&&O.push(Ge)}return new qr(O);case"FeatureCollection":for(ye=0,Me=x.features.length;ye<Me;ye++){var lt=Co(x.features[ye],m);lt&&O.push(lt)}return new qr(O);default:throw new Error("Invalid GeoJSON object.")}}function Is(l,m,x,S){return l?l(m,x):new Ur(x,S&&S.markersInheritOptions&&S)}function Os(l){return new le(l[1],l[0],l[2])}function Ta(l,m,x){for(var S=[],O=0,q=l.length,Z;O<q;O++)Z=m?Ta(l[O],m-1,x):(x||Os)(l[O]),S.push(Z);return S}function ks(l,m){return l=pe(l),l.alt!==void 0?[_(l.lng,m),_(l.lat,m),_(l.alt,m)]:[_(l.lng,m),_(l.lat,m)]}function Ns(l,m,x,S){for(var O=[],q=0,Z=l.length;q<Z;q++)O.push(m?Ns(l[q],jn(l[q])?0:m-1,x,S):ks(l[q],S));return!m&&x&&O.length>0&&O.push(O[0].slice()),O}function Ao(l,m){return l.feature?i({},l.feature,{geometry:m}):Rs(m)}function Rs(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Ou={toGeoJSON:function(l){return Ao(this,{type:"Point",coordinates:ks(this.getLatLng(),l)})}};Ur.include(Ou),Ms.include(Ou),Es.include(Ou),kn.include({toGeoJSON:function(l){var m=!jn(this._latlngs),x=Ns(this._latlngs,m?1:0,!1,l);return Ao(this,{type:(m?"Multi":"")+"LineString",coordinates:x})}}),jr.include({toGeoJSON:function(l){var m=!jn(this._latlngs),x=m&&!jn(this._latlngs[0]),S=Ns(this._latlngs,x?2:m?1:0,!0,l);return m||(S=[S]),Ao(this,{type:(x?"Multi":"")+"Polygon",coordinates:S})}}),si.include({toMultiPoint:function(l){var m=[];return this.eachLayer(function(x){m.push(x.toGeoJSON(l).geometry.coordinates)}),Ao(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(l){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(l);var x=m==="GeometryCollection",S=[];return this.eachLayer(function(O){if(O.toGeoJSON){var q=O.toGeoJSON(l);if(x)S.push(q.geometry);else{var Z=Rs(q);Z.type==="FeatureCollection"?S.push.apply(S,Z.features):S.push(Z)}}}),x?Ao(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function Hf(l,m){return new gr(l,m)}var ir=Hf,ui=rr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,m,x){this._url=l,this._bounds=Ce(m),C(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&go(this._image),this},bringToBack:function(){return this._map&&$r(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=Ce(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",m=this._image=l?this._url:ot("img");if(nt(m,"leaflet-image-layer"),this._zoomAnimated&&nt(m,"leaflet-zoom-animated"),this.options.className&&nt(m,this.options.className),m.onselectstart=y,m.onmousemove=y,m.onload=s(this.fire,this,"load"),m.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(l){var m=this._map.getZoomScale(l.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Qn(this._image,x,m)},_reset:function(){var l=this._image,m=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=m.getSize();Wt(l,m.min),l.style.width=x.x+"px",l.style.height=x.y+"px"},_updateOpacity:function(){wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),Gf=function(l,m,x){return new ui(l,m,x)},ku=ui.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",m=this._image=l?this._url:ot("video");if(nt(m,"leaflet-image-layer"),this._zoomAnimated&&nt(m,"leaflet-zoom-animated"),this.options.className&&nt(m,this.options.className),m.onselectstart=y,m.onmousemove=y,m.onloadeddata=s(this.fire,this,"load"),l){for(var x=m.getElementsByTagName("source"),S=[],O=0;O<x.length;O++)S.push(x[O].src);this._url=x.length>0?S:[m.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var q=0;q<this._url.length;q++){var Z=ot("source");Z.src=this._url[q],m.appendChild(Z)}}});function Wf(l,m,x){return new ku(l,m,x)}var Nu=ui.extend({_initImage:function(){var l=this._image=this._url;nt(l,"leaflet-image-layer"),this._zoomAnimated&&nt(l,"leaflet-zoom-animated"),this.options.className&&nt(l,this.options.className),l.onselectstart=y,l.onmousemove=y}});function Ru(l,m,x){return new Nu(l,m,x)}var vr=rr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,m){l&&(l instanceof le||k(l))?(this._latlng=pe(l),C(this,m)):(C(this,l),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&wn(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(wn(this._container,0),this._removeTimeout=setTimeout(s(Lt,void 0,this._container),200)):Lt(this._container),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=pe(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&go(this._container),this},bringToBack:function(){return this._map&&$r(this._container),this},_prepareOpen:function(l){var m=this._source;if(!m._map)return!1;if(m instanceof qr){m=null;var x=this._source._layers;for(var S in x)if(x[S]._map){m=x[S];break}if(!m)return!1;this._source=m}if(!l)if(m.getCenter)l=m.getCenter();else if(m.getLatLng)l=m.getLatLng();else if(m.getBounds)l=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")l.innerHTML=m;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),m=ne(this.options.offset),x=this._getAnchor();this._zoomAnimated?Wt(this._container,l.add(x)):m=m.add(l).add(x);var S=this._containerBottom=-m.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=S+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});dt.include({_initOverlay:function(l,m,x,S){var O=m;return O instanceof l||(O=new l(S).setContent(m)),x&&O.setLatLng(x),O}}),rr.include({_initOverlay:function(l,m,x,S){var O=x;return O instanceof l?(C(O,S),O._source=this):(O=m&&!S?m:new l(S,this),O.setContent(x)),O}});var Ls=vr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,vr.prototype.openOn.call(this,l)},onAdd:function(l){vr.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof li||this._source.on("preclick",mr))},onRemove:function(l){vr.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof li||this._source.off("preclick",mr))},getEvents:function(){var l=vr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",m=this._container=ot("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=ot("div",l+"-content-wrapper",m);if(this._contentNode=ot("div",l+"-content",x),_a(m),bs(this._contentNode),et(m,"contextmenu",mr),this._tipContainer=ot("div",l+"-tip-container",m),this._tip=ot("div",l+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=ot("a",l+"-close-button",m);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',et(S,"click",function(O){zt(O),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,m=l.style;m.width="",m.whiteSpace="nowrap";var x=l.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),m.width=x+1+"px",m.whiteSpace="",m.height="";var S=l.offsetHeight,O=this.options.maxHeight,q="leaflet-popup-scrolled";O&&S>O?(m.height=O+"px",nt(l,q)):It(l,q),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),x=this._getAnchor();Wt(this._container,m.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,m=parseInt(ma(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+m,S=this._containerWidth,O=new J(this._containerLeft,-x-this._containerBottom);O._add(Fr(this._container));var q=l.layerPointToContainerPoint(O),Z=ne(this.options.autoPanPadding),oe=ne(this.options.autoPanPaddingTopLeft||Z),fe=ne(this.options.autoPanPaddingBottomRight||Z),ye=l.getSize(),Me=0,Ge=0;q.x+S+fe.x>ye.x&&(Me=q.x+S-ye.x+fe.x),q.x-Me-oe.x<0&&(Me=q.x-oe.x),q.y+x+fe.y>ye.y&&(Ge=q.y+x-ye.y+fe.y),q.y-Ge-oe.y<0&&(Ge=q.y-oe.y),(Me||Ge)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Me,Ge]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Po=function(l,m){return new Ls(l,m)};dt.mergeOptions({closePopupOnClick:!0}),dt.include({openPopup:function(l,m,x){return this._initOverlay(Ls,l,m,x).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),rr.include({bindPopup:function(l,m){return this._popup=this._initOverlay(Ls,this._popup,l,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof qr||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){tr(l);var m=l.layer||l.target;if(this._popup._source===m&&!(m instanceof li)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=m,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Eo=vr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){vr.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){vr.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=vr.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",m=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var m,x,S=this._map,O=this._container,q=S.latLngToContainerPoint(S.getCenter()),Z=S.layerPointToContainerPoint(l),oe=this.options.direction,fe=O.offsetWidth,ye=O.offsetHeight,Me=ne(this.options.offset),Ge=this._getAnchor();oe==="top"?(m=fe/2,x=ye):oe==="bottom"?(m=fe/2,x=0):oe==="center"?(m=fe/2,x=ye/2):oe==="right"?(m=0,x=ye/2):oe==="left"?(m=fe,x=ye/2):Z.x<q.x?(oe="right",m=0,x=ye/2):(oe="left",m=fe+(Me.x+Ge.x)*2,x=ye/2),l=l.subtract(ne(m,x,!0)).add(Me).add(Ge),It(O,"leaflet-tooltip-right"),It(O,"leaflet-tooltip-left"),It(O,"leaflet-tooltip-top"),It(O,"leaflet-tooltip-bottom"),nt(O,"leaflet-tooltip-"+oe),Wt(O,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&wn(this._container,l)},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(m)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ca=function(l,m){return new Eo(l,m)};dt.include({openTooltip:function(l,m,x){return this._initOverlay(Eo,l,m,x).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),rr.include({bindTooltip:function(l,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Eo,this._tooltip,l,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var m=l?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[m](x),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof qr||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var m=typeof l.getElement=="function"&&l.getElement();m&&(et(m,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),et(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var m=typeof l.getElement=="function"&&l.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var m=l.latlng,x,S;this._tooltip.options.sticky&&l.originalEvent&&(x=this._map.mouseEventToContainerPoint(l.originalEvent),S=this._map.containerPointToLayerPoint(x),m=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(m)}});var Ds=Di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var m=l&&l.tagName==="DIV"?l:document.createElement("div"),x=this.options;if(x.html instanceof Element?(gs(m),m.appendChild(x.html)):m.innerHTML=x.html!==!1?x.html:"",x.bgPos){var S=ne(x.bgPos);m.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Kf(l){return new Ds(l)}Di.Default=To;var ci=rr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){C(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),Lt(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(go(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($r(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof J?l:new J(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var m=this.getPane().children,x=-l(-1/0,1/0),S=0,O=m.length,q;S<O;S++)q=m[S].style.zIndex,m[S]!==this._container&&q&&(x=l(x,+q));isFinite(x)&&(this.options.zIndex=x+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Be.ielt9){wn(this._container,this.options.opacity);var l=+new Date,m=!1,x=!1;for(var S in this._tiles){var O=this._tiles[S];if(!(!O.current||!O.loaded)){var q=Math.min(1,(l-O.loaded)/200);wn(O.el,q),q<1?m=!0:(O.active?x=!0:this._onOpaqueTile(O),O.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),m&&(K(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,m=this.options.maxZoom;if(l!==void 0){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===l?(this._levels[x].el.style.zIndex=m-Math.abs(l-x),this._onUpdateLevel(x)):(Lt(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var S=this._levels[l],O=this._map;return S||(S=this._levels[l]={},S.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=m,S.origin=O.project(O.unproject(O.getPixelOrigin()),l).round(),S.zoom=l,this._setZoomTransform(S,O.getCenter(),O.getZoom()),y(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var l,m,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)m=this._tiles[l],m.retain=m.current;for(l in this._tiles)if(m=this._tiles[l],m.current&&!m.active){var S=m.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var m in this._tiles)this._tiles[m].coords.z===l&&this._removeTile(m)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)Lt(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,m,x,S){var O=Math.floor(l/2),q=Math.floor(m/2),Z=x-1,oe=new J(+O,+q);oe.z=+Z;var fe=this._tileCoordsToKey(oe),ye=this._tiles[fe];return ye&&ye.active?(ye.retain=!0,!0):(ye&&ye.loaded&&(ye.retain=!0),Z>S?this._retainParent(O,q,Z,S):!1)},_retainChildren:function(l,m,x,S){for(var O=2*l;O<2*l+2;O++)for(var q=2*m;q<2*m+2;q++){var Z=new J(O,q);Z.z=x+1;var oe=this._tileCoordsToKey(Z),fe=this._tiles[oe];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);x+1<S&&this._retainChildren(O,q,x+1,S)}},_resetView:function(l){var m=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var m=this.options;return m.minNativeZoom!==void 0&&l<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<l?m.maxNativeZoom:l},_setView:function(l,m,x,S){var O=Math.round(m);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var q=this.options.updateWhenZooming&&O!==this._tileZoom;(!S||q)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(l),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(l,m)},_setZoomTransforms:function(l,m){for(var x in this._levels)this._setZoomTransform(this._levels[x],l,m)},_setZoomTransform:function(l,m,x){var S=this._map.getZoomScale(x,l.zoom),O=l.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(m,x)).round();Be.any3d?Qn(l.el,O,S):Wt(l.el,O)},_resetGrid:function(){var l=this._map,m=l.options.crs,x=this._tileSize=this.getTileSize(),S=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,m.wrapLng[0]],S).x/x.x),Math.ceil(l.project([0,m.wrapLng[1]],S).x/x.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([m.wrapLat[0],0],S).y/x.x),Math.ceil(l.project([m.wrapLat[1],0],S).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var m=this._map,x=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),S=m.getZoomScale(x,this._tileZoom),O=m.project(l,this._tileZoom).floor(),q=m.getSize().divideBy(S*2);return new V(O.subtract(q),O.add(q))},_update:function(l){var m=this._map;if(m){var x=this._clampZoom(m.getZoom());if(l===void 0&&(l=m.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(l),O=this._pxBoundsToTileRange(S),q=O.getCenter(),Z=[],oe=this.options.keepBuffer,fe=new V(O.getBottomLeft().subtract([oe,-oe]),O.getTopRight().add([oe,-oe]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ye in this._tiles){var Me=this._tiles[ye].coords;(Me.z!==this._tileZoom||!fe.contains(new J(Me.x,Me.y)))&&(this._tiles[ye].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(l,x);return}for(var Ge=O.min.y;Ge<=O.max.y;Ge++)for(var lt=O.min.x;lt<=O.max.x;lt++){var rn=new J(lt,Ge);if(rn.z=this._tileZoom,!!this._isValidTile(rn)){var Xt=this._tiles[this._tileCoordsToKey(rn)];Xt?Xt.current=!0:Z.push(rn)}}if(Z.sort(function(Sn,No){return Sn.distanceTo(q)-No.distanceTo(q)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nn=document.createDocumentFragment();for(lt=0;lt<Z.length;lt++)this._addTile(Z[lt],Nn);this._level.el.appendChild(Nn)}}}},_isValidTile:function(l){var m=this._map.options.crs;if(!m.infinite){var x=this._globalTileRange;if(!m.wrapLng&&(l.x<x.min.x||l.x>x.max.x)||!m.wrapLat&&(l.y<x.min.y||l.y>x.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(l);return Ce(this.options.bounds).overlaps(S)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var m=this._map,x=this.getTileSize(),S=l.scaleBy(x),O=S.add(x),q=m.unproject(S,l.z),Z=m.unproject(O,l.z);return[q,Z]},_tileCoordsToBounds:function(l){var m=this._tileCoordsToNwSe(l),x=new ve(m[0],m[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var m=l.split(":"),x=new J(+m[0],+m[1]);return x.z=+m[2],x},_removeTile:function(l){var m=this._tiles[l];m&&(Lt(m.el),delete this._tiles[l],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){nt(l,"leaflet-tile");var m=this.getTileSize();l.style.width=m.x+"px",l.style.height=m.y+"px",l.onselectstart=y,l.onmousemove=y,Be.ielt9&&this.options.opacity<1&&wn(l,this.options.opacity)},_addTile:function(l,m){var x=this._getTilePos(l),S=this._tileCoordsToKey(l),O=this.createTile(this._wrapCoords(l),s(this._tileReady,this,l));this._initTile(O),this.createTile.length<2&&j(s(this._tileReady,this,l,null,O)),Wt(O,x),this._tiles[S]={el:O,coords:l,current:!0},m.appendChild(O),this.fire("tileloadstart",{tile:O,coords:l})},_tileReady:function(l,m,x){m&&this.fire("tileerror",{error:m,tile:x,coords:l});var S=this._tileCoordsToKey(l);x=this._tiles[S],x&&(x.loaded=+new Date,this._map._fadeAnimated?(wn(x.el,0),K(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),m||(nt(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Be.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var m=new J(this._wrapX?g(l.x,this._wrapX):l.x,this._wrapY?g(l.y,this._wrapY):l.y);return m.z=l.z,m},_pxBoundsToTileRange:function(l){var m=this.getTileSize();return new V(l.min.unscaleBy(m).floor(),l.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Mo(l){return new ci(l)}var fi=ci.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,m){this._url=l,m=C(this,m),m.detectRetina&&Be.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,m){return this._url===l&&m===void 0&&(m=!0),this._url=l,m||this.redraw(),this},createTile:function(l,m){var x=document.createElement("img");return et(x,"load",s(this._tileOnLoad,this,m,x)),et(x,"error",s(this._tileOnError,this,m,x)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(l),x},getTileUrl:function(l){var m={r:Be.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-l.y;this.options.tms&&(m.y=x),m["-y"]=x}return N(this._url,i(m,this.options))},_tileOnLoad:function(l,m){Be.ielt9?setTimeout(s(l,this,null,m),0):l(null,m)},_tileOnError:function(l,m,x){var S=this.options.errorTileUrl;S&&m.getAttribute("src")!==S&&(m.src=S),l(x,m)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,m=this.options.maxZoom,x=this.options.zoomReverse,S=this.options.zoomOffset;return x&&(l=m-l),l+S},_getSubdomain:function(l){var m=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var l,m;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(m=this._tiles[l].el,m.onload=y,m.onerror=y,!m.complete)){m.src=I;var x=this._tiles[l].coords;Lt(m),delete this._tiles[l],this.fire("tileabort",{tile:m,coords:x})}},_removeTile:function(l){var m=this._tiles[l];if(m)return m.el.setAttribute("src",I),ci.prototype._removeTile.call(this,l)},_tileReady:function(l,m,x){if(!(!this._map||x&&x.getAttribute("src")===I))return ci.prototype._tileReady.call(this,l,m,x)}});function Lu(l,m){return new fi(l,m)}var Aa=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,m){this._url=l;var x=i({},this.defaultWmsParams);for(var S in m)S in this.options||(x[S]=m[S]);m=C(this,m);var O=m.detectRetina&&Be.retina?2:1,q=this.getTileSize();x.width=q.x*O,x.height=q.y*O,this.wmsParams=x},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,fi.prototype.onAdd.call(this,l)},getTileUrl:function(l){var m=this._tileCoordsToNwSe(l),x=this._crs,S=ee(x.project(m[0]),x.project(m[1])),O=S.min,q=S.max,Z=(this._wmsVersion>=1.3&&this._crs===Uf?[O.y,O.x,q.y,q.x]:[O.x,O.y,q.x,q.y]).join(","),oe=fi.prototype.getTileUrl.call(this,l);return oe+A(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(l,m){return i(this.wmsParams,l),m||this.redraw(),this}});function Zf(l,m){return new Aa(l,m)}fi.WMS=Aa,Lu.wms=Zf;var yr=rr.extend({options:{padding:.1},initialize:function(l){C(this,l),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,m){var x=this._map.getZoomScale(m,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,m),q=S.multiplyBy(-x).add(O).subtract(this._map._getNewPixelOrigin(l,m));Be.any3d?Qn(this._container,q,x):Wt(this._container,q)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,m=this._map.getSize(),x=this._map.containerPointToLayerPoint(m.multiplyBy(-l)).round();this._bounds=new V(x,x.add(m.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Du=yr.extend({options:{tolerance:0},getEvents:function(){var l=yr.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");et(l,"mousemove",this._onMouseMove,this),et(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),et(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,Lt(this._container),Ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var m in this._layers)l=this._layers[m],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var l=this._bounds,m=this._container,x=l.getSize(),S=Be.retina?2:1;Wt(m,l.min),m.width=S*x.x,m.height=S*x.y,m.style.width=x.x+"px",m.style.height=x.y+"px",Be.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[d(l)]=l;var m=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var m=l._order,x=m.next,S=m.prev;x?x.prev=S:this._drawLast=S,S?S.next=x:this._drawFirst=x,delete l._order,delete this._layers[d(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var m=l.options.dashArray.split(/[, ]+/),x=[],S,O;for(O=0;O<m.length;O++){if(S=Number(m[O]),isNaN(S))return;x.push(S)}l.options._dashArray=x}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var m=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(l._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(l._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var m=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,m=this._redrawBounds;if(this._ctx.save(),m){var x=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)l=S.layer,(!m||l._pxBounds&&l._pxBounds.intersects(m))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,m){if(this._drawing){var x,S,O,q,Z=l._parts,oe=Z.length,fe=this._ctx;if(oe){for(fe.beginPath(),x=0;x<oe;x++){for(S=0,O=Z[x].length;S<O;S++)q=Z[x][S],fe[S?"lineTo":"moveTo"](q.x,q.y);m&&fe.closePath()}this._fillStroke(fe,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var m=l._point,x=this._ctx,S=Math.max(Math.round(l._radius),1),O=(Math.max(Math.round(l._radiusY),1)||S)/S;O!==1&&(x.save(),x.scale(1,O)),x.beginPath(),x.arc(m.x,m.y/O,S,0,Math.PI*2,!1),O!==1&&x.restore(),this._fillStroke(x,l)}},_fillStroke:function(l,m){var x=m.options;x.fill&&(l.globalAlpha=x.fillOpacity,l.fillStyle=x.fillColor||x.color,l.fill(x.fillRule||"evenodd")),x.stroke&&x.weight!==0&&(l.setLineDash&&l.setLineDash(m.options&&m.options._dashArray||[]),l.globalAlpha=x.opacity,l.lineWidth=x.weight,l.strokeStyle=x.color,l.lineCap=x.lineCap,l.lineJoin=x.lineJoin,l.stroke())},_onClick:function(l){for(var m=this._map.mouseEventToLayerPoint(l),x,S,O=this._drawFirst;O;O=O.next)x=O.layer,x.options.interactive&&x._containsPoint(m)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(x))&&(S=x);this._fireEvent(S?[S]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,m)}},_handleMouseOut:function(l){var m=this._hoveredLayer;m&&(It(this._container,"leaflet-interactive"),this._fireEvent([m],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,m){if(!this._mouseHoverThrottled){for(var x,S,O=this._drawFirst;O;O=O.next)x=O.layer,x.options.interactive&&x._containsPoint(m)&&(S=x);S!==this._hoveredLayer&&(this._handleMouseOut(l),S&&(nt(this._container,"leaflet-interactive"),this._fireEvent([S],l,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,m,x){this._map._fireDOMEvent(m,x||m.type,l)},_bringToFront:function(l){var m=l._order;if(m){var x=m.next,S=m.prev;if(x)x.prev=S;else return;S?S.next=x:x&&(this._drawFirst=x),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(l)}},_bringToBack:function(l){var m=l._order;if(m){var x=m.next,S=m.prev;if(S)S.next=x;else return;x?x.prev=S:S&&(this._drawLast=S),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(l)}}});function $u(l){return Be.canvas?new Du(l):null}var Io=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Jf={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yr.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var m=l._container=Io("shape");nt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",l._path=Io("path"),m.appendChild(l._path),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){var m=l._container;this._container.appendChild(m),l.options.interactive&&l.addInteractiveTarget(m)},_removePath:function(l){var m=l._container;Lt(m),l.removeInteractiveTarget(m),delete this._layers[d(l)]},_updateStyle:function(l){var m=l._stroke,x=l._fill,S=l.options,O=l._container;O.stroked=!!S.stroke,O.filled=!!S.fill,S.stroke?(m||(m=l._stroke=Io("stroke")),O.appendChild(m),m.weight=S.weight+"px",m.color=S.color,m.opacity=S.opacity,S.dashArray?m.dashStyle=k(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=S.lineCap.replace("butt","flat"),m.joinstyle=S.lineJoin):m&&(O.removeChild(m),l._stroke=null),S.fill?(x||(x=l._fill=Io("fill")),O.appendChild(x),x.color=S.fillColor||S.color,x.opacity=S.fillOpacity):x&&(O.removeChild(x),l._fill=null)},_updateCircle:function(l){var m=l._point.round(),x=Math.round(l._radius),S=Math.round(l._radiusY||x);this._setPath(l,l._empty()?"M0 0":"AL "+m.x+","+m.y+" "+x+","+S+" 0,"+65535*360)},_setPath:function(l,m){l._path.v=m},_bringToFront:function(l){go(l._container)},_bringToBack:function(l){$r(l._container)}},or=Be.vml?Io:pt,$i=yr.extend({_initContainer:function(){this._container=or("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=or("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lt(this._container),Ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var l=this._bounds,m=l.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,x.setAttribute("width",m.x),x.setAttribute("height",m.y)),Wt(x,l.min),x.setAttribute("viewBox",[l.min.x,l.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(l){var m=l._path=or("path");l.options.className&&nt(m,l.options.className),l.options.interactive&&nt(m,"leaflet-interactive"),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){Lt(l._path),l.removeInteractiveTarget(l._path),delete this._layers[d(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var m=l._path,x=l.options;m&&(x.stroke?(m.setAttribute("stroke",x.color),m.setAttribute("stroke-opacity",x.opacity),m.setAttribute("stroke-width",x.weight),m.setAttribute("stroke-linecap",x.lineCap),m.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?m.setAttribute("stroke-dasharray",x.dashArray):m.removeAttribute("stroke-dasharray"),x.dashOffset?m.setAttribute("stroke-dashoffset",x.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),x.fill?(m.setAttribute("fill",x.fillColor||x.color),m.setAttribute("fill-opacity",x.fillOpacity),m.setAttribute("fill-rule",x.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(l,m){this._setPath(l,mt(l._parts,m))},_updateCircle:function(l){var m=l._point,x=Math.max(Math.round(l._radius),1),S=Math.max(Math.round(l._radiusY),1)||x,O="a"+x+","+S+" 0 1,0 ",q=l._empty()?"M0 0":"M"+(m.x-x)+","+m.y+O+x*2+",0 "+O+-x*2+",0 ";this._setPath(l,q)},_setPath:function(l,m){l._path.setAttribute("d",m)},_bringToFront:function(l){go(l._path)},_bringToBack:function(l){$r(l._path)}});Be.vml&&$i.include(Jf);function $s(l){return Be.svg||Be.vml?new $i(l):null}dt.include({getRenderer:function(l){var m=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var m=this._paneRenderers[l];return m===void 0&&(m=this._createRenderer({pane:l}),this._paneRenderers[l]=m),m},_createRenderer:function(l){return this.options.preferCanvas&&$u(l)||$s(l)}});var Yf=jr.extend({initialize:function(l,m){jr.prototype.initialize.call(this,this._boundsToLatLngs(l),m)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=Ce(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function gm(l,m){return new Yf(l,m)}$i.create=or,$i.pointsToPath=mt,gr.geometryToLayer=Co,gr.coordsToLatLng=Os,gr.coordsToLatLngs=Ta,gr.latLngToCoords=ks,gr.latLngsToCoords=Ns,gr.getFeature=Ao,gr.asFeature=Rs,dt.mergeOptions({boxZoom:!0});var Oo=Un.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ht(),_s(),this._startPoint=this._map.mouseEventToContainerPoint(l),et(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var m=new V(this._point,this._startPoint),x=m.getSize();Wt(this._box,m.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(Lt(this._box),It(this._container,"leaflet-crosshair")),_o(),xs(),Ct(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var m=new ve(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});dt.addInitHook("addHandler","boxZoom",Oo),dt.mergeOptions({doubleClickZoom:!0});var Xf=Un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var m=this._map,x=m.getZoom(),S=m.options.zoomDelta,O=l.originalEvent.shiftKey?x-S:x+S;m.options.doubleClickZoom==="center"?m.setZoom(O):m.setZoomAround(l.containerPoint,O)}});dt.addInitHook("addHandler","doubleClickZoom",Xf),dt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fu=Un.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new nr(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){It(this._map._container,"leaflet-grab"),It(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Ce(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var m=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(m),this._prunePositions(m)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,m){return l-(l-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;l.x<m.min.x&&(l.x=this._viscousLimit(l.x,m.min.x)),l.y<m.min.y&&(l.y=this._viscousLimit(l.y,m.min.y)),l.x>m.max.x&&(l.x=this._viscousLimit(l.x,m.max.x)),l.y>m.max.y&&(l.y=this._viscousLimit(l.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,m=Math.round(l/2),x=this._initialWorldOffset,S=this._draggable._newPos.x,O=(S-m+x)%l+m-x,q=(S+m+x)%l-m-x,Z=Math.abs(O+x)<Math.abs(q+x)?O:q;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(l){var m=this._map,x=m.options,S=!x.inertia||l.noInertia||this._times.length<2;if(m.fire("dragend",l),S)m.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),q=(this._lastTime-this._times[0])/1e3,Z=x.easeLinearity,oe=O.multiplyBy(Z/q),fe=oe.distanceTo([0,0]),ye=Math.min(x.inertiaMaxSpeed,fe),Me=oe.multiplyBy(ye/fe),Ge=ye/(x.inertiaDeceleration*Z),lt=Me.multiplyBy(-Ge/2).round();!lt.x&&!lt.y?m.fire("moveend"):(lt=m._limitOffset(lt,m.options.maxBounds),j(function(){m.panBy(lt,{duration:Ge,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});dt.addInitHook("addHandler","dragging",Fu),dt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bu=Un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),et(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,m=document.documentElement,x=l.scrollTop||m.scrollTop,S=l.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(S,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var m=this._panKeys={},x=this.keyCodes,S,O;for(S=0,O=x.left.length;S<O;S++)m[x.left[S]]=[-1*l,0];for(S=0,O=x.right.length;S<O;S++)m[x.right[S]]=[l,0];for(S=0,O=x.down.length;S<O;S++)m[x.down[S]]=[0,l];for(S=0,O=x.up.length;S<O;S++)m[x.up[S]]=[0,-1*l]},_setZoomDelta:function(l){var m=this._zoomKeys={},x=this.keyCodes,S,O;for(S=0,O=x.zoomIn.length;S<O;S++)m[x.zoomIn[S]]=l;for(S=0,O=x.zoomOut.length;S<O;S++)m[x.zoomOut[S]]=-l},_addHooks:function(){et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var m=l.keyCode,x=this._map,S;if(m in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(S=this._panKeys[m],l.shiftKey&&(S=ne(S).multiplyBy(3)),x.options.maxBounds&&(S=x._limitOffset(ne(S),x.options.maxBounds)),x.options.worldCopyJump){var O=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(S)));x.panTo(O)}else x.panBy(S)}else if(m in this._zoomKeys)x.setZoom(x.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&x._popup&&x._popup.options.closeOnEscapeKey)x.closePopup();else return;tr(l)}}});dt.addInitHook("addHandler","keyboard",Bu),dt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var At=Un.extend({addHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var m=Nf(l),x=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var S=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),S),tr(l)},_performZoom:function(){var l=this._map,m=l.getZoom(),x=this._map.options.zoomSnap||0;l._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,q=x?Math.ceil(O/x)*x:O,Z=l._limitZoom(m+(this._delta>0?q:-q))-m;this._delta=0,this._startTime=null,Z&&(l.options.scrollWheelZoom==="center"?l.setZoom(m+Z):l.setZoomAround(this._lastMousePos,m+Z))}});dt.addInitHook("addHandler","scrollWheelZoom",At);var qu=600;dt.mergeOptions({tapHold:Be.touchNative&&Be.safari&&Be.mobile,tapTolerance:15});var Pa=Un.extend({addHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var m=l.touches[0];this._startPos=this._newPos=new J(m.clientX,m.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(et(document,"touchend",zt),et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),qu),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Ct(document,"touchend",zt),Ct(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)},_onMove:function(l){var m=l.touches[0];this._newPos=new J(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,m){var x=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});x._simulated=!0,m.target.dispatchEvent(x)}});dt.addInitHook("addHandler","tapHold",Pa),dt.mergeOptions({touchZoom:Be.touch,bounceAtZoomLimits:!0});var ko=Un.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){It(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var m=this._map;if(!(!l.touches||l.touches.length!==2||m._animatingZoom||this._zooming)){var x=m.mouseEventToContainerPoint(l.touches[0]),S=m.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(x.add(S)._divideBy(2))),this._startDist=x.distanceTo(S),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),zt(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var m=this._map,x=m.mouseEventToContainerPoint(l.touches[0]),S=m.mouseEventToContainerPoint(l.touches[1]),O=x.distanceTo(S)/this._startDist;if(this._zoom=m.getScaleZoom(O,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&O<1||this._zoom>m.getMaxZoom()&&O>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var q=x._add(S)._divideBy(2)._subtract(this._centerPoint);if(O===1&&q.x===0&&q.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(q),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var Z=s(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(Z,this,!0),zt(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});dt.addInitHook("addHandler","touchZoom",ko),dt.BoxZoom=Oo,dt.DoubleClickZoom=Xf,dt.Drag=Fu,dt.Keyboard=Bu,dt.ScrollWheelZoom=At,dt.TapHold=Pa,dt.TouchZoom=ko,n.Bounds=V,n.Browser=Be,n.CRS=Le,n.Canvas=Du,n.Circle=Ms,n.CircleMarker=Es,n.Class=re,n.Control=On,n.DivIcon=Ds,n.DivOverlay=vr,n.DomEvent=Ss,n.DomUtil=ya,n.Draggable=nr,n.Evented=de,n.FeatureGroup=qr,n.GeoJSON=gr,n.GridLayer=ci,n.Handler=Un,n.Icon=Di,n.ImageOverlay=ui,n.LatLng=le,n.LatLngBounds=ve,n.Layer=rr,n.LayerGroup=si,n.LineUtil=qf,n.Map=dt,n.Marker=Ur,n.Mixin=Su,n.Path=li,n.Point=J,n.PolyUtil=om,n.Polygon=jr,n.Polyline=kn,n.Popup=Ls,n.PosAnimation=Ts,n.Projection=cm,n.Rectangle=Yf,n.Renderer=yr,n.SVG=$i,n.SVGOverlay=Nu,n.TileLayer=fi,n.Tooltip=Eo,n.Transformation=He,n.Util=Q,n.VideoOverlay=ku,n.bind=s,n.bounds=ee,n.canvas=$u,n.circle=Sa,n.circleMarker=Vf,n.control=ai,n.divIcon=Kf,n.extend=i,n.featureGroup=jf,n.geoJSON=Hf,n.geoJson=ir,n.gridLayer=Mo,n.icon=zf,n.imageOverlay=Gf,n.latLng=pe,n.latLngBounds=Ce,n.layerGroup=ba,n.map=oi,n.marker=hm,n.point=ne,n.polygon=mm,n.polyline=pm,n.popup=Po,n.rectangle=gm,n.setOptions=C,n.stamp=d,n.svg=$s,n.svgOverlay=Ru,n.tileLayer=Lu,n.tooltip=Ca,n.transformation=ge,n.version=r,n.videoOverlay=Wf;var Qf=window.L;n.noConflict=function(){return window.L=Qf,this},window.L=n})}(gc,gc.exports)),gc.exports}var yf=w9();function Zp(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function bb(t,e){return e==null?function(r,i){const o=X.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=X.useRef();o.current||(o.current=t(r,i));const s=X.useRef(r),{instance:c}=o.current;return X.useEffect(function(){s.current!==r&&(e(c,r,s.current),s.current=r)},[c,r,i]),o}}function T5(t,e){X.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function b9(t){return function(n){const r=xb(),i=t(Kp(n,r),r);return w5(r.map,n.attribution),wb(i.current,n.eventHandlers),T5(i.current,r),i}}function S9(t,e){const n=X.useRef();X.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function T9(t){return function(n){const r=xb(),i=t(Kp(n,r),r);return wb(i.current,n.eventHandlers),T5(i.current,r),S9(i.current,n),i}}function C5(t,e){const n=bb(t),r=_9(n,e);return v9(r)}function C9(t,e){const n=bb(t,e),r=T9(n);return g9(r)}function A9(t,e){const n=bb(t,e),r=b9(n);return y9(r)}function P9(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}const E9=C9(function({center:e,children:n,...r},i){const o=new yf.CircleMarker(e,r);return Zp(o,m9(i,{overlayContainer:o}))},d9);function nw(){return nw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function M9({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:s,style:c,whenReady:d,zoom:f,...g},y){const[_]=X.useState({className:i,id:o,style:c}),[b,P]=X.useState(null);X.useImperativeHandle(y,()=>(b==null?void 0:b.map)??null,[b]);const C=X.useCallback(R=>{if(R!==null&&b===null){const N=new yf.Map(R,g);n!=null&&f!=null?N.setView(n,f):t!=null&&N.fitBounds(t,e),d!=null&&N.whenReady(d),P(p9(N))}},[]);X.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const A=b?H.createElement(S5,{value:b},r):s??null;return H.createElement("div",nw({},_,{ref:C}),A)}const I9=X.forwardRef(M9),O9=C5(function(e,n){const r=new yf.Popup(e,n.overlayContainer);return Zp(r,n)},function(e,n,{position:r},i){X.useEffect(function(){const{instance:s}=e;function c(f){f.popup===s&&(s.update(),i(!0))}function d(f){f.popup===s&&i(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){var g;n.map.off({popupopen:c,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(s)}},[e,n,i,r])}),k9=A9(function({url:e,...n},r){const i=new yf.TileLayer(e,Kp(n,r));return Zp(i,r)},function(e,n,r){P9(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),N9=C5(function(e,n){const r=new yf.Tooltip(e,n.overlayContainer);return Zp(r,n)},function(e,n,{position:r},i){X.useEffect(function(){const s=n.overlayContainer;if(s==null)return;const{instance:c}=e,d=g=>{g.tooltip===c&&(r!=null&&c.setLatLng(r),c.update(),i(!0))},f=g=>{g.tooltip===c&&i(!1)};return s.on({tooltipopen:d,tooltipclose:f}),s.bindTooltip(c),function(){s.off({tooltipopen:d,tooltipclose:f}),s._map!=null&&s.unbindTooltip()}},[e,n,i,r])}),yI={ocean_breeze:["#3B82F6","#10B981","#0EA5E9","#6366F1","#8B5CF6","#A78BFA","#06B6D4","#2DD4BF"],executive_dark:["#60A5FA","#818CF8","#A78BFA","#F472B6","#FBBF24","#34D399","#93C5FD","#FBCFE8"],autumn_analytics:["#F59E0B","#F97316","#D97706","#EF4444","#DC2626","#B91C1C","#EAB308","#CA8A04"],vibrant_growth:["#10B981","#84CC16","#22C55E","#F59E0B","#EC4899","#3B82F6","#D946EF","#0EA5E9"],monochrome_professional:["#BFDBFE","#93C5FD","#60A5FA","#3B82F6","#2563EB","#1D4ED8","#1E40AF","#1E3A8A"],sunset_glow:["#F97316","#EF4444","#EC4899","#D946EF","#F59E0B","#FACC15","#EAB308","#F87171"],forest_depth:["#34D399","#6EE7B7","#A7F3D0","#10B981","#059669","#047857","#065F46","#064E3B"],tech_circuitry:["#0EA5E9","#06B6D4","#2DD4BF","#3B82F6","#60A5FA","#1E40AF","#4F46E5","#6D28D9"],futuristic_dark:["#3BFEFF","#FF00E5","#00FF97","#FFD700","#FF4E00","#ADFF2F","#007FFF","#BA55D3"],default:["#0ea5e9","#10b981","#f59e0b","#ec4899","#8b5cf6","#ef4444","#6366f1","#84cc16"]},A5=({processedData:t,themeSuggestion:e,onChartElementClick:n,forecastData:r})=>{if(!t||!t.data)return M.jsx("p",{className:"text-slate-400 p-4 text-center",children:"No data available to display for this chart."});const{data:i,dimensionKey:o,metricKeys:s,chartType:c}=t,f=yI[e==="executive_dark"||e==="monochrome_professional"||e==="futuristic_dark"?e:e||"default"]||yI.default,g=X.useMemo(()=>{if(!r||r.length===0||!o)return i;const F=i.map(G=>{const j={[o]:G[o]};return s.forEach(K=>{j[K]=G[K],j[`${K}_forecast`]=null}),j}),U=r.map(G=>{const j={[o]:G[o]};return s.forEach(K=>{j[K]=null,j[`${K}_forecast`]=G[K]}),j}),z=F[F.length-1];return z&&U.length>0&&s.forEach(G=>{U[0][G]=z[G]}),[...F,...U]},[i,r,o,s]);if(g.length===0)return M.jsx("p",{className:"text-slate-400 p-4 text-center",children:"No data available to display for this chart."});const y=F=>{if(n&&o&&F&&F.activePayload&&F.activePayload.length>0){const U=F.activePayload[0].payload;if(U&&U.hasOwnProperty(o)){const z=U[o];n(o,z)}else console.warn("Bar click: dimensionKey not found in payload or payload missing.",{dimensionKey:o,payload:U})}},_=(F,U)=>{n&&o&&F&&F.name!==void 0?n(o,F.name):console.warn("Pie click: onChartElementClick, dimensionKey, or pieData.name is missing.",{dimensionKey:o,pieData:F})},b=({active:F,payload:U,label:z})=>F&&U&&U.length?M.jsxs("div",{className:"bg-slate-800/80 backdrop-blur-md p-3 border border-slate-600 rounded-lg shadow-xl text-sm",children:[z&&M.jsx("p",{className:"label font-bold text-slate-100 mb-1.5",children:`${o||"Category"}: ${z}`}),U.map((G,j)=>{var Q,re;if(c==="ScatterPlot"&&G.payload){const ie=s[0],ae=s[1],de=o;return M.jsxs("div",{className:"my-1",children:[de&&G.payload[de]!==void 0&&M.jsx("p",{className:"font-semibold text-slate-200",style:{color:G.color||G.fill},children:`${de}: ${G.payload[de]}`}),M.jsx("p",{style:{color:G.color||G.fill},className:"text-slate-300",children:`${ie}: ${(Q=G.payload[ie])==null?void 0:Q.toLocaleString(void 0,{maximumFractionDigits:2})}`}),M.jsx("p",{style:{color:G.color||G.fill},className:"text-slate-300",children:`${ae}: ${(re=G.payload[ae])==null?void 0:re.toLocaleString(void 0,{maximumFractionDigits:2})}`})]},`item-${j}`)}let K=G.name||G.dataKey;return c==="PieChart"&&G.name&&(K=G.name),K.endsWith("_forecast")&&(K=`${K.replace("_forecast","")} (Forecast)`),M.jsx("p",{style:{color:G.color||G.fill},className:"my-0.5 text-slate-300",children:`${K} : ${typeof G.value=="number"?G.value.toLocaleString(void 0,{maximumFractionDigits:2}):G.value}`},`item-${j}`)})]}):null,P=F=>typeof F=="number"?Math.abs(F)>=1e9?`${(F/1e9).toFixed(1)}B`:Math.abs(F)>=1e6?`${(F/1e6).toFixed(1)}M`:Math.abs(F)>=1e3?`${(F/1e3).toFixed(1)}K`:F.toLocaleString(void 0,{maximumFractionDigits:0}):F,C=F=>typeof F=="string"&&F.length>15?`${F.substring(0,12)}...`:typeof F=="number"?P(F):F,A={fontSize:"0.75rem",fill:"#94a3b8"},R={fontSize:"0.75rem",paddingTop:"10px",color:"#cbd5e1"},N={top:10,right:25,left:15,bottom:g.length>8&&c!=="PieChart"?45:25},k={dataKey:o,tick:A,angle:g.length>8&&c!=="ScatterPlot"&&c!=="Table"&&c!=="Histogram"?-35:0,textAnchor:g.length>8&&c!=="ScatterPlot"&&c!=="Table"&&c!=="Histogram"?"end":"middle",interval:0,height:g.length>8&&c!=="ScatterPlot"&&c!=="Table"&&c!=="Histogram"?55:35,tickFormatter:C,stroke:"#475569"},$={tickFormatter:P,tick:A,width:70,stroke:"#475569"},I={dataKey:o,height:25,stroke:f[0],fill:`${f[0]}55`},D=n?"cursor-pointer":"";switch(c){case"BarChart":return M.jsx(Qs,{width:"100%",height:350,children:M.jsxs(gI,{data:g,margin:N,barGap:4,barCategoryGap:"20%",onClick:n?y:void 0,className:D,children:[M.jsx(il,{strokeDasharray:"3 3",stroke:"#334155"})," ",M.jsx(Xr,{...k}),M.jsx(Qr,{...$}),M.jsx(Dn,{content:M.jsx(b,{}),cursor:{fill:"rgba(100, 116, 139, 0.2)"}})," ",M.jsx(Ir,{wrapperStyle:R}),s.map((le,pe)=>M.jsx(oa,{dataKey:le,fill:f[pe%f.length],radius:[5,5,0,0]},le)),g.length>10&&M.jsx(no,{...I})]})});case"Histogram":const F=s[0]||"count";return M.jsx(Qs,{width:"100%",height:350,children:M.jsxs(gI,{data:g,margin:N,barCategoryGap:"10%",children:[M.jsx(il,{strokeDasharray:"3 3",stroke:"#334155"})," ",M.jsx(Xr,{dataKey:o,tick:A,angle:-30,textAnchor:"end",interval:0,height:50,tickFormatter:C,stroke:"#475569"}),M.jsx(Qr,{...$,allowDecimals:!1,label:{value:"Frequency",angle:-90,position:"insideLeft",offset:-5,style:A}}),M.jsx(Dn,{content:M.jsx(b,{}),cursor:{fill:"rgba(100, 116, 139, 0.2)"}}),M.jsx(Ir,{wrapperStyle:R}),M.jsx(oa,{dataKey:F,fill:f[0],radius:[5,5,0,0],name:t.metricKeys[0]||"Count"})]})});case"LineChart":return M.jsx(Qs,{width:"100%",height:350,children:M.jsxs(l9,{data:g,margin:N,children:[M.jsx(il,{strokeDasharray:"3 3",stroke:"#334155"})," ",M.jsx(Xr,{...k}),M.jsx(Qr,{...$}),M.jsx(Dn,{content:M.jsx(b,{}),cursor:{stroke:"rgba(100, 116, 139, 0.3)",strokeWidth:1}}),M.jsx(Ir,{wrapperStyle:R}),s.map((le,pe)=>M.jsx(Bl,{type:"monotone",dataKey:le,stroke:f[pe%f.length],strokeWidth:2.5,activeDot:{r:7,strokeWidth:2,stroke:"#1e293b"},dot:{r:4,strokeWidth:1,stroke:f[pe%f.length],fill:"#1e293b"}},le)),r&&s.map((le,pe)=>M.jsx(Bl,{name:`${le} (Forecast)`,type:"monotone",dataKey:`${le}_forecast`,stroke:f[pe%f.length],strokeWidth:2.5,strokeDasharray:"5 5",activeDot:{r:7,strokeWidth:2,stroke:"#1e293b"},dot:{r:4,strokeWidth:1,stroke:f[pe%f.length],fill:"#1e293b"},connectNulls:!0},`${le}_forecast`)),g.length>10&&M.jsx(no,{...I})]})});case"AreaChart":return M.jsx(Qs,{width:"100%",height:350,children:M.jsxs(f9,{data:g,margin:N,children:[M.jsxs("defs",{children:[s.map((le,pe)=>M.jsxs("linearGradient",{id:`colorArea${le.replace(/\s+/g,"")}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[M.jsx("stop",{offset:"5%",stopColor:f[pe%f.length],stopOpacity:.7}),M.jsx("stop",{offset:"95%",stopColor:f[pe%f.length],stopOpacity:.1})]},`gradient-${le}`)),r&&s.map((le,pe)=>M.jsxs("linearGradient",{id:`colorAreaForecast${le.replace(/\s+/g,"")}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[M.jsx("stop",{offset:"5%",stopColor:f[pe%f.length],stopOpacity:.4}),M.jsx("stop",{offset:"95%",stopColor:f[pe%f.length],stopOpacity:.05})]},`gradient-forecast-${le}`))]}),M.jsx(il,{strokeDasharray:"3 3",stroke:"#334155"})," ",M.jsx(Xr,{...k}),M.jsx(Qr,{...$}),M.jsx(Dn,{content:M.jsx(b,{}),cursor:{stroke:"rgba(100, 116, 139, 0.3)",strokeWidth:1}}),M.jsx(Ir,{wrapperStyle:R}),s.map((le,pe)=>M.jsx(ao,{type:"monotone",dataKey:le,stroke:f[pe%f.length],fill:`url(#colorArea${le.replace(/\s+/g,"")})`,strokeWidth:2.5,activeDot:{r:7,strokeWidth:2,stroke:"#1e293b"},dot:{r:4,strokeWidth:1,stroke:f[pe%f.length],fill:"#1e293b"},stackId:s.length>1?"stack1":void 0},le)),r&&s.map((le,pe)=>M.jsx(ao,{name:`${le} (Forecast)`,type:"monotone",dataKey:`${le}_forecast`,stroke:f[pe%f.length],fill:`url(#colorAreaForecast${le.replace(/\s+/g,"")})`,strokeWidth:2.5,strokeDasharray:"5 5",activeDot:{r:7,strokeWidth:2,stroke:"#1e293b"},dot:{r:4,strokeWidth:1,stroke:f[pe%f.length],fill:"#1e293b"},stackId:s.length>1?"stack1":void 0,connectNulls:!0},`${le}_forecast`)),g.length>10&&M.jsx(no,{...I})]})});case"PieChart":const U=o||"name",z=s[0]||"value",G=({cx:le,cy:pe,midAngle:Le,innerRadius:Oe,outerRadius:_e,percent:ke,name:He,fill:ge})=>{const rt=Math.PI/180,Qe=Oe+(_e-Oe)*.55,pt=le+Qe*Math.cos(-Le*rt),mt=pe+Qe*Math.sin(-Le*rt);if(ke*100<4)return null;const Pe=ge.replace("#",""),ze=parseInt(Pe.substring(0,2),16),Ve=parseInt(Pe.substring(2,4),16),it=parseInt(Pe.substring(4,6),16),Yt=(ze*299+Ve*587+it*114)/1e3>125?"#1f293b":"#f8fafc";return M.jsx("text",{x:pt,y:mt,fill:Yt,textAnchor:"middle",dominantBaseline:"central",fontSize:"0.7rem",fontWeight:"medium",children:`${(ke*100).toFixed(0)}%`})};return M.jsx(Qs,{width:"100%",height:350,children:M.jsxs(u9,{children:[M.jsx(fo,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:G,outerRadius:"80%",innerRadius:"40%",fill:"#8884d8",dataKey:z,nameKey:U,paddingAngle:1,onClick:n?_:void 0,className:D,children:g.map((le,pe)=>M.jsx(ff,{fill:f[pe%f.length],stroke:"#1e293b",strokeWidth:2},`cell-${pe}`))}),M.jsx(Dn,{content:M.jsx(b,{})}),M.jsx(Ir,{layout:"horizontal",verticalAlign:"bottom",align:"center",wrapperStyle:R,iconSize:10})]})});case"ScatterPlot":const j=s[0],K=s[1],Q=o;let re;if(Q&&g.some(le=>le[Q]!==void 0)){const le=g.reduce((pe,Le)=>{const Oe=Le[Q],_e=String(Oe??"Other");return pe[_e]||(pe[_e]=[]),pe[_e].push(Le),pe},{});re=Object.entries(le).map(([pe,Le],Oe)=>M.jsx(zl,{name:pe||`Series ${Oe+1}`,data:Le,fill:f[Oe%f.length],shape:"circle"},pe||`scatter-${Oe}`))}else re=M.jsx(zl,{name:s.slice(0,2).join(" vs "),data:g,fill:f[0],shape:"circle"});return M.jsx(Qs,{width:"100%",height:350,children:M.jsxs(c9,{margin:{...N,left:25},children:[M.jsx(il,{strokeDasharray:"3 3",stroke:"#334155"})," ",M.jsx(Xr,{type:"number",dataKey:j,name:j,tick:A,angle:0,textAnchor:"middle",interval:"preserveStartEnd",height:35,tickFormatter:C,domain:["auto","auto"],stroke:"#475569"}),M.jsx(Qr,{type:"number",dataKey:K,name:K,...$,domain:["auto","auto"]}),M.jsx(Dn,{content:M.jsx(b,{}),cursor:{strokeDasharray:"3 3",stroke:"rgba(100, 116, 139, 0.5)"}}),M.jsx(Ir,{wrapperStyle:R}),re]})});case"MapChart":if(s.length<3)return M.jsx("p",{className:"text-slate-400 p-4 text-center",children:"Map chart requires at least 3 metrics (latitude, longitude, value)."});const ie=s[0],ae=s[1],de=s[2],J=o,ce=g.map(le=>({lat:parseFloat(le[ie]),lon:parseFloat(le[ae]),value:parseFloat(le[de]),label:J?le[J]:`${de}: ${le[de]?le[de].toLocaleString():"N/A"}`})).filter(le=>!isNaN(le.lat)&&!isNaN(le.lon)&&!isNaN(le.value));if(ce.length===0)return M.jsx("p",{className:"text-slate-400 p-4 text-center",children:"No valid geographic data points found."});const ne=ce.length>0?[[Math.min(...ce.map(le=>le.lat)),Math.min(...ce.map(le=>le.lon))],[Math.max(...ce.map(le=>le.lat)),Math.max(...ce.map(le=>le.lon))]]:[[51.505,-.09],[51.51,-.1]],V=ce.map(le=>le.value),ee=Math.min(...V),ve=Math.max(...V),Ce=le=>ve===ee?10:5+(le-ee)/(ve-ee)*20;return M.jsxs(I9,{bounds:ne,style:{height:"100%",width:"100%"},zoom:10,children:[M.jsx(k9,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.carto.com/dark_all/{z}/{x}/{y}{r}.png"}),ce.map((le,pe)=>M.jsxs(E9,{center:[le.lat,le.lon],radius:Ce(le.value),pathOptions:{color:f[2%f.length],fillColor:f[0%f.length],fillOpacity:.6,weight:1},children:[M.jsxs(O9,{children:[M.jsx("b",{children:le.label}),M.jsx("br",{}),de,": ",le.value.toLocaleString()]}),M.jsxs(N9,{children:[M.jsx("b",{children:le.label}),M.jsx("br",{}),de,": ",le.value.toLocaleString()]})]},pe))]});case"Table":return M.jsx("div",{className:"overflow-x-auto max-h-[22rem] rounded-lg border border-slate-600 shadow-lg bg-slate-700/50 backdrop-blur-sm",children:M.jsxs("table",{className:"min-w-full divide-y divide-slate-600 text-xs sm:text-sm",children:[M.jsx("thead",{className:"bg-slate-800/70 sticky top-0 z-10",children:M.jsx("tr",{children:s.map(le=>M.jsx("th",{scope:"col",className:"px-4 py-3 text-left font-semibold text-slate-300 uppercase tracking-wider",children:le},le))})}),M.jsx("tbody",{className:"bg-transparent divide-y divide-slate-600",children:g.map((le,pe)=>M.jsx("tr",{className:"hover:bg-slate-600/50 transition-colors duration-100",children:s.map(Le=>M.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-slate-300",children:typeof le[Le]=="number"?le[Le].toLocaleString(void 0,{maximumFractionDigits:2}):String(le[Le]??"N/A")},`${pe}-${Le}`))},pe))})]})});default:return M.jsxs("p",{className:"text-slate-400",children:["Unsupported chart type: ",c]})}},rw=({title:t="An Error Occurred",message:e})=>M.jsxs("div",{className:"bg-red-700/30 backdrop-blur-sm border border-red-500/50 text-red-300 px-4 py-3 rounded-lg relative shadow-md",role:"alert",children:[M.jsx("strong",{className:"font-bold block mb-1",children:t}),M.jsx("span",{className:"block sm:inline",children:e})]}),R9=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1.5",children:[M.jsx("path",{fillRule:"evenodd",d:"M10 2a.75.75 0 0 1 .75.75v1.256a.75.75 0 0 1-.504.706C9.177 5.111 8.5 6.16 8.5 7.25V9.5a.75.75 0 0 0 1.5 0V8a1 1 0 0 1 1-1h.25a.75.75 0 0 0 .75-.75V2.75A.75.75 0 0 1 10 2ZM10 6a2.5 2.5 0 0 0-2.5 2.5V9.5a2.25 2.25 0 0 0 2.25 2.25h.5a2.25 2.25 0 0 0 2.25-2.25V8.5A2.5 2.5 0 0 0 10 6Z",clipRule:"evenodd"}),M.jsx("path",{d:"M4.75 9.5A5.25 5.25 0 0 0 10 14.75a5.25 5.25 0 0 0 5.25-5.25V8.5A5.25 5.25 0 0 0 10 3.25a5.25 5.25 0 0 0-5.25 5.25V9.5ZM10 18a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-1.5 0v1.5A.75.75 0 0 0 10 18ZM10 5a.75.75 0 0 0 .75-.75V2.75a.75.75 0 0 0-1.5 0V4.25A.75.75 0 0 0 10 5Z"}),M.jsx("path",{d:"m6.095 6.095-.01-.01a.75.75 0 0 0-1.061 1.061l.01.01a.75.75 0 0 0 1.06-1.06l.001-.001ZM14.966 13.9l-.01.01a.75.75 0 1 0 1.06 1.06l.01-.01a.75.75 0 0 0-1.06-1.06v0Z"}),M.jsx("path",{d:"M13.905 6.095a.75.75 0 0 0-1.06-1.06l-.01.01a.75.75 0 0 0 1.06 1.06l.01-.01ZM6.034 13.9l.01.01a.75.75 0 0 0 1.06 1.06l-.01-.01a.75.75 0 1 0-1.06-1.06Z"})]}),L9=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1.5",children:[M.jsx("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),M.jsx("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"})]}),D9=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1.5",children:M.jsx("path",{d:"M3 3.75A.75.75 0 0 1 3.75 3h4.5a.75.75 0 0 1 0 1.5h-2.54l2.295 2.295a.75.75 0 0 1-1.06 1.06L5.25 5.61V8.25a.75.75 0 0 1-1.5 0v-4.5ZM12.75 3a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0V5.61l-2.295 2.295a.75.75 0 1 1-1.06-1.06L11.74 3.75h-2.54a.75.75 0 0 1 0-1.5h4.5ZM3.75 12.75a.75.75 0 0 1 0-1.5h2.54l-2.295-2.295a.75.75 0 1 1 1.06-1.06L8.25 10.64V8.25a.75.75 0 0 1 1.5 0v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75Zm12.5 0a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h2.54l-2.295-2.295a.75.75 0 0 1 1.06-1.06L14.75 10.64V8.25a.75.75 0 0 1 1.5 0v4.5Z"})}),$9=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1.5",children:M.jsx("path",{fillRule:"evenodd",d:"M4.25 2A2.25 2.25 0 0 0 2 4.25v11.5A2.25 2.25 0 0 0 4.25 18h11.5A2.25 2.25 0 0 0 18 15.75V4.25A2.25 2.25 0 0 0 15.75 2H4.25ZM8.5 6a.75.75 0 0 1 .75.75v.518l1.47-1.47a.75.75 0 0 1 1.06 1.06l-1.47 1.47h.518a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 .75-.75Zm-2.25 6A.75.75 0 0 1 7 11.25v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 6.25 12Zm3.75 3a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 1.5 0v2.5a.75.75 0 0 1-.75-.75Zm3.75-2.25a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0v-2.5Z",clipRule:"evenodd"})}),F9=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1.5",children:[M.jsx("path",{d:"M15.5 2.047a.75.75 0 0 0-1.06-1.06L12.5 2.939l-2.05-2.05a.75.75 0 0 0-1.061 0l-2.05 2.05L5.39 1.037a.75.75 0 0 0-1.06 1.06l1.95 1.95-2.05 2.05a.75.75 0 0 0 0 1.06l2.05 2.05-1.95 1.95a.75.75 0 1 0 1.06 1.06l1.95-1.95 2.05 2.05a.75.75 0 0 0 1.06 0l2.05-2.05 1.95 1.95a.75.75 0 0 0 1.06-1.06L15.061 10.5l1.95-1.95a.75.75 0 0 0 0-1.06l-1.95-1.95 1.95-1.95Z"}),M.jsx("path",{d:"M2.5 14.5a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5ZM5.5 16a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5A.75.75 0 0 1 5.5 16ZM2.5 11.5a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5ZM8.5 16a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 8.5 16Z"})]}),_I=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 shrink-0 text-sky-400",children:[M.jsx("path",{d:"M3.5 3.75a.75.75 0 0 0-1.5 0v1.5h-1.5a.75.75 0 0 0 0 1.5h1.5v1.5a.75.75 0 0 0 1.5 0v-1.5h1.5a.75.75 0 0 0 0-1.5h-1.5v-1.5Zm8.54 4.04a.75.75 0 0 0-1.08-1.04l-2.05 1.79-1.3-1.3a.75.75 0 0 0-1.06 1.06l1.82 1.82a.75.75 0 0 0 1.06 0l2.5-2.18Z"}),M.jsx("path",{d:"M15.5 2.5a.75.75 0 0 0-1.5 0v6.63l-2.73-2.39a.75.75 0 0 0-1.04 1.08l3.25 2.84a.75.75 0 0 0 1.04 0l3.25-2.84a.75.75 0 0 0-1.04-1.08L15.5 9.13V2.5Z"}),M.jsx("path",{d:"M4.5 12.5a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 5.75 18h8.5A2.75 2.75 0 0 0 17 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25h-8.5c-.69 0-1.25-.56-1.25-1.25v-2.5Z"})]}),B9=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1.5",children:M.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.707-11.707a1 1 0 0 0-1.414-1.414L10 8.586 7.707 6.293a1 1 0 0 0-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 1 0 1.414 1.414L10 11.414l2.293 2.293a1 1 0 0 0 1.414-1.414L11.414 10l2.293-2.293Z",clipRule:"evenodd"})}),xI=({elementSpec:t,processedData:e,themeSuggestion:n,onAnalyzeAnomaly:r,isAnalyzingAnomaly:i,onChartElementClick:o,onFocusChart:s,onExportChartData:c,onChartTypeChange:d,onForecast:f,onClearForecast:g,isForecasting:y,forecast:_})=>{var z,G;const b=X.useRef(null),[P,C]=X.useState(!1),A=X.useMemo(()=>{const j=["BarChart","LineChart","AreaChart","Table"];switch(t.type){case"BarChart":case"LineChart":case"AreaChart":return j.filter(K=>K!==t.type);case"PieChart":return["BarChart","Table"];default:return[]}},[t.type]),R=async()=>{if(b.current&&typeof html2canvas<"u")try{await new Promise(re=>setTimeout(re,100));const K=(await html2canvas(b.current,{backgroundColor:null,scale:2,useCORS:!0,logging:!1})).toDataURL("image/png",1),Q=document.createElement("a");Q.href=K,Q.download=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()||"chart"}.png`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)}catch(j){console.error("Error exporting chart as PNG:",j),alert("Failed to export chart as PNG. See console for details.")}else alert("Chart element not found or html2canvas not loaded.")};if(!e)return M.jsxs("div",{className:"p-4 bg-slate-700/40 backdrop-blur-md rounded-xl shadow-lg min-h-[200px] flex flex-col items-center justify-center border border-slate-600/70",children:[M.jsx("h3",{className:"text-md font-semibold text-slate-100 mb-2 truncate max-w-full",title:t.title,children:t.title}),M.jsx("p",{className:"text-slate-400 text-sm",children:"No data to display."})]});if(e&&"error"in e&&e.error){const j=e;return M.jsxs("div",{className:"p-4 bg-slate-700/40 backdrop-blur-md rounded-xl shadow-lg min-h-[200px] border border-red-500/50",children:[M.jsx("h3",{className:"text-md font-semibold text-red-400 mb-2 truncate max-w-full",title:t.title,children:t.title}),M.jsx(rw,{title:`Error in: ${j.title||t.title}`,message:j.message})]})}const N=["BarChart","LineChart","AreaChart","PieChart","ScatterPlot","Histogram","Table","MapChart"].includes(t.type),k=N&&!["PieChart","ScatterPlot","Histogram","Table","MapChart"].includes(t.type)&&((z=e==null?void 0:e.data)==null?void 0:z.length)>0,$=N&&["LineChart","AreaChart"].includes(t.type)&&((G=e==null?void 0:e.data)==null?void 0:G.length)>1,I=()=>{k&&!i&&r(t,e)},D=()=>{$&&!y&&f(t,e)},F=()=>{N&&e&&!("error"in e)&&s&&s(t,e)},U=o&&(t.type==="BarChart"||t.type==="PieChart");return M.jsxs("div",{className:"bg-slate-700/40 backdrop-blur-md rounded-xl shadow-xl overflow-hidden flex flex-col h-full border border-slate-600/70 transition-all duration-300 hover:shadow-2xl hover:shadow-primary-500/10 hover:border-slate-500/80",children:[M.jsxs("div",{className:"p-4 border-b border-slate-600 flex justify-between items-start gap-2",children:[M.jsxs("div",{className:"flex-grow min-w-0",children:[M.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-100 truncate",title:t.title,children:t.title}),t.interpretation&&M.jsxs("div",{className:"mt-1 flex items-start text-xs text-slate-300",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-3.5 h-3.5 mr-1.5 text-accent-400 shrink-0 opacity-80 flex-none",style:{marginTop:"0.125em"},children:M.jsx("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.25 4.75a.75.75 0 0 1 1.5 0v.01a.75.75 0 0 1-1.5 0v-.01ZM7 6.25a.75.75 0 0 0 0 1.5h.008v2.2507a.75.75 0 0 0 .75.75h.483a.75.75 0 0 0 .75-.75V8.5h.008a.75.75 0 0 0 0-1.5H8.75V6.25H7Z"})}),M.jsx("span",{className:"italic leading-snug",children:t.interpretation})]}),(_==null?void 0:_.explanation)&&M.jsxs("div",{className:"mt-1.5 flex items-start text-xs text-sky-300 p-2 bg-sky-500/10 rounded-md border border-sky-500/20",children:[M.jsx(_I,{}),M.jsx("span",{className:"italic leading-snug ml-1.5",children:_.explanation})]})]}),M.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-1.5 shrink-0",children:[N&&A.length>0&&M.jsxs("div",{className:"relative",children:[M.jsx("button",{onClick:()=>C(!P),onBlur:()=>setTimeout(()=>C(!1),200),className:"p-1.5 text-xs bg-slate-600/50 text-slate-200 hover:bg-slate-500/70 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-700 flex items-center transition-colors",title:"Change Chart Type",children:M.jsx(F9,{})}),P&&M.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-slate-700 border border-slate-600 rounded-md shadow-lg z-20 py-1",children:A.map(j=>M.jsxs("button",{onClick:()=>{d(t.id,j),C(!1)},className:"w-full text-left px-3 py-1.5 text-xs text-slate-200 hover:bg-primary-600",children:["Change to ",j.replace(/([A-Z])/g," $1").trim()]},j))})]}),N&&M.jsx("button",{onClick:()=>c(e,t.title),className:"p-1.5 text-xs bg-slate-600/50 text-slate-200 hover:bg-slate-500/70 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-700 flex items-center transition-colors",title:"Export Data as CSV",children:M.jsx($9,{})}),N&&M.jsx("button",{onClick:F,className:"p-1.5 text-xs bg-slate-600/50 text-slate-200 hover:bg-slate-500/70 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-700 flex items-center transition-colors",title:"Focus on Chart",children:M.jsx(D9,{})}),N&&M.jsx("button",{onClick:R,className:"p-1.5 text-xs bg-slate-600/50 text-slate-200 hover:bg-slate-500/70 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-700 flex items-center transition-colors",title:"Export as PNG",children:M.jsx(L9,{})}),k&&M.jsx("button",{onClick:I,disabled:i,className:"p-1.5 text-xs bg-accent-600/50 text-accent-200 hover:bg-accent-500/60 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-400 focus:ring-offset-2 focus:ring-offset-slate-700 disabled:opacity-60 disabled:cursor-wait flex items-center transition-colors",title:"Analyze for Anomalies",children:i?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin -ml-0.5 mr-1.5 h-4 w-4 text-accent-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analysing..."]}):M.jsxs(M.Fragment,{children:[M.jsx(R9,{}),"Insights"]})}),$&&(_?M.jsxs("button",{onClick:()=>g(t.id),className:"p-1.5 text-xs bg-red-600/50 text-red-200 hover:bg-red-500/60 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 focus:ring-offset-slate-700 flex items-center transition-colors",title:"Clear Forecast",children:[M.jsx(B9,{})," Clear"]}):M.jsx("button",{onClick:D,disabled:y,className:"p-1.5 text-xs bg-sky-600/50 text-sky-200 hover:bg-sky-500/60 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2 focus:ring-offset-slate-700 disabled:opacity-60 disabled:cursor-wait flex items-center transition-colors",title:"Generate Forecast",children:y?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin -ml-0.5 mr-1.5 h-4 w-4 text-sky-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Forecasting..."]}):M.jsxs(M.Fragment,{children:[M.jsx(_I,{}),"Forecast"]})}))]})]}),M.jsxs("div",{className:"p-3 flex-grow flex items-center justify-center min-h-[280px] sm:min-h-[320px]",ref:b,children:[t.type==="KPI"&&M.jsx(eL,{data:e}),N&&M.jsx("div",{className:"w-full h-full",children:M.jsx(A5,{processedData:e,themeSuggestion:n,onChartElementClick:U?o:void 0,forecastData:_==null?void 0:_.data})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let q9,U9;function j9(){return{geminiUrl:q9,vertexUrl:U9}}function z9(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=j9();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ls{}function je(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const c=s.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const g=d[f];p(g,e.slice(o+1),n[f])}else for(const f of d)p(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const c=s.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];p(d[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function h(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>h(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wI||(wI={}));var bI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bI||(bI={}));var ea;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ea||(ea={}));var SI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(SI||(SI={}));var TI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(TI||(TI={}));var CI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(CI||(CI={}));var AI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(AI||(AI={}));var PI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(PI||(PI={}));var EI;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(EI||(EI={}));var MI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(MI||(MI={}));var II;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(II||(II={}));var OI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(OI||(OI={}));var kI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(kI||(kI={}));var NI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(NI||(NI={}));var RI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(RI||(RI={}));var LI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(LI||(LI={}));var lp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(lp||(lp={}));var DI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(DI||(DI={}));var ow;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ow||(ow={}));var $I;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})($I||($I={}));var FI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(FI||(FI={}));var BI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(BI||(BI={}));var qI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qI||(qI={}));var UI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(UI||(UI={}));var jI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(jI||(jI={}));var zI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(zI||(zI={}));var VI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(VI||(VI={}));var HI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(HI||(HI={}));var GI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(GI||(GI={}));var WI;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(WI||(WI={}));var KI;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(KI||(KI={}));var ZI;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ZI||(ZI={}));var JI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(JI||(JI={}));var YI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(YI||(YI={}));var XI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(XI||(XI={}));var QI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(QI||(QI={}));var eO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eO||(eO={}));var tO;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tO||(tO={}));var nO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nO||(nO={}));var rO;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(rO||(rO={}));var iO;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iO||(iO={}));var oO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(oO||(oO={}));var cl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(cl||(cl={}));class aw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class dc{get text(){var e,n,r,i,o,s,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",g=!1;const y=[];for(const _ of(d=(c=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[b,P]of Object.entries(_))b!=="text"&&b!=="thought"&&(P!==null||P!==void 0)&&y.push(b);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;g=!0,f+=_.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?f:void 0}get data(){var e,n,r,i,o,s,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const g=[];for(const y of(d=(c=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[_,b]of Object.entries(y))_!=="inlineData"&&(b!==null||b!==void 0)&&g.push(_);y.inlineData&&typeof y.inlineData.data=="string"&&(f+=atob(y.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,s,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,s,c,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(d=(c=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,s,c,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(d=(c=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.output}}class aO{}class sO{}class V9{}class H9{}class G9{}class lO{}class uO{}class cO{}class W9{}class fO{}class dO{}class hO{}class pO{}class K9{}class Z9{}class J9{}class mO{}class Y9{get text(){var e,n,r;let i="",o=!1;const s=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,i+=c.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(s))c!=="inlineData"&&d!==null&&o.push(c);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class up{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new up;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const o=new fO,s=i.videos;o.generatedVideos=s==null?void 0:s.map(c=>({video:{uri:c.gcsUri,videoBytes:c.bytesBase64Encoded?iw(c.bytesBase64Encoded):void 0,mimeType:c.mimeType}})),o.raiMediaFilteredCount=i.raiMediaFilteredCount,o.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=o}}else{const i=e.response;if(i){const o=new fO,s=i.generateVideoResponse,c=s==null?void 0:s.generatedSamples;o.generatedVideos=c==null?void 0:c.map(d=>{const f=d.video;return{video:{uri:f==null?void 0:f.uri,videoBytes:f!=null&&f.encodedVideo?iw(f==null?void 0:f.encodedVideo):void 0,mimeType:d.encoding}}}),o.raiMediaFilteredCount=s==null?void 0:s.raiMediaFilteredCount,o.raiMediaFilteredReasons=s==null?void 0:s.raiMediaFilteredReasons,r.response=o}}return r}}class X9{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function St(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function P5(t,e){const n=St(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function E5(t){return Array.isArray(t)?t.map(e=>cp(e)):[cp(t)]}function cp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function M5(t){const e=cp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function I5(t){const e=cp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function O5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>gO(e)):[gO(t)]}function sw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function vO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function yO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function In(t){if(t==null)throw new Error("ContentUnion is required");return sw(t)?t:{role:"user",parts:O5(t)}}function k5(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=In(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=In(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>In(n)):[In(e)]}function Nr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(vO(t)||yO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[In(t)]}const e=[],n=[],r=sw(t[0]);for(const i of t){const o=sw(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(vO(i)||yO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:O5(n)}),e}function Q9(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ea).includes(n[0].toUpperCase())?n[0].toUpperCase():ea.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ea).includes(r.toUpperCase())?r.toUpperCase():ea.TYPE_UNSPECIFIED})}}function pl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Q9(t.type,e);for(const[s,c]of Object.entries(t))if(c!=null)if(s=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(ea).includes(c.toUpperCase())?c.toUpperCase():ea.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=pl(c);else if(r.includes(s)){const d=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}d.push(pl(f))}e[s]=d}else if(i.includes(s)){const d={};for(const[f,g]of Object.entries(c))d[f]=pl(g);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=c}return e}function Sb(t){return pl(t)}function Tb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Cb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function iu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=pl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=pl(e.response));return t}function ou(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function eK(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ho(t,e){if(typeof e!="string")throw new Error("name must be a string");return eK(t,e,"cachedContents")}function N5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function us(t){return iw(t)}function tK(t){return t!=null&&typeof t=="object"&&"name"in t}function nK(t){return t!=null&&typeof t=="object"&&"video"in t}function rK(t){return t!=null&&typeof t=="object"&&"uri"in t}function R5(t){var e;let n;if(tK(t)&&(n=t.name),!(rK(t)&&(n=t.uri,n===void 0))&&!(nK(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function L5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function D5(t){for(const e of["models","tunedModels","publisherModels"])if(iK(t,e))return t[e];return[]}function iK(t,e){return t!==null&&typeof t=="object"&&e in t}function oK(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function aK(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=oK(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function $5(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function sK(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function au(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function F5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lK(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function uK(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function cK(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function fK(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],lK(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],uK(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],cK(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function B5(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fK(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function dK(t){const e={},n=h(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=h(t,["default"]);r!=null&&p(e,["default"],r);const i=h(t,["description"]);i!=null&&p(e,["description"],i);const o=h(t,["enum"]);o!=null&&p(e,["enum"],o);const s=h(t,["example"]);s!=null&&p(e,["example"],s);const c=h(t,["format"]);c!=null&&p(e,["format"],c);const d=h(t,["items"]);d!=null&&p(e,["items"],d);const f=h(t,["maxItems"]);f!=null&&p(e,["maxItems"],f);const g=h(t,["maxLength"]);g!=null&&p(e,["maxLength"],g);const y=h(t,["maxProperties"]);y!=null&&p(e,["maxProperties"],y);const _=h(t,["maximum"]);_!=null&&p(e,["maximum"],_);const b=h(t,["minItems"]);b!=null&&p(e,["minItems"],b);const P=h(t,["minLength"]);P!=null&&p(e,["minLength"],P);const C=h(t,["minProperties"]);C!=null&&p(e,["minProperties"],C);const A=h(t,["minimum"]);A!=null&&p(e,["minimum"],A);const R=h(t,["nullable"]);R!=null&&p(e,["nullable"],R);const N=h(t,["pattern"]);N!=null&&p(e,["pattern"],N);const k=h(t,["properties"]);k!=null&&p(e,["properties"],k);const $=h(t,["propertyOrdering"]);$!=null&&p(e,["propertyOrdering"],$);const I=h(t,["required"]);I!=null&&p(e,["required"],I);const D=h(t,["title"]);D!=null&&p(e,["title"],D);const F=h(t,["type"]);return F!=null&&p(e,["type"],F),e}function hK(t){const e={};if(h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=h(t,["category"]);n!=null&&p(e,["category"],n);const r=h(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function pK(t){const e={},n=h(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=h(t,["description"]);r!=null&&p(e,["description"],r);const i=h(t,["name"]);i!=null&&p(e,["name"],i);const o=h(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=h(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const c=h(t,["response"]);c!=null&&p(e,["response"],c);const d=h(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function mK(t){const e={},n=h(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function gK(t){const e={},n=h(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],mK(n)),e}function vK(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function yK(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],vK(n)),e}function _K(){return{}}function xK(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>pK(f))),p(e,["functionDeclarations"],d)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],gK(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],yK(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&p(e,["urlContext"],_K());const s=h(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const c=h(t,["computerUse"]);return c!=null&&p(e,["computerUse"],c),e}function wK(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function bK(t){const e={},n=h(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function SK(t){const e={},n=h(t,["latLng"]);n!=null&&p(e,["latLng"],bK(n));const r=h(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function TK(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],wK(n));const r=h(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],SK(r)),e}function CK(t){const e={},n=h(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function q5(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],CK(n)),e}function AK(t){const e={},n=h(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=h(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],q5(r)),e}function PK(t){const e={},n=h(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>AK(i))),p(e,["speakerVoiceConfigs"],r)}return e}function EK(t){const e={},n=h(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],q5(n));const r=h(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],PK(r));const i=h(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function MK(t){const e={},n=h(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=h(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function IK(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],B5(In(i)));const o=h(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=h(e,["topP"]);s!=null&&p(r,["topP"],s);const c=h(e,["topK"]);c!=null&&p(r,["topK"],c);const d=h(e,["candidateCount"]);d!=null&&p(r,["candidateCount"],d);const f=h(e,["maxOutputTokens"]);f!=null&&p(r,["maxOutputTokens"],f);const g=h(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const y=h(e,["responseLogprobs"]);y!=null&&p(r,["responseLogprobs"],y);const _=h(e,["logprobs"]);_!=null&&p(r,["logprobs"],_);const b=h(e,["presencePenalty"]);b!=null&&p(r,["presencePenalty"],b);const P=h(e,["frequencyPenalty"]);P!=null&&p(r,["frequencyPenalty"],P);const C=h(e,["seed"]);C!=null&&p(r,["seed"],C);const A=h(e,["responseMimeType"]);A!=null&&p(r,["responseMimeType"],A);const R=h(e,["responseSchema"]);R!=null&&p(r,["responseSchema"],dK(Sb(R)));const N=h(e,["responseJsonSchema"]);if(N!=null&&p(r,["responseJsonSchema"],N),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=h(e,["safetySettings"]);if(n!==void 0&&k!=null){let j=k;Array.isArray(j)&&(j=j.map(K=>hK(K))),p(n,["safetySettings"],j)}const $=h(e,["tools"]);if(n!==void 0&&$!=null){let j=ou($);Array.isArray(j)&&(j=j.map(K=>xK(iu(K)))),p(n,["tools"],j)}const I=h(e,["toolConfig"]);if(n!==void 0&&I!=null&&p(n,["toolConfig"],TK(I)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=h(e,["cachedContent"]);n!==void 0&&D!=null&&p(n,["cachedContent"],ho(t,D));const F=h(e,["responseModalities"]);F!=null&&p(r,["responseModalities"],F);const U=h(e,["mediaResolution"]);U!=null&&p(r,["mediaResolution"],U);const z=h(e,["speechConfig"]);if(z!=null&&p(r,["speechConfig"],EK(Tb(z))),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=h(e,["thinkingConfig"]);return G!=null&&p(r,["thinkingConfig"],MK(G)),r}function OK(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["request","model"],St(t,r));const i=h(e,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(c=>B5(c))),p(n,["request","contents"],s)}const o=h(e,["config"]);return o!=null&&p(n,["request","generationConfig"],IK(t,o,n)),n}function kK(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=h(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=h(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>OK(t,s))),p(n,["requests","requests"],o)}return n}function NK(t,e){const n={},r=h(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function RK(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["src"]);i!=null&&p(n,["batch","inputConfig"],kK(t,$5(t,i)));const o=h(e,["config"]);return o!=null&&p(n,["config"],NK(o,n)),n}function LK(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],au(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function DK(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],au(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function $K(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function FK(t){const e={},n=h(t,["config"]);return n!=null&&p(e,["config"],$K(n,e)),e}function BK(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],au(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function qK(t){const e={},n=h(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=h(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function UK(t){const e={},n=h(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=h(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function jK(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=h(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],UK(sK(i))),n}function zK(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["model"],St(t,r));const i=h(e,["src"]);i!=null&&p(n,["inputConfig"],qK($5(t,i)));const o=h(e,["config"]);return o!=null&&p(n,["config"],jK(o,n)),n}function VK(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],au(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function HK(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],au(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function GK(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=h(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function WK(t){const e={},n=h(t,["config"]);return n!=null&&p(e,["config"],GK(n,e)),e}function KK(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],au(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function ZK(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function JK(t){const e={},n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function YK(t){const e={},n=h(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function XK(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],ZK(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],JK(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],YK(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function QK(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>XK(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function eZ(t){const e={},n=h(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function tZ(t){const e={},n=h(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=h(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function nZ(t){const e={},n=h(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tZ(i))),p(e,["urlMetadata"],r)}return e}function rZ(t){const e={},n=h(t,["content"]);n!=null&&p(e,["content"],QK(n));const r=h(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],eZ(r));const i=h(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=h(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=h(t,["urlContextMetadata"]);s!=null&&p(e,["urlContextMetadata"],nZ(s));const c=h(t,["avgLogprobs"]);c!=null&&p(e,["avgLogprobs"],c);const d=h(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const f=h(t,["index"]);f!=null&&p(e,["index"],f);const g=h(t,["logprobsResult"]);g!=null&&p(e,["logprobsResult"],g);const y=h(t,["safetyRatings"]);return y!=null&&p(e,["safetyRatings"],y),e}function iZ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>rZ(f))),p(e,["candidates"],d)}const i=h(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=h(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=h(t,["responseId"]);s!=null&&p(e,["responseId"],s);const c=h(t,["usageMetadata"]);return c!=null&&p(e,["usageMetadata"],c),e}function U5(t){const e={},n=h(t,["details"]);n!=null&&p(e,["details"],n);const r=h(t,["code"]);r!=null&&p(e,["code"],r);const i=h(t,["message"]);return i!=null&&p(e,["message"],i),e}function oZ(t){const e={},n=h(t,["response"]);n!=null&&p(e,["response"],iZ(n));const r=h(t,["error"]);return r!=null&&p(e,["error"],U5(r)),e}function aZ(t){const e={},n=h(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=h(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>oZ(o))),p(e,["inlinedResponses"],i)}return e}function lw(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=h(t,["metadata","state"]);i!=null&&p(e,["state"],F5(i));const o=h(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const s=h(t,["metadata","endTime"]);s!=null&&p(e,["endTime"],s);const c=h(t,["metadata","updateTime"]);c!=null&&p(e,["updateTime"],c);const d=h(t,["metadata","model"]);d!=null&&p(e,["model"],d);const f=h(t,["metadata","output"]);return f!=null&&p(e,["dest"],aZ(f)),e}function sZ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>lw(s))),p(e,["batchJobs"],o)}return e}function lZ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&p(e,["name"],r);const i=h(t,["done"]);i!=null&&p(e,["done"],i);const o=h(t,["error"]);return o!=null&&p(e,["error"],U5(o)),e}function j5(t){const e={},n=h(t,["details"]);n!=null&&p(e,["details"],n);const r=h(t,["code"]);r!=null&&p(e,["code"],r);const i=h(t,["message"]);return i!=null&&p(e,["message"],i),e}function uZ(t){const e={},n=h(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=h(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=h(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function cZ(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=h(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=h(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function uw(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=h(t,["state"]);i!=null&&p(e,["state"],F5(i));const o=h(t,["error"]);o!=null&&p(e,["error"],j5(o));const s=h(t,["createTime"]);s!=null&&p(e,["createTime"],s);const c=h(t,["startTime"]);c!=null&&p(e,["startTime"],c);const d=h(t,["endTime"]);d!=null&&p(e,["endTime"],d);const f=h(t,["updateTime"]);f!=null&&p(e,["updateTime"],f);const g=h(t,["model"]);g!=null&&p(e,["model"],g);const y=h(t,["inputConfig"]);y!=null&&p(e,["src"],uZ(y));const _=h(t,["outputConfig"]);return _!=null&&p(e,["dest"],cZ(_)),e}function fZ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>uw(s))),p(e,["batchJobs"],o)}return e}function dZ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&p(e,["name"],r);const i=h(t,["done"]);i!=null&&p(e,["done"],i);const o=h(t,["error"]);return o!=null&&p(e,["error"],j5(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(rs||(rs={}));class _f{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hZ extends ls{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const i=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${i}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new _f(rs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=zK(this.apiClient,e);return c=je("batchPredictionJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(g=>uw(g))}else{const f=RK(this.apiClient,e);return c=je("{model}:batchGenerateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>lw(g))}}async get(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=VK(this.apiClient,e);return c=je("batchPredictionJobs/{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(g=>uw(g))}else{const f=LK(this.apiClient,e);return c=je("batches/{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>lw(g))}}async cancel(e){var n,r,i,o;let s="",c={};if(this.apiClient.isVertexAI()){const d=HK(this.apiClient,e);s=je("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d.config,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=DK(this.apiClient,e);s=je("batches/{name}:cancel",d._url),c=d._query,delete d.config,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=WK(e);return c=je("batchPredictionJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=fZ(g),_=new mO;return Object.assign(_,y),_})}else{const f=FK(e);return c=je("batches",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=sZ(g),_=new mO;return Object.assign(_,y),_})}}async delete(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=KK(this.apiClient,e);return c=je("batchPredictionJobs/{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>dZ(g))}else{const f=BK(this.apiClient,e);return c=je("batches/{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>lZ(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pZ(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function mZ(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function gZ(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vZ(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],pZ(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],mZ(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],gZ(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function _O(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vZ(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function yZ(t){const e={},n=h(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=h(t,["description"]);r!=null&&p(e,["description"],r);const i=h(t,["name"]);i!=null&&p(e,["name"],i);const o=h(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=h(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const c=h(t,["response"]);c!=null&&p(e,["response"],c);const d=h(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function _Z(t){const e={},n=h(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function xZ(t){const e={},n=h(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],_Z(n)),e}function wZ(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function bZ(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],wZ(n)),e}function SZ(){return{}}function TZ(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>yZ(f))),p(e,["functionDeclarations"],d)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],xZ(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],bZ(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&p(e,["urlContext"],SZ());const s=h(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const c=h(t,["computerUse"]);return c!=null&&p(e,["computerUse"],c),e}function CZ(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function AZ(t){const e={},n=h(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function PZ(t){const e={},n=h(t,["latLng"]);n!=null&&p(e,["latLng"],AZ(n));const r=h(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function EZ(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],CZ(n));const r=h(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],PZ(r)),e}function MZ(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=h(t,["contents"]);if(e!==void 0&&s!=null){let g=Nr(s);Array.isArray(g)&&(g=g.map(y=>_O(y))),p(e,["contents"],g)}const c=h(t,["systemInstruction"]);e!==void 0&&c!=null&&p(e,["systemInstruction"],_O(In(c)));const d=h(t,["tools"]);if(e!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>TZ(y))),p(e,["tools"],g)}const f=h(t,["toolConfig"]);if(e!==void 0&&f!=null&&p(e,["toolConfig"],EZ(f)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function IZ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["model"],P5(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],MZ(i,n)),n}function OZ(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],ho(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function kZ(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],ho(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function NZ(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function RZ(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],ho(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],NZ(i,n)),n}function LZ(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function DZ(t){const e={},n=h(t,["config"]);return n!=null&&p(e,["config"],LZ(n,e)),e}function $Z(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function FZ(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["data"]);r!=null&&p(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function BZ(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function qZ(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],$Z(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],FZ(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],BZ(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function xO(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qZ(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function UZ(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&p(e,["description"],n);const r=h(t,["name"]);r!=null&&p(e,["name"],r);const i=h(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=h(t,["response"]);s!=null&&p(e,["response"],s);const c=h(t,["responseJsonSchema"]);return c!=null&&p(e,["responseJsonSchema"],c),e}function jZ(t){const e={},n=h(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function zZ(t){const e={},n=h(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],jZ(n)),e}function VZ(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function HZ(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],VZ(n)),e}function GZ(){return{}}function WZ(t){const e={},n=h(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function KZ(t){const e={},n=h(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],WZ(n));const r=h(t,["authType"]);r!=null&&p(e,["authType"],r);const i=h(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const o=h(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const s=h(t,["oauthConfig"]);s!=null&&p(e,["oauthConfig"],s);const c=h(t,["oidcConfig"]);return c!=null&&p(e,["oidcConfig"],c),e}function ZZ(t){const e={},n=h(t,["authConfig"]);return n!=null&&p(e,["authConfig"],KZ(n)),e}function JZ(){return{}}function YZ(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>UZ(_))),p(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=h(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],zZ(i));const o=h(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],HZ(o)),h(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],GZ());const c=h(t,["googleMaps"]);c!=null&&p(e,["googleMaps"],ZZ(c)),h(t,["urlContext"])!=null&&p(e,["urlContext"],JZ());const f=h(t,["codeExecution"]);f!=null&&p(e,["codeExecution"],f);const g=h(t,["computerUse"]);return g!=null&&p(e,["computerUse"],g),e}function XZ(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function QZ(t){const e={},n=h(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function eJ(t){const e={},n=h(t,["latLng"]);n!=null&&p(e,["latLng"],QZ(n));const r=h(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function tJ(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],XZ(n));const r=h(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],eJ(r)),e}function nJ(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=h(t,["contents"]);if(e!==void 0&&s!=null){let y=Nr(s);Array.isArray(y)&&(y=y.map(_=>xO(_))),p(e,["contents"],y)}const c=h(t,["systemInstruction"]);e!==void 0&&c!=null&&p(e,["systemInstruction"],xO(In(c)));const d=h(t,["tools"]);if(e!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(_=>YZ(_))),p(e,["tools"],y)}const f=h(t,["toolConfig"]);e!==void 0&&f!=null&&p(e,["toolConfig"],tJ(f));const g=h(t,["kmsKeyName"]);return e!==void 0&&g!=null&&p(e,["encryption_spec","kmsKeyName"],g),n}function rJ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["model"],P5(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],nJ(i,n)),n}function iJ(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],ho(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function oJ(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],ho(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function aJ(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function sJ(t,e){const n={},r=h(e,["name"]);r!=null&&p(n,["_url","name"],ho(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],aJ(i,n)),n}function lJ(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function uJ(t){const e={},n=h(t,["config"]);return n!=null&&p(e,["config"],lJ(n,e)),e}function oh(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=h(t,["model"]);i!=null&&p(e,["model"],i);const o=h(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=h(t,["updateTime"]);s!=null&&p(e,["updateTime"],s);const c=h(t,["expireTime"]);c!=null&&p(e,["expireTime"],c);const d=h(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function cJ(){return{}}function fJ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>oh(s))),p(e,["cachedContents"],o)}return e}function ah(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=h(t,["model"]);i!=null&&p(e,["model"],i);const o=h(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=h(t,["updateTime"]);s!=null&&p(e,["updateTime"],s);const c=h(t,["expireTime"]);c!=null&&p(e,["expireTime"],c);const d=h(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function dJ(){return{}}function hJ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ah(s))),p(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pJ extends ls{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _f(rs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=rJ(this.apiClient,e);return c=je("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(g=>ah(g))}else{const f=IZ(this.apiClient,e);return c=je("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>oh(g))}}async get(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=iJ(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(g=>ah(g))}else{const f=OZ(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>oh(g))}}async delete(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=oJ(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(()=>{const g=dJ(),y=new hO;return Object.assign(y,g),y})}else{const f=kZ(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(()=>{const g=cJ(),y=new hO;return Object.assign(y,g),y})}}async update(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=sJ(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(g=>ah(g))}else{const f=RZ(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>oh(g))}}async listInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=uJ(e);return c=je("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=hJ(g),_=new pO;return Object.assign(_,y),_})}else{const f=DZ(e);return c=je("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=fJ(g),_=new pO;return Object.assign(_,y),_})}}}function wO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $t(t){return this instanceof $t?(this.v=t,this):new $t(t)}function ml(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(P){return Promise.resolve(P).then(b,y)}}function c(b,P){r[b]&&(i[b]=function(C){return new Promise(function(A,R){o.push([b,C,A,R])>1||d(b,C)})},P&&(i[b]=P(i[b])))}function d(b,P){try{f(r[b](P))}catch(C){_(o[0][3],C)}}function f(b){b.value instanceof $t?Promise.resolve(b.value.v).then(g,y):_(o[0][2],b)}function g(b){d("next",b)}function y(b){d("throw",b)}function _(b,P){b(P),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Ac(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wO=="function"?wO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,d){s=t[o](s),i(c,d,s.done,s.value)})}}function i(o,s,c,d){Promise.resolve(d).then(function(f){o({value:f,done:c})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mJ(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:z5(n)}function z5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function gJ(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!z5(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class vJ{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new yJ(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class yJ{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),gJ(o)}async sendMessage(e){var n;await this.sendPromise;const r=In(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,c;const d=await i,f=(s=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,g=d.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let _=[];g!=null&&(_=(c=g.slice(y))!==null&&c!==void 0?c:[]);const b=f?[f]:[];this.recordHistory(r,b,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=In(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?bO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return ml(this,arguments,function*(){var s,c,d,f;const g=[];try{for(var y=!0,_=Ac(e),b;b=yield $t(_.next()),s=b.done,!s;y=!0){f=b.value,y=!1;const P=f;if(mJ(P)){const C=(i=(r=P.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&g.push(C)}yield yield $t(P)}}catch(P){c={error:P}}finally{try{!y&&!s&&(d=_.return)&&(yield $t(d.call(_)))}finally{if(c)throw c.error}}this.recordHistory(n,g)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...bO(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Jp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _J(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function xJ(t){const e={},n=h(t,["config"]);return n!=null&&p(e,["config"],_J(n,e)),e}function wJ(t){const e={},n=h(t,["details"]);n!=null&&p(e,["details"],n);const r=h(t,["message"]);r!=null&&p(e,["message"],r);const i=h(t,["code"]);return i!=null&&p(e,["code"],i),e}function bJ(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=h(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const o=h(t,["sizeBytes"]);o!=null&&p(e,["sizeBytes"],o);const s=h(t,["createTime"]);s!=null&&p(e,["createTime"],s);const c=h(t,["expirationTime"]);c!=null&&p(e,["expirationTime"],c);const d=h(t,["updateTime"]);d!=null&&p(e,["updateTime"],d);const f=h(t,["sha256Hash"]);f!=null&&p(e,["sha256Hash"],f);const g=h(t,["uri"]);g!=null&&p(e,["uri"],g);const y=h(t,["downloadUri"]);y!=null&&p(e,["downloadUri"],y);const _=h(t,["state"]);_!=null&&p(e,["state"],_);const b=h(t,["source"]);b!=null&&p(e,["source"],b);const P=h(t,["videoMetadata"]);P!=null&&p(e,["videoMetadata"],P);const C=h(t,["error"]);return C!=null&&p(e,["error"],wJ(C)),e}function SJ(t){const e={},n=h(t,["file"]);n!=null&&p(e,["file"],bJ(n));const r=h(t,["config"]);return r!=null&&p(e,["config"],r),e}function TJ(t){const e={},n=h(t,["name"]);n!=null&&p(e,["_url","file"],R5(n));const r=h(t,["config"]);return r!=null&&p(e,["config"],r),e}function CJ(t){const e={},n=h(t,["name"]);n!=null&&p(e,["_url","file"],R5(n));const r=h(t,["config"]);return r!=null&&p(e,["config"],r),e}function AJ(t){const e={},n=h(t,["details"]);n!=null&&p(e,["details"],n);const r=h(t,["message"]);r!=null&&p(e,["message"],r);const i=h(t,["code"]);return i!=null&&p(e,["code"],i),e}function cw(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=h(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const o=h(t,["sizeBytes"]);o!=null&&p(e,["sizeBytes"],o);const s=h(t,["createTime"]);s!=null&&p(e,["createTime"],s);const c=h(t,["expirationTime"]);c!=null&&p(e,["expirationTime"],c);const d=h(t,["updateTime"]);d!=null&&p(e,["updateTime"],d);const f=h(t,["sha256Hash"]);f!=null&&p(e,["sha256Hash"],f);const g=h(t,["uri"]);g!=null&&p(e,["uri"],g);const y=h(t,["downloadUri"]);y!=null&&p(e,["downloadUri"],y);const _=h(t,["state"]);_!=null&&p(e,["state"],_);const b=h(t,["source"]);b!=null&&p(e,["source"],b);const P=h(t,["videoMetadata"]);P!=null&&p(e,["videoMetadata"],P);const C=h(t,["error"]);return C!=null&&p(e,["error"],AJ(C)),e}function PJ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>cw(s))),p(e,["files"],o)}return e}function EJ(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function MJ(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IJ extends ls{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _f(rs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>cw(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xJ(e);return o=je("files",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:d.headers},g})),i.then(d=>{const f=PJ(d),g=new K9;return Object.assign(g,f),g})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=SJ(e);return o=je("upload/v1beta/files",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=EJ(d),g=new Z9;return Object.assign(g,f),g})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=TJ(e);return o=je("files/{file}",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>cw(d))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=CJ(e);return o=je("files/{file}",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(()=>{const d=MJ(),f=new J9;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OJ(t){const e={},n=h(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function V5(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],OJ(n)),e}function kJ(t){const e={},n=h(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=h(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],V5(r)),e}function NJ(t){const e={},n=h(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kJ(i))),p(e,["speakerVoiceConfigs"],r)}return e}function RJ(t){const e={},n=h(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],V5(n));const r=h(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],NJ(r));const i=h(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function LJ(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function DJ(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function $J(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function FJ(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],LJ(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],DJ(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],$J(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function BJ(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>FJ(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function qJ(t){const e={},n=h(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=h(t,["description"]);r!=null&&p(e,["description"],r);const i=h(t,["name"]);i!=null&&p(e,["name"],i);const o=h(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=h(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const c=h(t,["response"]);c!=null&&p(e,["response"],c);const d=h(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function UJ(t){const e={},n=h(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function jJ(t){const e={},n=h(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],UJ(n)),e}function zJ(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function VJ(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],zJ(n)),e}function HJ(){return{}}function GJ(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>qJ(f))),p(e,["functionDeclarations"],d)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],jJ(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],VJ(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&p(e,["urlContext"],HJ());const s=h(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const c=h(t,["computerUse"]);return c!=null&&p(e,["computerUse"],c),e}function WJ(t){const e={},n=h(t,["handle"]);if(n!=null&&p(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function SO(){return{}}function KJ(t){const e={},n=h(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=h(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=h(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const o=h(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const s=h(t,["silenceDurationMs"]);return s!=null&&p(e,["silenceDurationMs"],s),e}function ZJ(t){const e={},n=h(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],KJ(n));const r=h(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=h(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function JJ(t){const e={},n=h(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function YJ(t){const e={},n=h(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=h(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],JJ(r)),e}function XJ(t){const e={},n=h(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function QJ(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=h(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const c=h(t,["topK"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topK"],c);const d=h(t,["maxOutputTokens"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","maxOutputTokens"],d);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","mediaResolution"],f);const g=h(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","speechConfig"],RJ(Cb(y)));const _=h(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=h(t,["systemInstruction"]);e!==void 0&&b!=null&&p(e,["setup","systemInstruction"],BJ(In(b)));const P=h(t,["tools"]);if(e!==void 0&&P!=null){let I=ou(P);Array.isArray(I)&&(I=I.map(D=>GJ(iu(D)))),p(e,["setup","tools"],I)}const C=h(t,["sessionResumption"]);e!==void 0&&C!=null&&p(e,["setup","sessionResumption"],WJ(C));const A=h(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&p(e,["setup","inputAudioTranscription"],SO());const R=h(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&p(e,["setup","outputAudioTranscription"],SO());const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&p(e,["setup","realtimeInputConfig"],ZJ(N));const k=h(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],YJ(k));const $=h(t,["proactivity"]);return e!==void 0&&$!=null&&p(e,["setup","proactivity"],XJ($)),n}function eY(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["setup","model"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],QJ(i,n)),n}function tY(){return{}}function nY(){return{}}function rY(t){const e={},n=h(t,["media"]);n!=null&&p(e,["mediaChunks"],E5(n));const r=h(t,["audio"]);r!=null&&p(e,["audio"],I5(r));const i=h(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=h(t,["video"]);o!=null&&p(e,["video"],M5(o));const s=h(t,["text"]);return s!=null&&p(e,["text"],s),h(t,["activityStart"])!=null&&p(e,["activityStart"],tY()),h(t,["activityEnd"])!=null&&p(e,["activityEnd"],nY()),e}function H5(t){const e={},n=h(t,["text"]);n!=null&&p(e,["text"],n);const r=h(t,["weight"]);return r!=null&&p(e,["weight"],r),e}function iY(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>H5(i))),p(e,["weightedPrompts"],r)}return e}function G5(t){const e={},n=h(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=h(t,["topK"]);r!=null&&p(e,["topK"],r);const i=h(t,["seed"]);i!=null&&p(e,["seed"],i);const o=h(t,["guidance"]);o!=null&&p(e,["guidance"],o);const s=h(t,["bpm"]);s!=null&&p(e,["bpm"],s);const c=h(t,["density"]);c!=null&&p(e,["density"],c);const d=h(t,["brightness"]);d!=null&&p(e,["brightness"],d);const f=h(t,["scale"]);f!=null&&p(e,["scale"],f);const g=h(t,["muteBass"]);g!=null&&p(e,["muteBass"],g);const y=h(t,["muteDrums"]);y!=null&&p(e,["muteDrums"],y);const _=h(t,["onlyBassAndDrums"]);_!=null&&p(e,["onlyBassAndDrums"],_);const b=h(t,["musicGenerationMode"]);return b!=null&&p(e,["musicGenerationMode"],b),e}function oY(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],G5(n)),e}function W5(t){const e={},n=h(t,["model"]);return n!=null&&p(e,["model"],n),e}function K5(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>H5(i))),p(e,["weightedPrompts"],r)}return e}function fw(t){const e={},n=h(t,["setup"]);n!=null&&p(e,["setup"],W5(n));const r=h(t,["clientContent"]);r!=null&&p(e,["clientContent"],K5(r));const i=h(t,["musicGenerationConfig"]);i!=null&&p(e,["musicGenerationConfig"],G5(i));const o=h(t,["playbackControl"]);return o!=null&&p(e,["playbackControl"],o),e}function aY(t){const e={},n=h(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function sY(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],aY(n)),e}function lY(t){const e={},n=h(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],sY(n)),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=h(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function uY(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function cY(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["data"]);r!=null&&p(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function fY(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function dY(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],uY(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],cY(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],fY(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function hY(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dY(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function pY(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&p(e,["description"],n);const r=h(t,["name"]);r!=null&&p(e,["name"],r);const i=h(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=h(t,["response"]);s!=null&&p(e,["response"],s);const c=h(t,["responseJsonSchema"]);return c!=null&&p(e,["responseJsonSchema"],c),e}function mY(t){const e={},n=h(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function gY(t){const e={},n=h(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],mY(n)),e}function vY(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function yY(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],vY(n)),e}function _Y(){return{}}function xY(t){const e={},n=h(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function wY(t){const e={},n=h(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],xY(n));const r=h(t,["authType"]);r!=null&&p(e,["authType"],r);const i=h(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const o=h(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const s=h(t,["oauthConfig"]);s!=null&&p(e,["oauthConfig"],s);const c=h(t,["oidcConfig"]);return c!=null&&p(e,["oidcConfig"],c),e}function bY(t){const e={},n=h(t,["authConfig"]);return n!=null&&p(e,["authConfig"],wY(n)),e}function SY(){return{}}function TY(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>pY(_))),p(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=h(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],gY(i));const o=h(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],yY(o)),h(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],_Y());const c=h(t,["googleMaps"]);c!=null&&p(e,["googleMaps"],bY(c)),h(t,["urlContext"])!=null&&p(e,["urlContext"],SY());const f=h(t,["codeExecution"]);f!=null&&p(e,["codeExecution"],f);const g=h(t,["computerUse"]);return g!=null&&p(e,["computerUse"],g),e}function CY(t){const e={},n=h(t,["handle"]);n!=null&&p(e,["handle"],n);const r=h(t,["transparent"]);return r!=null&&p(e,["transparent"],r),e}function TO(){return{}}function AY(t){const e={},n=h(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=h(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=h(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const o=h(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const s=h(t,["silenceDurationMs"]);return s!=null&&p(e,["silenceDurationMs"],s),e}function PY(t){const e={},n=h(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],AY(n));const r=h(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=h(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function EY(t){const e={},n=h(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function MY(t){const e={},n=h(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=h(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],EY(r)),e}function IY(t){const e={},n=h(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function OY(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=h(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const c=h(t,["topK"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topK"],c);const d=h(t,["maxOutputTokens"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","maxOutputTokens"],d);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","mediaResolution"],f);const g=h(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","speechConfig"],lY(Cb(y)));const _=h(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=h(t,["systemInstruction"]);e!==void 0&&b!=null&&p(e,["setup","systemInstruction"],hY(In(b)));const P=h(t,["tools"]);if(e!==void 0&&P!=null){let I=ou(P);Array.isArray(I)&&(I=I.map(D=>TY(iu(D)))),p(e,["setup","tools"],I)}const C=h(t,["sessionResumption"]);e!==void 0&&C!=null&&p(e,["setup","sessionResumption"],CY(C));const A=h(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&p(e,["setup","inputAudioTranscription"],TO());const R=h(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&p(e,["setup","outputAudioTranscription"],TO());const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&p(e,["setup","realtimeInputConfig"],PY(N));const k=h(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],MY(k));const $=h(t,["proactivity"]);return e!==void 0&&$!=null&&p(e,["setup","proactivity"],IY($)),n}function kY(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["setup","model"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],OY(i,n)),n}function NY(){return{}}function RY(){return{}}function LY(t){const e={},n=h(t,["media"]);n!=null&&p(e,["mediaChunks"],E5(n));const r=h(t,["audio"]);r!=null&&p(e,["audio"],I5(r));const i=h(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=h(t,["video"]);o!=null&&p(e,["video"],M5(o));const s=h(t,["text"]);return s!=null&&p(e,["text"],s),h(t,["activityStart"])!=null&&p(e,["activityStart"],NY()),h(t,["activityEnd"])!=null&&p(e,["activityEnd"],RY()),e}function DY(){return{}}function $Y(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function FY(t){const e={},n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function BY(t){const e={},n=h(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function qY(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],$Y(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],FY(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],BY(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function UY(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qY(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function CO(t){const e={},n=h(t,["text"]);n!=null&&p(e,["text"],n);const r=h(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function jY(t){const e={},n=h(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=h(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function zY(t){const e={},n=h(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jY(i))),p(e,["urlMetadata"],r)}return e}function VY(t){const e={},n=h(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],UY(n));const r=h(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const i=h(t,["interrupted"]);i!=null&&p(e,["interrupted"],i);const o=h(t,["groundingMetadata"]);o!=null&&p(e,["groundingMetadata"],o);const s=h(t,["generationComplete"]);s!=null&&p(e,["generationComplete"],s);const c=h(t,["inputTranscription"]);c!=null&&p(e,["inputTranscription"],CO(c));const d=h(t,["outputTranscription"]);d!=null&&p(e,["outputTranscription"],CO(d));const f=h(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],zY(f)),e}function HY(t){const e={},n=h(t,["id"]);n!=null&&p(e,["id"],n);const r=h(t,["args"]);r!=null&&p(e,["args"],r);const i=h(t,["name"]);return i!=null&&p(e,["name"],i),e}function GY(t){const e={},n=h(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>HY(i))),p(e,["functionCalls"],r)}return e}function WY(t){const e={},n=h(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function eh(t){const e={},n=h(t,["modality"]);n!=null&&p(e,["modality"],n);const r=h(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function KY(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=h(t,["responseTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=h(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const s=h(t,["thoughtsTokenCount"]);s!=null&&p(e,["thoughtsTokenCount"],s);const c=h(t,["totalTokenCount"]);c!=null&&p(e,["totalTokenCount"],c);const d=h(t,["promptTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(b=>eh(b))),p(e,["promptTokensDetails"],_)}const f=h(t,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(b=>eh(b))),p(e,["cacheTokensDetails"],_)}const g=h(t,["responseTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(b=>eh(b))),p(e,["responseTokensDetails"],_)}const y=h(t,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(b=>eh(b))),p(e,["toolUsePromptTokensDetails"],_)}return e}function ZY(t){const e={},n=h(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function JY(t){const e={},n=h(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=h(t,["resumable"]);r!=null&&p(e,["resumable"],r);const i=h(t,["lastConsumedClientMessageIndex"]);return i!=null&&p(e,["lastConsumedClientMessageIndex"],i),e}function YY(t){const e={};h(t,["setupComplete"])!=null&&p(e,["setupComplete"],DY());const r=h(t,["serverContent"]);r!=null&&p(e,["serverContent"],VY(r));const i=h(t,["toolCall"]);i!=null&&p(e,["toolCall"],GY(i));const o=h(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],WY(o));const s=h(t,["usageMetadata"]);s!=null&&p(e,["usageMetadata"],KY(s));const c=h(t,["goAway"]);c!=null&&p(e,["goAway"],ZY(c));const d=h(t,["sessionResumptionUpdate"]);return d!=null&&p(e,["sessionResumptionUpdate"],JY(d)),e}function XY(){return{}}function QY(t){const e={},n=h(t,["text"]);n!=null&&p(e,["text"],n);const r=h(t,["weight"]);return r!=null&&p(e,["weight"],r),e}function eX(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>QY(i))),p(e,["weightedPrompts"],r)}return e}function tX(t){const e={},n=h(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=h(t,["topK"]);r!=null&&p(e,["topK"],r);const i=h(t,["seed"]);i!=null&&p(e,["seed"],i);const o=h(t,["guidance"]);o!=null&&p(e,["guidance"],o);const s=h(t,["bpm"]);s!=null&&p(e,["bpm"],s);const c=h(t,["density"]);c!=null&&p(e,["density"],c);const d=h(t,["brightness"]);d!=null&&p(e,["brightness"],d);const f=h(t,["scale"]);f!=null&&p(e,["scale"],f);const g=h(t,["muteBass"]);g!=null&&p(e,["muteBass"],g);const y=h(t,["muteDrums"]);y!=null&&p(e,["muteDrums"],y);const _=h(t,["onlyBassAndDrums"]);_!=null&&p(e,["onlyBassAndDrums"],_);const b=h(t,["musicGenerationMode"]);return b!=null&&p(e,["musicGenerationMode"],b),e}function nX(t){const e={},n=h(t,["clientContent"]);n!=null&&p(e,["clientContent"],eX(n));const r=h(t,["musicGenerationConfig"]);return r!=null&&p(e,["musicGenerationConfig"],tX(r)),e}function rX(t){const e={},n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);r!=null&&p(e,["mimeType"],r);const i=h(t,["sourceMetadata"]);return i!=null&&p(e,["sourceMetadata"],nX(i)),e}function iX(t){const e={},n=h(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rX(i))),p(e,["audioChunks"],r)}return e}function oX(t){const e={},n=h(t,["text"]);n!=null&&p(e,["text"],n);const r=h(t,["filteredReason"]);return r!=null&&p(e,["filteredReason"],r),e}function aX(t){const e={};h(t,["setupComplete"])!=null&&p(e,["setupComplete"],XY());const r=h(t,["serverContent"]);r!=null&&p(e,["serverContent"],iX(r));const i=h(t,["filteredPrompt"]);return i!=null&&p(e,["filteredPrompt"],oX(i)),e}function sX(t){const e={},n=h(t,["sessionId"]);return n!=null&&p(e,["sessionId"],n),e}function lX(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function uX(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["data"]);r!=null&&p(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function cX(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function fX(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],lX(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],uX(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],cX(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function dX(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fX(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function AO(t){const e={},n=h(t,["text"]);n!=null&&p(e,["text"],n);const r=h(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function hX(t){const e={},n=h(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],dX(n));const r=h(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const i=h(t,["interrupted"]);i!=null&&p(e,["interrupted"],i);const o=h(t,["groundingMetadata"]);o!=null&&p(e,["groundingMetadata"],o);const s=h(t,["generationComplete"]);s!=null&&p(e,["generationComplete"],s);const c=h(t,["inputTranscription"]);c!=null&&p(e,["inputTranscription"],AO(c));const d=h(t,["outputTranscription"]);return d!=null&&p(e,["outputTranscription"],AO(d)),e}function pX(t){const e={},n=h(t,["args"]);n!=null&&p(e,["args"],n);const r=h(t,["name"]);return r!=null&&p(e,["name"],r),e}function mX(t){const e={},n=h(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pX(i))),p(e,["functionCalls"],r)}return e}function gX(t){const e={},n=h(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function th(t){const e={},n=h(t,["modality"]);n!=null&&p(e,["modality"],n);const r=h(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function vX(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=h(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=h(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const s=h(t,["thoughtsTokenCount"]);s!=null&&p(e,["thoughtsTokenCount"],s);const c=h(t,["totalTokenCount"]);c!=null&&p(e,["totalTokenCount"],c);const d=h(t,["promptTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(P=>th(P))),p(e,["promptTokensDetails"],b)}const f=h(t,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(P=>th(P))),p(e,["cacheTokensDetails"],b)}const g=h(t,["candidatesTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(P=>th(P))),p(e,["responseTokensDetails"],b)}const y=h(t,["toolUsePromptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(P=>th(P))),p(e,["toolUsePromptTokensDetails"],b)}const _=h(t,["trafficType"]);return _!=null&&p(e,["trafficType"],_),e}function yX(t){const e={},n=h(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function _X(t){const e={},n=h(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=h(t,["resumable"]);r!=null&&p(e,["resumable"],r);const i=h(t,["lastConsumedClientMessageIndex"]);return i!=null&&p(e,["lastConsumedClientMessageIndex"],i),e}function xX(t){const e={},n=h(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],sX(n));const r=h(t,["serverContent"]);r!=null&&p(e,["serverContent"],hX(r));const i=h(t,["toolCall"]);i!=null&&p(e,["toolCall"],mX(i));const o=h(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],gX(o));const s=h(t,["usageMetadata"]);s!=null&&p(e,["usageMetadata"],vX(s));const c=h(t,["goAway"]);c!=null&&p(e,["goAway"],yX(c));const d=h(t,["sessionResumptionUpdate"]);return d!=null&&p(e,["sessionResumptionUpdate"],_X(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wX(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function bX(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function SX(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function TX(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],wX(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],bX(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],SX(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function Yp(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TX(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function CX(t){const e={},n=h(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=h(t,["default"]);r!=null&&p(e,["default"],r);const i=h(t,["description"]);i!=null&&p(e,["description"],i);const o=h(t,["enum"]);o!=null&&p(e,["enum"],o);const s=h(t,["example"]);s!=null&&p(e,["example"],s);const c=h(t,["format"]);c!=null&&p(e,["format"],c);const d=h(t,["items"]);d!=null&&p(e,["items"],d);const f=h(t,["maxItems"]);f!=null&&p(e,["maxItems"],f);const g=h(t,["maxLength"]);g!=null&&p(e,["maxLength"],g);const y=h(t,["maxProperties"]);y!=null&&p(e,["maxProperties"],y);const _=h(t,["maximum"]);_!=null&&p(e,["maximum"],_);const b=h(t,["minItems"]);b!=null&&p(e,["minItems"],b);const P=h(t,["minLength"]);P!=null&&p(e,["minLength"],P);const C=h(t,["minProperties"]);C!=null&&p(e,["minProperties"],C);const A=h(t,["minimum"]);A!=null&&p(e,["minimum"],A);const R=h(t,["nullable"]);R!=null&&p(e,["nullable"],R);const N=h(t,["pattern"]);N!=null&&p(e,["pattern"],N);const k=h(t,["properties"]);k!=null&&p(e,["properties"],k);const $=h(t,["propertyOrdering"]);$!=null&&p(e,["propertyOrdering"],$);const I=h(t,["required"]);I!=null&&p(e,["required"],I);const D=h(t,["title"]);D!=null&&p(e,["title"],D);const F=h(t,["type"]);return F!=null&&p(e,["type"],F),e}function AX(t){const e={};if(h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=h(t,["category"]);n!=null&&p(e,["category"],n);const r=h(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function PX(t){const e={},n=h(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=h(t,["description"]);r!=null&&p(e,["description"],r);const i=h(t,["name"]);i!=null&&p(e,["name"],i);const o=h(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=h(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const c=h(t,["response"]);c!=null&&p(e,["response"],c);const d=h(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function EX(t){const e={},n=h(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function MX(t){const e={},n=h(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],EX(n)),e}function IX(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function OX(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],IX(n)),e}function kX(){return{}}function NX(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>PX(f))),p(e,["functionDeclarations"],d)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],MX(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],OX(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&p(e,["urlContext"],kX());const s=h(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const c=h(t,["computerUse"]);return c!=null&&p(e,["computerUse"],c),e}function RX(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function LX(t){const e={},n=h(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function DX(t){const e={},n=h(t,["latLng"]);n!=null&&p(e,["latLng"],LX(n));const r=h(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function $X(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],RX(n));const r=h(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],DX(r)),e}function FX(t){const e={},n=h(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function Z5(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],FX(n)),e}function BX(t){const e={},n=h(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=h(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],Z5(r)),e}function qX(t){const e={},n=h(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BX(i))),p(e,["speakerVoiceConfigs"],r)}return e}function UX(t){const e={},n=h(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],Z5(n));const r=h(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],qX(r));const i=h(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function jX(t){const e={},n=h(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=h(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function zX(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Yp(In(i)));const o=h(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=h(e,["topP"]);s!=null&&p(r,["topP"],s);const c=h(e,["topK"]);c!=null&&p(r,["topK"],c);const d=h(e,["candidateCount"]);d!=null&&p(r,["candidateCount"],d);const f=h(e,["maxOutputTokens"]);f!=null&&p(r,["maxOutputTokens"],f);const g=h(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const y=h(e,["responseLogprobs"]);y!=null&&p(r,["responseLogprobs"],y);const _=h(e,["logprobs"]);_!=null&&p(r,["logprobs"],_);const b=h(e,["presencePenalty"]);b!=null&&p(r,["presencePenalty"],b);const P=h(e,["frequencyPenalty"]);P!=null&&p(r,["frequencyPenalty"],P);const C=h(e,["seed"]);C!=null&&p(r,["seed"],C);const A=h(e,["responseMimeType"]);A!=null&&p(r,["responseMimeType"],A);const R=h(e,["responseSchema"]);R!=null&&p(r,["responseSchema"],CX(Sb(R)));const N=h(e,["responseJsonSchema"]);if(N!=null&&p(r,["responseJsonSchema"],N),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=h(e,["safetySettings"]);if(n!==void 0&&k!=null){let j=k;Array.isArray(j)&&(j=j.map(K=>AX(K))),p(n,["safetySettings"],j)}const $=h(e,["tools"]);if(n!==void 0&&$!=null){let j=ou($);Array.isArray(j)&&(j=j.map(K=>NX(iu(K)))),p(n,["tools"],j)}const I=h(e,["toolConfig"]);if(n!==void 0&&I!=null&&p(n,["toolConfig"],$X(I)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=h(e,["cachedContent"]);n!==void 0&&D!=null&&p(n,["cachedContent"],ho(t,D));const F=h(e,["responseModalities"]);F!=null&&p(r,["responseModalities"],F);const U=h(e,["mediaResolution"]);U!=null&&p(r,["mediaResolution"],U);const z=h(e,["speechConfig"]);if(z!=null&&p(r,["speechConfig"],UX(Tb(z))),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=h(e,["thinkingConfig"]);return G!=null&&p(r,["thinkingConfig"],jX(G)),r}function PO(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(c=>Yp(c))),p(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&p(n,["generationConfig"],zX(t,o,n)),n}function VX(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=h(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function HX(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["contents"]);i!=null&&p(n,["requests[]","content"],k5(t,i));const o=h(e,["config"]);o!=null&&p(n,["config"],VX(o,n));const s=h(e,["model"]);return s!==void 0&&p(n,["requests[]","model"],St(t,s)),n}function GX(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=h(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=h(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=h(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=h(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&p(e,["parameters","includeRaiReason"],f);const g=h(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const _=h(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&p(e,["parameters","outputOptions","compressionQuality"],_),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const b=h(t,["imageSize"]);if(e!==void 0&&b!=null&&p(e,["parameters","sampleImageSize"],b),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function WX(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&p(n,["config"],GX(o,n)),n}function KX(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","name"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function ZX(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=h(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const s=h(e,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const c=h(e,["queryBase"]);return n!==void 0&&c!=null&&p(n,["_url","models_url"],L5(t,c)),r}function JX(t,e){const n={},r=h(e,["config"]);return r!=null&&p(n,["config"],ZX(t,r,n)),n}function YX(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=h(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function XX(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","name"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],YX(i,n)),n}function QX(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","name"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function eQ(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function tQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(c=>Yp(c))),p(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&p(n,["config"],eQ(o)),n}function nQ(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],us(n));const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function rQ(t,e){const n={},r=h(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=h(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=h(t,["aspectRatio"]);if(e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o),h(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const s=h(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=h(t,["negativePrompt"]);e!==void 0&&c!=null&&p(e,["parameters","negativePrompt"],c);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&p(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(h(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function iQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=h(e,["image"]);if(o!=null&&p(n,["instances[0]","image"],nQ(o)),h(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=h(e,["config"]);return s!=null&&p(n,["config"],rQ(s,n)),n}function oQ(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function aQ(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["data"]);r!=null&&p(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function sQ(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function lQ(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],oQ(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],aQ(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],sQ(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function su(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lQ(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function uQ(t){const e={},n=h(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=h(t,["default"]);r!=null&&p(e,["default"],r);const i=h(t,["description"]);i!=null&&p(e,["description"],i);const o=h(t,["enum"]);o!=null&&p(e,["enum"],o);const s=h(t,["example"]);s!=null&&p(e,["example"],s);const c=h(t,["format"]);c!=null&&p(e,["format"],c);const d=h(t,["items"]);d!=null&&p(e,["items"],d);const f=h(t,["maxItems"]);f!=null&&p(e,["maxItems"],f);const g=h(t,["maxLength"]);g!=null&&p(e,["maxLength"],g);const y=h(t,["maxProperties"]);y!=null&&p(e,["maxProperties"],y);const _=h(t,["maximum"]);_!=null&&p(e,["maximum"],_);const b=h(t,["minItems"]);b!=null&&p(e,["minItems"],b);const P=h(t,["minLength"]);P!=null&&p(e,["minLength"],P);const C=h(t,["minProperties"]);C!=null&&p(e,["minProperties"],C);const A=h(t,["minimum"]);A!=null&&p(e,["minimum"],A);const R=h(t,["nullable"]);R!=null&&p(e,["nullable"],R);const N=h(t,["pattern"]);N!=null&&p(e,["pattern"],N);const k=h(t,["properties"]);k!=null&&p(e,["properties"],k);const $=h(t,["propertyOrdering"]);$!=null&&p(e,["propertyOrdering"],$);const I=h(t,["required"]);I!=null&&p(e,["required"],I);const D=h(t,["title"]);D!=null&&p(e,["title"],D);const F=h(t,["type"]);return F!=null&&p(e,["type"],F),e}function cQ(t){const e={},n=h(t,["featureSelectionPreference"]);return n!=null&&p(e,["featureSelectionPreference"],n),e}function fQ(t){const e={},n=h(t,["method"]);n!=null&&p(e,["method"],n);const r=h(t,["category"]);r!=null&&p(e,["category"],r);const i=h(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function dQ(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&p(e,["description"],n);const r=h(t,["name"]);r!=null&&p(e,["name"],r);const i=h(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=h(t,["response"]);s!=null&&p(e,["response"],s);const c=h(t,["responseJsonSchema"]);return c!=null&&p(e,["responseJsonSchema"],c),e}function hQ(t){const e={},n=h(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function pQ(t){const e={},n=h(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],hQ(n)),e}function mQ(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function gQ(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],mQ(n)),e}function vQ(){return{}}function yQ(t){const e={},n=h(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function _Q(t){const e={},n=h(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],yQ(n));const r=h(t,["authType"]);r!=null&&p(e,["authType"],r);const i=h(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const o=h(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const s=h(t,["oauthConfig"]);s!=null&&p(e,["oauthConfig"],s);const c=h(t,["oidcConfig"]);return c!=null&&p(e,["oidcConfig"],c),e}function xQ(t){const e={},n=h(t,["authConfig"]);return n!=null&&p(e,["authConfig"],_Q(n)),e}function wQ(){return{}}function J5(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>dQ(_))),p(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=h(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],pQ(i));const o=h(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],gQ(o)),h(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],vQ());const c=h(t,["googleMaps"]);c!=null&&p(e,["googleMaps"],xQ(c)),h(t,["urlContext"])!=null&&p(e,["urlContext"],wQ());const f=h(t,["codeExecution"]);f!=null&&p(e,["codeExecution"],f);const g=h(t,["computerUse"]);return g!=null&&p(e,["computerUse"],g),e}function bQ(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function SQ(t){const e={},n=h(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function TQ(t){const e={},n=h(t,["latLng"]);n!=null&&p(e,["latLng"],SQ(n));const r=h(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function CQ(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],bQ(n));const r=h(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],TQ(r)),e}function AQ(t){const e={},n=h(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function PQ(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],AQ(n)),e}function EQ(t){const e={},n=h(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],PQ(n)),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=h(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function MQ(t){const e={},n=h(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=h(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function IQ(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],su(In(i)));const o=h(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=h(e,["topP"]);s!=null&&p(r,["topP"],s);const c=h(e,["topK"]);c!=null&&p(r,["topK"],c);const d=h(e,["candidateCount"]);d!=null&&p(r,["candidateCount"],d);const f=h(e,["maxOutputTokens"]);f!=null&&p(r,["maxOutputTokens"],f);const g=h(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const y=h(e,["responseLogprobs"]);y!=null&&p(r,["responseLogprobs"],y);const _=h(e,["logprobs"]);_!=null&&p(r,["logprobs"],_);const b=h(e,["presencePenalty"]);b!=null&&p(r,["presencePenalty"],b);const P=h(e,["frequencyPenalty"]);P!=null&&p(r,["frequencyPenalty"],P);const C=h(e,["seed"]);C!=null&&p(r,["seed"],C);const A=h(e,["responseMimeType"]);A!=null&&p(r,["responseMimeType"],A);const R=h(e,["responseSchema"]);R!=null&&p(r,["responseSchema"],uQ(Sb(R)));const N=h(e,["responseJsonSchema"]);N!=null&&p(r,["responseJsonSchema"],N);const k=h(e,["routingConfig"]);k!=null&&p(r,["routingConfig"],k);const $=h(e,["modelSelectionConfig"]);$!=null&&p(r,["modelConfig"],cQ($));const I=h(e,["safetySettings"]);if(n!==void 0&&I!=null){let ie=I;Array.isArray(ie)&&(ie=ie.map(ae=>fQ(ae))),p(n,["safetySettings"],ie)}const D=h(e,["tools"]);if(n!==void 0&&D!=null){let ie=ou(D);Array.isArray(ie)&&(ie=ie.map(ae=>J5(iu(ae)))),p(n,["tools"],ie)}const F=h(e,["toolConfig"]);n!==void 0&&F!=null&&p(n,["toolConfig"],CQ(F));const U=h(e,["labels"]);n!==void 0&&U!=null&&p(n,["labels"],U);const z=h(e,["cachedContent"]);n!==void 0&&z!=null&&p(n,["cachedContent"],ho(t,z));const G=h(e,["responseModalities"]);G!=null&&p(r,["responseModalities"],G);const j=h(e,["mediaResolution"]);j!=null&&p(r,["mediaResolution"],j);const K=h(e,["speechConfig"]);K!=null&&p(r,["speechConfig"],EQ(Tb(K)));const Q=h(e,["audioTimestamp"]);Q!=null&&p(r,["audioTimestamp"],Q);const re=h(e,["thinkingConfig"]);return re!=null&&p(r,["thinkingConfig"],MQ(re)),r}function EO(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(c=>su(c))),p(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&p(n,["generationConfig"],IQ(t,o,n)),n}function OQ(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=h(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const s=h(t,["mimeType"]);e!==void 0&&s!=null&&p(e,["instances[]","mimeType"],s);const c=h(t,["autoTruncate"]);return e!==void 0&&c!=null&&p(e,["parameters","autoTruncate"],c),n}function kQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["contents"]);i!=null&&p(n,["instances[]","content"],k5(t,i));const o=h(e,["config"]);return o!=null&&p(n,["config"],OQ(o,n)),n}function NQ(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const s=h(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const c=h(t,["guidanceScale"]);e!==void 0&&c!=null&&p(e,["parameters","guidanceScale"],c);const d=h(t,["seed"]);e!==void 0&&d!=null&&p(e,["parameters","seed"],d);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&p(e,["parameters","safetySetting"],f);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&p(e,["parameters","includeSafetyAttributes"],y);const _=h(t,["includeRaiReason"]);e!==void 0&&_!=null&&p(e,["parameters","includeRaiReason"],_);const b=h(t,["language"]);e!==void 0&&b!=null&&p(e,["parameters","language"],b);const P=h(t,["outputMimeType"]);e!==void 0&&P!=null&&p(e,["parameters","outputOptions","mimeType"],P);const C=h(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&p(e,["parameters","outputOptions","compressionQuality"],C);const A=h(t,["addWatermark"]);e!==void 0&&A!=null&&p(e,["parameters","addWatermark"],A);const R=h(t,["imageSize"]);e!==void 0&&R!=null&&p(e,["parameters","sampleImageSize"],R);const N=h(t,["enhancePrompt"]);return e!==void 0&&N!=null&&p(e,["parameters","enhancePrompt"],N),n}function RQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&p(n,["config"],NQ(o,n)),n}function lu(t){const e={},n=h(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=h(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],us(r));const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function LQ(t){const e={},n=h(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=h(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=h(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function DQ(t){const e={},n=h(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=h(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function $Q(t){const e={},n=h(t,["styleDescription"]);return n!=null&&p(e,["styleDescription"],n),e}function FQ(t){const e={},n=h(t,["subjectType"]);n!=null&&p(e,["subjectType"],n);const r=h(t,["subjectDescription"]);return r!=null&&p(e,["subjectDescription"],r),e}function BQ(t){const e={},n=h(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],lu(n));const r=h(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=h(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=h(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],LQ(o));const s=h(t,["controlImageConfig"]);s!=null&&p(e,["controlImageConfig"],DQ(s));const c=h(t,["styleImageConfig"]);c!=null&&p(e,["styleImageConfig"],$Q(c));const d=h(t,["subjectImageConfig"]);return d!=null&&p(e,["subjectImageConfig"],FQ(d)),e}function qQ(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const s=h(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const c=h(t,["guidanceScale"]);e!==void 0&&c!=null&&p(e,["parameters","guidanceScale"],c);const d=h(t,["seed"]);e!==void 0&&d!=null&&p(e,["parameters","seed"],d);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&p(e,["parameters","safetySetting"],f);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&p(e,["parameters","includeSafetyAttributes"],y);const _=h(t,["includeRaiReason"]);e!==void 0&&_!=null&&p(e,["parameters","includeRaiReason"],_);const b=h(t,["language"]);e!==void 0&&b!=null&&p(e,["parameters","language"],b);const P=h(t,["outputMimeType"]);e!==void 0&&P!=null&&p(e,["parameters","outputOptions","mimeType"],P);const C=h(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&p(e,["parameters","outputOptions","compressionQuality"],C);const A=h(t,["addWatermark"]);e!==void 0&&A!=null&&p(e,["parameters","addWatermark"],A);const R=h(t,["editMode"]);e!==void 0&&R!=null&&p(e,["parameters","editMode"],R);const N=h(t,["baseSteps"]);return e!==void 0&&N!=null&&p(e,["parameters","editConfig","baseSteps"],N),n}function UQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=h(e,["referenceImages"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>BQ(d))),p(n,["instances[0]","referenceImages"],c)}const s=h(e,["config"]);return s!=null&&p(n,["config"],qQ(s,n)),n}function jQ(t,e){const n={},r=h(t,["includeRaiReason"]);e!==void 0&&r!=null&&p(e,["parameters","includeRaiReason"],r);const i=h(t,["outputMimeType"]);e!==void 0&&i!=null&&p(e,["parameters","outputOptions","mimeType"],i);const o=h(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&p(e,["parameters","outputOptions","compressionQuality"],o);const s=h(t,["enhanceInputImage"]);e!==void 0&&s!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],s);const c=h(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=h(t,["numberOfImages"]);e!==void 0&&d!=null&&p(e,["parameters","sampleCount"],d);const f=h(t,["mode"]);return e!==void 0&&f!=null&&p(e,["parameters","mode"],f),n}function zQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["image"]);i!=null&&p(n,["instances[0]","image"],lu(i));const o=h(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=h(e,["config"]);return s!=null&&p(n,["config"],jQ(s,n)),n}function VQ(t){const e={},n=h(t,["productImage"]);return n!=null&&p(e,["image"],lu(n)),e}function HQ(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=h(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],lu(i));const o=h(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>VQ(c))),p(e,["instances[0]","productImages"],s)}return n}function GQ(t,e){const n={},r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=h(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","editConfig","baseSteps"],i);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const s=h(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const c=h(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&p(e,["parameters","safetySetting"],c);const d=h(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const f=h(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const g=h(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","compressionQuality"],g);const y=h(t,["enhancePrompt"]);return e!==void 0&&y!=null&&p(e,["parameters","enhancePrompt"],y),n}function WQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["source"]);i!=null&&p(n,["config"],HQ(i,n));const o=h(e,["config"]);return o!=null&&p(n,["config"],GQ(o,n)),n}function KQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","name"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function ZQ(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=h(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const s=h(e,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const c=h(e,["queryBase"]);return n!==void 0&&c!=null&&p(n,["_url","models_url"],L5(t,c)),r}function JQ(t,e){const n={},r=h(e,["config"]);return r!=null&&p(n,["config"],ZQ(t,r,n)),n}function YQ(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=h(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function XQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],YQ(i,n)),n}function QQ(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","name"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],i),n}function eee(t,e){const n={},r=h(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],su(In(r)));const i=h(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>J5(c))),p(e,["tools"],s)}const o=h(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],o),n}function tee(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(c=>su(c))),p(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&p(n,["config"],eee(o,n)),n}function nee(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(c=>su(c))),p(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&p(n,["config"],o),n}function ree(t){const e={},n=h(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=h(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],us(r));const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function iee(t,e){const n={},r=h(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=h(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const s=h(t,["durationSeconds"]);e!==void 0&&s!=null&&p(e,["parameters","durationSeconds"],s);const c=h(t,["seed"]);e!==void 0&&c!=null&&p(e,["parameters","seed"],c);const d=h(t,["aspectRatio"]);e!==void 0&&d!=null&&p(e,["parameters","aspectRatio"],d);const f=h(t,["resolution"]);e!==void 0&&f!=null&&p(e,["parameters","resolution"],f);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const y=h(t,["pubsubTopic"]);e!==void 0&&y!=null&&p(e,["parameters","pubsubTopic"],y);const _=h(t,["negativePrompt"]);e!==void 0&&_!=null&&p(e,["parameters","negativePrompt"],_);const b=h(t,["enhancePrompt"]);e!==void 0&&b!=null&&p(e,["parameters","enhancePrompt"],b);const P=h(t,["generateAudio"]);e!==void 0&&P!=null&&p(e,["parameters","generateAudio"],P);const C=h(t,["lastFrame"]);e!==void 0&&C!=null&&p(e,["instances[0]","lastFrame"],lu(C));const A=h(t,["compressionQuality"]);return e!==void 0&&A!=null&&p(e,["parameters","compressionQuality"],A),n}function oee(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["_url","model"],St(t,r));const i=h(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&p(n,["instances[0]","image"],lu(o));const s=h(e,["video"]);s!=null&&p(n,["instances[0]","video"],ree(s));const c=h(e,["config"]);return c!=null&&p(n,["config"],iee(c,n)),n}function aee(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function see(t){const e={},n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function lee(t){const e={},n=h(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function uee(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],aee(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],see(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],lee(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function cee(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uee(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function fee(t){const e={},n=h(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function dee(t){const e={},n=h(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=h(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function hee(t){const e={},n=h(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dee(i))),p(e,["urlMetadata"],r)}return e}function pee(t){const e={},n=h(t,["content"]);n!=null&&p(e,["content"],cee(n));const r=h(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],fee(r));const i=h(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=h(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=h(t,["urlContextMetadata"]);s!=null&&p(e,["urlContextMetadata"],hee(s));const c=h(t,["avgLogprobs"]);c!=null&&p(e,["avgLogprobs"],c);const d=h(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const f=h(t,["index"]);f!=null&&p(e,["index"],f);const g=h(t,["logprobsResult"]);g!=null&&p(e,["logprobsResult"],g);const y=h(t,["safetyRatings"]);return y!=null&&p(e,["safetyRatings"],y),e}function MO(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>pee(f))),p(e,["candidates"],d)}const i=h(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=h(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=h(t,["responseId"]);s!=null&&p(e,["responseId"],s);const c=h(t,["usageMetadata"]);return c!=null&&p(e,["usageMetadata"],c),e}function mee(t){const e={},n=h(t,["values"]);return n!=null&&p(e,["values"],n),e}function gee(){return{}}function vee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>mee(s))),p(e,["embeddings"],o)}return h(t,["metadata"])!=null&&p(e,["metadata"],gee()),e}function yee(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],us(n));const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Y5(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function _ee(t){const e={},n=h(t,["_self"]);n!=null&&p(e,["image"],yee(n));const r=h(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=h(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],Y5(i)),e}function xee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>_ee(s))),p(e,["generatedImages"],o)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Y5(i)),e}function wee(t){const e={},n=h(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function dw(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=h(t,["description"]);i!=null&&p(e,["description"],i);const o=h(t,["version"]);o!=null&&p(e,["version"],o);const s=h(t,["_self"]);s!=null&&p(e,["tunedModelInfo"],wee(s));const c=h(t,["inputTokenLimit"]);c!=null&&p(e,["inputTokenLimit"],c);const d=h(t,["outputTokenLimit"]);d!=null&&p(e,["outputTokenLimit"],d);const f=h(t,["supportedGenerationMethods"]);return f!=null&&p(e,["supportedActions"],f),e}function bee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let o=D5(i);Array.isArray(o)&&(o=o.map(s=>dw(s))),p(e,["models"],o)}return e}function See(){return{}}function Tee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=h(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function Cee(t){const e={},n=h(t,["video","uri"]);n!=null&&p(e,["uri"],n);const r=h(t,["video","encodedVideo"]);r!=null&&p(e,["videoBytes"],us(r));const i=h(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Aee(t){const e={},n=h(t,["_self"]);return n!=null&&p(e,["video"],Cee(n)),e}function Pee(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Aee(s))),p(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Eee(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=h(t,["done"]);i!=null&&p(e,["done"],i);const o=h(t,["error"]);o!=null&&p(e,["error"],o);const s=h(t,["response","generateVideoResponse"]);return s!=null&&p(e,["response"],Pee(s)),e}function Mee(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function Iee(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["data"]);r!=null&&p(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Oee(t){const e={},n=h(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function kee(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],Mee(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],Iee(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],Oee(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function Nee(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kee(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function Ree(t){const e={},n=h(t,["citations"]);return n!=null&&p(e,["citations"],n),e}function Lee(t){const e={},n=h(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=h(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function Dee(t){const e={},n=h(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Lee(i))),p(e,["urlMetadata"],r)}return e}function $ee(t){const e={},n=h(t,["content"]);n!=null&&p(e,["content"],Nee(n));const r=h(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Ree(r));const i=h(t,["finishMessage"]);i!=null&&p(e,["finishMessage"],i);const o=h(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=h(t,["urlContextMetadata"]);s!=null&&p(e,["urlContextMetadata"],Dee(s));const c=h(t,["avgLogprobs"]);c!=null&&p(e,["avgLogprobs"],c);const d=h(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const f=h(t,["index"]);f!=null&&p(e,["index"],f);const g=h(t,["logprobsResult"]);g!=null&&p(e,["logprobsResult"],g);const y=h(t,["safetyRatings"]);return y!=null&&p(e,["safetyRatings"],y),e}function IO(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>$ee(g))),p(e,["candidates"],f)}const i=h(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=h(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=h(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const c=h(t,["responseId"]);c!=null&&p(e,["responseId"],c);const d=h(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function Fee(t){const e={},n=h(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=h(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Bee(t){const e={},n=h(t,["values"]);n!=null&&p(e,["values"],n);const r=h(t,["statistics"]);return r!=null&&p(e,["statistics"],Fee(r)),e}function qee(t){const e={},n=h(t,["billableCharacterCount"]);return n!=null&&p(e,["billableCharacterCount"],n),e}function Uee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Bee(s))),p(e,["embeddings"],o)}const i=h(t,["metadata"]);return i!=null&&p(e,["metadata"],qee(i)),e}function jee(t){const e={},n=h(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],us(r));const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function X5(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Xp(t){const e={},n=h(t,["_self"]);n!=null&&p(e,["image"],jee(n));const r=h(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=h(t,["_self"]);i!=null&&p(e,["safetyAttributes"],X5(i));const o=h(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function zee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Xp(s))),p(e,["generatedImages"],o)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],X5(i)),e}function Vee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Xp(o))),p(e,["generatedImages"],i)}return e}function Hee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Xp(o))),p(e,["generatedImages"],i)}return e}function Gee(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xp(i))),p(e,["generatedImages"],r)}return e}function Wee(t){const e={},n=h(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=h(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function Kee(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Zee(t){const e={},n=h(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=h(t,["epoch"]);r!=null&&p(e,["epoch"],r);const i=h(t,["step"]);return i!=null&&p(e,["step"],i),e}function hw(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=h(t,["description"]);i!=null&&p(e,["description"],i);const o=h(t,["versionId"]);o!=null&&p(e,["version"],o);const s=h(t,["deployedModels"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(_=>Wee(_))),p(e,["endpoints"],y)}const c=h(t,["labels"]);c!=null&&p(e,["labels"],c);const d=h(t,["_self"]);d!=null&&p(e,["tunedModelInfo"],Kee(d));const f=h(t,["defaultCheckpointId"]);f!=null&&p(e,["defaultCheckpointId"],f);const g=h(t,["checkpoints"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>Zee(_))),p(e,["checkpoints"],y)}return e}function Jee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let o=D5(i);Array.isArray(o)&&(o=o.map(s=>hw(s))),p(e,["models"],o)}return e}function Yee(){return{}}function Xee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function Qee(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["tokensInfo"]);return r!=null&&p(e,["tokensInfo"],r),e}function ete(t){const e={},n=h(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],us(r));const i=h(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function tte(t){const e={},n=h(t,["_self"]);return n!=null&&p(e,["video"],ete(n)),e}function nte(t){const e={},n=h(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>tte(s))),p(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function rte(t){const e={},n=h(t,["name"]);n!=null&&p(e,["name"],n);const r=h(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=h(t,["done"]);i!=null&&p(e,["done"],i);const o=h(t,["error"]);o!=null&&p(e,["error"],o);const s=h(t,["response"]);return s!=null&&p(e,["response"],nte(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ite="Content-Type",ote="X-Server-Timeout",ate="User-Agent",pw="x-goog-api-client",ste="1.13.0",lte=`google-genai-sdk/${ste}`,ute="v1beta1",cte="v1beta",OO=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class fte{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ute,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:cte,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,c]of Object.entries(e.queryParams))i.searchParams.append(s,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>i.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&dte(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await kO(i),new aw(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await kO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return ml(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:c,value:d}=yield $t(i.read());if(c){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const _=JSON.parse(JSON.stringify(y.error)),b=_.status,P=_.code,C=`got status: ${b}. ${JSON.stringify(y)}`;if(P>=400&&P<600)throw new Jp({message:C,status:P})}}catch(y){if(y.name==="ApiError")throw y}s+=f;let g=s.match(OO);for(;g;){const y=g[1];try{const _=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $t(new aw(_)),s=s.slice(g[0].length),g=s.match(OO)}catch(_){throw new Error(`exception parsing stream chunk ${y}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=lte+" "+this.clientOptions.userAgentExtra;return e[ate]=n,e[pw]=n,e[ite]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(ote,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const d=await this.fetchUploadUrl(i,n);return o.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:je("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function kO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Jp({message:i,status:n}):new Error(i)}}function dte(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const c=Object.assign({},o);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const f=s[d],g=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&g&&typeof g=="object"&&!Array.isArray(g)?c[d]=r(g,f):(g&&f&&typeof g!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof g}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hte="mcp_used/unknown";let pte=!1;function Q5(t){for(const e of t)if(mte(e)||typeof e=="object"&&"inputSchema"in e)return!0;return pte}function eR(t){var e;const n=(e=t[pw])!==null&&e!==void 0?e:"";t[pw]=(n+` ${hte}`).trimStart()}function mte(t){return t!==null&&typeof t=="object"&&t instanceof Ab}function gte(t,e=100){return ml(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield $t(t.listTools({cursor:r}));for(const s of o.tools)yield yield $t(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Ab{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ab(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const g of this.mcpClients)try{for(var c=!0,d=(n=void 0,Ac(gte(g))),f;f=await d.next(),e=f.done,!e;c=!0){i=f.value,c=!1;const y=i;s.push(y);const _=y.name;if(o[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);o[_]=g}}catch(y){n={error:y}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),aK(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vte(t,e,n){const r=new X9;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=aX(i);Object.assign(r,o),e(r)}class yte{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=wte(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const g=new Promise(k=>{f=k}),y=e.callbacks,_=function(){f({})},b=this.apiClient,P={onopen:_,onmessage:k=>{vte(b,y.onmessage,k)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(k){}},C=this.webSocketFactory.create(d,xte(s),P);C.connect(),await g;const A=St(this.apiClient,e.model),R=W5({model:A}),N=fw({setup:R});return C.send(JSON.stringify(N)),new _te(C,this.apiClient)}}class _te{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=iY(e),r=K5(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=oY(e),r=fw(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=fw({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(cl.PLAY)}pause(){this.sendPlaybackControl(cl.PAUSE)}stop(){this.sendPlaybackControl(cl.STOP)}resetContext(){this.sendPlaybackControl(cl.RESET_CONTEXT)}close(){this.conn.close()}}function xte(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function wte(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bte="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ste(t,e,n){const r=new Y9;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=xX(o);Object.assign(r,s)}else{const s=YY(o);Object.assign(r,s)}e(r)}class Tte{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new yte(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let g;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&Q5(e.config.tools)&&eR(y);const _=Ete(y);if(this.apiClient.isVertexAI())g=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const z=this.apiClient.getApiKey();let G="BidiGenerateContent",j="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",j="access_token"),g=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${G}?${j}=${z}`}let b=()=>{};const P=new Promise(z=>{b=z}),C=e.callbacks,A=function(){var z;(z=C==null?void 0:C.onopen)===null||z===void 0||z.call(C),b({})},R=this.apiClient,N={onopen:A,onmessage:z=>{Ste(R,C.onmessage,z)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(z){}},k=this.webSocketFactory.create(g,Pte(_),N);k.connect(),await P;let $=St(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const z=this.apiClient.getProject(),G=this.apiClient.getLocation();$=`projects/${z}/locations/${G}/`+$}let I={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[lp.AUDIO]}:e.config.responseModalities=[lp.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(c=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[],F=[];for(const z of D)if(this.isCallableTool(z)){const G=z;F.push(await G.tool())}else F.push(z);F.length>0&&(e.config.tools=F);const U={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=kY(this.apiClient,U):I=eY(this.apiClient,U),delete I.config,k.send(JSON.stringify(I)),new Ate(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Cte={turnComplete:!0};class Ate{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Nr(n.turns),e.isVertexAI()?r=r.map(i=>su(i)):r=r.map(i=>Yp(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(bte)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Cte),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:LY(e)}:n={realtimeInput:rY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Pte(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Ete(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NO=10;function RO(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(gl(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function gl(t){return"callTool"in t&&typeof t.callTool=="function"}function Mte(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>gl(i)))!==null&&r!==void 0?r:!1}function Ite(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!gl(i)))!==null&&r!==void 0?r:!1}function LO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ote extends ls{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Mte(n)||RO(n.config))return await this.generateContentInternal(d);if(Ite(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,g;const y=Nr(d.contents),_=(o=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:NO;let b=0;for(;b<_&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const P=f.candidates[0].content,C=[];for(const A of(c=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[])if(gl(A)){const N=await A.callTool(f.functionCalls);C.push(...N)}b++,g={role:"user",parts:C},d.contents=Nr(d.contents),d.contents.push(P),d.contents.push(g),LO(d.config)&&(y.push(P),y.push(g))}return LO(d.config)&&(f.automaticFunctionCallingHistory=y),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),RO(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:s.push(d);let c;return o?c={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new _f(rs.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async d=>gl(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(c.config.tools=s,e.config&&e.config.tools&&Q5(e.config.tools)){const d=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),eR(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(gl(s)){const c=s,d=await c.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,c)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:NO;let s=!1,c=0;const d=await this.initAfcToolsMap(e);return function(f,g,y){var _,b;return ml(this,arguments,function*(){for(var P,C,A,R;c<o;){s&&(c++,s=!1);const I=yield $t(f.processParamsMaybeAddMcpUsage(y)),D=yield $t(f.generateContentStreamInternal(I)),F=[],U=[];try{for(var N=!0,k=(C=void 0,Ac(D)),$;$=yield $t(k.next()),P=$.done,!P;N=!0){R=$.value,N=!1;const z=R;if(yield yield $t(z),z.candidates&&(!((_=z.candidates[0])===null||_===void 0)&&_.content)){U.push(z.candidates[0].content);for(const G of(b=z.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(c<o&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(G.functionCall.name)){const j=yield $t(g.get(G.functionCall.name).callTool([G.functionCall]));F.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(z){C={error:z}}finally{try{!N&&!P&&(A=k.return)&&(yield $t(A.call(k)))}finally{if(C)throw C.error}}if(F.length>0){s=!0;const z=new dc;z.candidates=[{content:{role:"user",parts:F}}],yield yield $t(z);const G=[];G.push(...U),G.push({role:"user",parts:F});const j=Nr(y.contents).concat(G);y.contents=j}else break}})}(this,d,e)}async generateContentInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=EO(this.apiClient,e);return c=je("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=IO(g),_=new dc;return Object.assign(_,y),_})}else{const f=PO(this.apiClient,e);return c=je("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=MO(g),_=new dc;return Object.assign(_,y),_})}}async generateContentStreamInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=EO(this.apiClient,e);return c=je("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(y){return ml(this,arguments,function*(){var _,b,P,C;try{for(var A=!0,R=Ac(y),N;N=yield $t(R.next()),_=N.done,!_;A=!0){C=N.value,A=!1;const k=C,$=IO(yield $t(k.json()));$.sdkHttpResponse={headers:k.headers};const I=new dc;Object.assign(I,$),yield yield $t(I)}}catch(k){b={error:k}}finally{try{!A&&!_&&(P=R.return)&&(yield $t(P.call(R)))}finally{if(b)throw b.error}}})})}else{const f=PO(this.apiClient,e);return c=je("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(y){return ml(this,arguments,function*(){var _,b,P,C;try{for(var A=!0,R=Ac(y),N;N=yield $t(R.next()),_=N.done,!_;A=!0){C=N.value,A=!1;const k=C,$=MO(yield $t(k.json()));$.sdkHttpResponse={headers:k.headers};const I=new dc;Object.assign(I,$),yield yield $t(I)}}catch(k){b={error:k}}finally{try{!A&&!_&&(P=R.return)&&(yield $t(P.call(R)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=kQ(this.apiClient,e);return c=je("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=Uee(g),_=new aO;return Object.assign(_,y),_})}else{const f=HX(this.apiClient,e);return c=je("{model}:batchEmbedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=vee(g),_=new aO;return Object.assign(_,y),_})}}async generateImagesInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=RQ(this.apiClient,e);return c=je("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=zee(g),_=new sO;return Object.assign(_,y),_})}else{const f=WX(this.apiClient,e);return c=je("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=xee(g),_=new sO;return Object.assign(_,y),_})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const c=UQ(this.apiClient,e);return o=je("{model}:predict",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:d.headers},g})),i.then(d=>{const f=Vee(d),g=new V9;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const c=zQ(this.apiClient,e);return o=je("{model}:predict",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:d.headers},g})),i.then(d=>{const f=Hee(d),g=new H9;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const c=WQ(this.apiClient,e);return o=je("{model}:predict",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Gee(d),g=new G9;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=KQ(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(g=>hw(g))}else{const f=KX(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>dw(g))}}async listInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=JQ(this.apiClient,e);return c=je("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=Jee(g),_=new lO;return Object.assign(_,y),_})}else{const f=JX(this.apiClient,e);return c=je("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=bee(g),_=new lO;return Object.assign(_,y),_})}}async update(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=XQ(this.apiClient,e);return c=je("{model}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(g=>hw(g))}else{const f=XX(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>dw(g))}}async delete(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=QQ(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(()=>{const g=Yee(),y=new uO;return Object.assign(y,g),y})}else{const f=QX(this.apiClient,e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(()=>{const g=See(),y=new uO;return Object.assign(y,g),y})}}async countTokens(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=tee(this.apiClient,e);return c=je("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=Xee(g),_=new cO;return Object.assign(_,y),_})}else{const f=tQ(this.apiClient,e);return c=je("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=Tee(g),_=new cO;return Object.assign(_,y),_})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const c=nee(this.apiClient,e);return o=je("{model}:computeTokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:d.headers},g})),i.then(d=>{const f=Qee(d),g=new W9;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=oee(this.apiClient,e);return c=je("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s.then(g=>{const y=rte(g),_=new up;return Object.assign(_,y),_})}else{const f=iQ(this.apiClient,e);return c=je("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>{const y=Eee(g),_=new up;return Object.assign(_,y),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kte(t){const e={},n=h(t,["operationName"]);n!=null&&p(e,["_url","operationName"],n);const r=h(t,["config"]);return r!=null&&p(e,["config"],r),e}function Nte(t){const e={},n=h(t,["operationName"]);n!=null&&p(e,["_url","operationName"],n);const r=h(t,["config"]);return r!=null&&p(e,["config"],r),e}function Rte(t){const e={},n=h(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=h(t,["resourceName"]);r!=null&&p(e,["_url","resourceName"],r);const i=h(t,["config"]);return i!=null&&p(e,["config"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lte extends ls{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Nte(e);return c=je("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),s}else{const f=kte(e);return c=je("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const c=Rte(e);return o=je("{resourceName}:fetchPredictOperation",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dte(t){const e={},n=h(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function tR(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],Dte(n)),e}function $te(t){const e={},n=h(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=h(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],tR(r)),e}function Fte(t){const e={},n=h(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$te(i))),p(e,["speakerVoiceConfigs"],r)}return e}function Bte(t){const e={},n=h(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],tR(n));const r=h(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],Fte(r));const i=h(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function qte(t){const e={},n=h(t,["fps"]);n!=null&&p(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function Ute(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&p(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function jte(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function zte(t){const e={},n=h(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],qte(n));const r=h(t,["thought"]);r!=null&&p(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&p(e,["inlineData"],Ute(i));const o=h(t,["fileData"]);o!=null&&p(e,["fileData"],jte(o));const s=h(t,["thoughtSignature"]);s!=null&&p(e,["thoughtSignature"],s);const c=h(t,["codeExecutionResult"]);c!=null&&p(e,["codeExecutionResult"],c);const d=h(t,["executableCode"]);d!=null&&p(e,["executableCode"],d);const f=h(t,["functionCall"]);f!=null&&p(e,["functionCall"],f);const g=h(t,["functionResponse"]);g!=null&&p(e,["functionResponse"],g);const y=h(t,["text"]);return y!=null&&p(e,["text"],y),e}function Vte(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zte(o))),p(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&p(e,["role"],r),e}function Hte(t){const e={},n=h(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=h(t,["description"]);r!=null&&p(e,["description"],r);const i=h(t,["name"]);i!=null&&p(e,["name"],i);const o=h(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=h(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const c=h(t,["response"]);c!=null&&p(e,["response"],c);const d=h(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function Gte(t){const e={},n=h(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function Wte(t){const e={},n=h(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],Gte(n)),e}function Kte(t){const e={},n=h(t,["mode"]);n!=null&&p(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Zte(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Kte(n)),e}function Jte(){return{}}function Yte(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>Hte(f))),p(e,["functionDeclarations"],d)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],Wte(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],Zte(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&p(e,["urlContext"],Jte());const s=h(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const c=h(t,["computerUse"]);return c!=null&&p(e,["computerUse"],c),e}function Xte(t){const e={},n=h(t,["handle"]);if(n!=null&&p(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function DO(){return{}}function Qte(t){const e={},n=h(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=h(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=h(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const o=h(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const s=h(t,["silenceDurationMs"]);return s!=null&&p(e,["silenceDurationMs"],s),e}function ene(t){const e={},n=h(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],Qte(n));const r=h(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=h(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function tne(t){const e={},n=h(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function nne(t){const e={},n=h(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=h(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],tne(r)),e}function rne(t){const e={},n=h(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function ine(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=h(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const c=h(t,["topK"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topK"],c);const d=h(t,["maxOutputTokens"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","maxOutputTokens"],d);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","mediaResolution"],f);const g=h(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","speechConfig"],Bte(Cb(y)));const _=h(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=h(t,["systemInstruction"]);e!==void 0&&b!=null&&p(e,["setup","systemInstruction"],Vte(In(b)));const P=h(t,["tools"]);if(e!==void 0&&P!=null){let I=ou(P);Array.isArray(I)&&(I=I.map(D=>Yte(iu(D)))),p(e,["setup","tools"],I)}const C=h(t,["sessionResumption"]);e!==void 0&&C!=null&&p(e,["setup","sessionResumption"],Xte(C));const A=h(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&p(e,["setup","inputAudioTranscription"],DO());const R=h(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&p(e,["setup","outputAudioTranscription"],DO());const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&p(e,["setup","realtimeInputConfig"],ene(N));const k=h(t,["contextWindowCompression"]);e!==void 0&&k!=null&&p(e,["setup","contextWindowCompression"],nne(k));const $=h(t,["proactivity"]);return e!==void 0&&$!=null&&p(e,["setup","proactivity"],rne($)),n}function one(t,e){const n={},r=h(e,["model"]);r!=null&&p(n,["setup","model"],St(t,r));const i=h(e,["config"]);return i!=null&&p(n,["config"],ine(i,n)),n}function ane(t,e,n){const r={},i=h(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=h(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const s=h(e,["uses"]);n!==void 0&&s!=null&&p(n,["uses"],s);const c=h(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&p(n,["bidiGenerateContentSetup"],one(t,c));const d=h(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&p(n,["fieldMask"],d),r}function sne(t,e){const n={},r=h(e,["config"]);return r!=null&&p(n,["config"],ane(t,r,n)),n}function lne(t){const e={},n=h(t,["name"]);return n!=null&&p(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function une(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function cne(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=une(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class fne extends ls{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=sne(this.apiClient,e);o=je("auth_tokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query;const d=cne(c,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>lne(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dne(t){const e={},n=h(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&p(e,["config"],r),e}function hne(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=h(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function pne(t){const e={},n=h(t,["config"]);return n!=null&&p(e,["config"],hne(n,e)),e}function mne(t){const e={},n=h(t,["textInput"]);n!=null&&p(e,["textInput"],n);const r=h(t,["output"]);return r!=null&&p(e,["output"],r),e}function gne(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=h(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mne(i))),p(e,["examples","examples"],r)}return e}function vne(t,e){const n={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=h(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&p(e,["displayName"],r),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=h(t,["epochCount"]);e!==void 0&&i!=null&&p(e,["tuningTask","hyperparameters","epochCount"],i);const o=h(t,["learningRateMultiplier"]);if(o!=null&&p(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=h(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const c=h(t,["learningRate"]);return e!==void 0&&c!=null&&p(e,["tuningTask","hyperparameters","learningRate"],c),n}function yne(t){const e={},n=h(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=h(t,["trainingDataset"]);r!=null&&p(e,["tuningTask","trainingData"],gne(r));const i=h(t,["config"]);return i!=null&&p(e,["config"],vne(i,e)),e}function _ne(t){const e={},n=h(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&p(e,["config"],r),e}function xne(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=h(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function wne(t){const e={},n=h(t,["config"]);return n!=null&&p(e,["config"],xne(n,e)),e}function bne(t,e){const n={},r=h(t,["gcsUri"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=h(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i),h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Sne(t,e){const n={},r=h(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=h(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function Tne(t,e){const n={},r=h(t,["validationDataset"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec"],Sne(r,n));const i=h(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&p(e,["tunedModelDisplayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=h(t,["epochCount"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const c=h(t,["learningRateMultiplier"]);e!==void 0&&c!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=h(t,["exportLastCheckpointOnly"]);e!==void 0&&d!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=h(t,["adapterSize"]);if(e!==void 0&&f!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Cne(t){const e={},n=h(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=h(t,["trainingDataset"]);r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],bne(r,e));const i=h(t,["config"]);return i!=null&&p(e,["config"],Tne(i,e)),e}function Ane(t){const e={},n=h(t,["name"]);n!=null&&p(e,["model"],n);const r=h(t,["name"]);return r!=null&&p(e,["endpoint"],r),e}function nR(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&p(e,["name"],r);const i=h(t,["state"]);i!=null&&p(e,["state"],N5(i));const o=h(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=h(t,["tuningTask","startTime"]);s!=null&&p(e,["startTime"],s);const c=h(t,["tuningTask","completeTime"]);c!=null&&p(e,["endTime"],c);const d=h(t,["updateTime"]);d!=null&&p(e,["updateTime"],d);const f=h(t,["description"]);f!=null&&p(e,["description"],f);const g=h(t,["baseModel"]);g!=null&&p(e,["baseModel"],g);const y=h(t,["_self"]);y!=null&&p(e,["tunedModel"],Ane(y));const _=h(t,["distillationSpec"]);_!=null&&p(e,["distillationSpec"],_);const b=h(t,["experiment"]);b!=null&&p(e,["experiment"],b);const P=h(t,["labels"]);P!=null&&p(e,["labels"],P);const C=h(t,["pipelineJob"]);C!=null&&p(e,["pipelineJob"],C);const A=h(t,["satisfiesPzi"]);A!=null&&p(e,["satisfiesPzi"],A);const R=h(t,["satisfiesPzs"]);R!=null&&p(e,["satisfiesPzs"],R);const N=h(t,["serviceAccount"]);N!=null&&p(e,["serviceAccount"],N);const k=h(t,["tunedModelDisplayName"]);return k!=null&&p(e,["tunedModelDisplayName"],k),e}function Pne(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>nR(s))),p(e,["tuningJobs"],o)}return e}function Ene(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&p(e,["name"],r);const i=h(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=h(t,["done"]);o!=null&&p(e,["done"],o);const s=h(t,["error"]);return s!=null&&p(e,["error"],s),e}function Mne(t){const e={},n=h(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=h(t,["epoch"]);r!=null&&p(e,["epoch"],r);const i=h(t,["step"]);i!=null&&p(e,["step"],i);const o=h(t,["endpoint"]);return o!=null&&p(e,["endpoint"],o),e}function Ine(t){const e={},n=h(t,["model"]);n!=null&&p(e,["model"],n);const r=h(t,["endpoint"]);r!=null&&p(e,["endpoint"],r);const i=h(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Mne(s))),p(e,["checkpoints"],o)}return e}function mw(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&p(e,["name"],r);const i=h(t,["state"]);i!=null&&p(e,["state"],N5(i));const o=h(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=h(t,["startTime"]);s!=null&&p(e,["startTime"],s);const c=h(t,["endTime"]);c!=null&&p(e,["endTime"],c);const d=h(t,["updateTime"]);d!=null&&p(e,["updateTime"],d);const f=h(t,["error"]);f!=null&&p(e,["error"],f);const g=h(t,["description"]);g!=null&&p(e,["description"],g);const y=h(t,["baseModel"]);y!=null&&p(e,["baseModel"],y);const _=h(t,["tunedModel"]);_!=null&&p(e,["tunedModel"],Ine(_));const b=h(t,["supervisedTuningSpec"]);b!=null&&p(e,["supervisedTuningSpec"],b);const P=h(t,["tuningDataStats"]);P!=null&&p(e,["tuningDataStats"],P);const C=h(t,["encryptionSpec"]);C!=null&&p(e,["encryptionSpec"],C);const A=h(t,["partnerModelTuningSpec"]);A!=null&&p(e,["partnerModelTuningSpec"],A);const R=h(t,["distillationSpec"]);R!=null&&p(e,["distillationSpec"],R);const N=h(t,["experiment"]);N!=null&&p(e,["experiment"],N);const k=h(t,["labels"]);k!=null&&p(e,["labels"],k);const $=h(t,["pipelineJob"]);$!=null&&p(e,["pipelineJob"],$);const I=h(t,["satisfiesPzi"]);I!=null&&p(e,["satisfiesPzi"],I);const D=h(t,["satisfiesPzs"]);D!=null&&p(e,["satisfiesPzs"],D);const F=h(t,["serviceAccount"]);F!=null&&p(e,["serviceAccount"],F);const U=h(t,["tunedModelDisplayName"]);return U!=null&&p(e,["tunedModelDisplayName"],U),e}function One(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=h(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>mw(s))),p(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kne extends ls{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new _f(rs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:ow.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=_ne(e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>mw(g))}else{const f=dne(e);return c=je("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>nR(g))}}async listInternal(e){var n,r,i,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=wne(e);return c=je("tuningJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=One(g),_=new dO;return Object.assign(_,y),_})}else{const f=pne(e);return c=je("tunedModels",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:g.headers},_})),s.then(g=>{const y=Pne(g),_=new dO;return Object.assign(_,y),_})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const c=Cne(e);return o=je("tuningJobs",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:d.headers},g})),i.then(d=>mw(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=yne(e);return o=je("tunedModels",c._url),s=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:d.headers},g})),i.then(d=>Ene(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nne{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Rne=1024*1024*8,Lne=3,Dne=1e3,$ne=2,E_="x-goog-upload-status";async function Fne(t,e,n){var r,i,o;let s=0,c=0,d=new aw(new Response),f="upload";for(s=t.size;c<s;){const y=Math.min(Rne,s-c),_=t.slice(c,c+y);c+y>=s&&(f+=", finalize");let b=0,P=Dne;for(;b<Lne&&(d=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(y)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[E_]));)b++,await qne(P),P=P*$ne;if(c+=y,((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[E_])!=="active")break;if(s<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(d==null?void 0:d.json());if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[E_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function Bne(t){return{size:t.size,type:t.type}}function qne(t){return new Promise(e=>setTimeout(e,t))}class Une{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Fne(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Bne(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jne{create(e,n,r){return new zne(e,n,r)}}class zne{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $O="x-goog-api-key";class Vne{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get($O)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append($O,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hne="gl-node/";class Gne{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=z9(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Vne(this.apiKey);this.apiClient=new fte({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Hne+"web",uploader:new Une,downloader:new Nne}),this.models=new Ote(this.apiClient),this.live=new Tte(this.apiClient,i,new jne),this.batches=new hZ(this.apiClient),this.chats=new vJ(this.models,this.apiClient),this.caches=new pJ(this.apiClient),this.files=new IJ(this.apiClient),this.operations=new Lte(this.apiClient),this.authTokens=new fne(this.apiClient),this.tunings=new kne(this.apiClient)}}const Wne="AIzaSyAKftGWAcJRsdhyjZaOThoMW_q3gUjDaJg",xf=new Gne({apiKey:Wne}),Kl="gemini-2.5-flash",FO=async(t,e,n,r)=>{const i=e.join(", ");let o="";n&&n.length>0&&(o=`
Here is a sample of data rows (column names are case-sensitive: ${i}):
`,n.slice(0,3).forEach(d=>{o+=JSON.stringify(d)+`
`}));const s=r?`
**Refinement Task:**
The user wants to refine an EXISTING dashboard.
- **Your starting point is the 'Current Dashboard Specification' provided below.**
- **Analyze the user's new prompt in the context of this existing specification.**
- **Your goal is to modify the existing spec to meet the user's new request.**
- **Make the MINIMUM necessary changes.** If the user asks to change one chart, only modify that chart's element in the JSON. Do not regenerate the entire dashboard from scratch unless the request fundamentally changes the entire analysis (e.g., "start over and show me marketing data instead").
- If the user asks for a filter (e.g., "only show sales for electronics"), you should modify the \`dataSourceQuery\` of the relevant elements to include a \`WHERE\` clause.
- Preserve element IDs if possible to allow for smooth transitions.
- The user's prompt for this refinement is: "${t}"

**Current Dashboard Specification (Your starting point):**
\`\`\`json
${JSON.stringify(r,null,2)}
\`\`\`
`:`
Your Task:
1.  Thoroughly examine the column names and sample data to understand the dataset's structure and potential content before designing elements.
2.  Analyze the user's request (natural language, SQL, or Python intent).
3.  Explore the data columns and sample data to identify key insights, trends, outliers, or important segments relevant to the request OR interesting patterns in general.
4.  Design a dashboard specification as a JSON object. This dashboard should not just answer the query but also tell a story or provide comprehensive insights.
5.  Suggest an overall 'dashboardStory' or 'overallInsight' for the dashboard if you identify a compelling narrative.
6.  Suggest a 'themeSuggestion' from the list: "ocean_breeze", "executive_dark", "autumn_analytics", "vibrant_growth", "monochrome_professional", "sunset_glow", "forest_depth", "tech_circuitry", "futuristic_dark".
7.  For each dashboard element, if relevant, provide a brief 'interpretation' of what the chart/KPI shows or why it's important.
8.  **IMPORTANT SQL OUTPUT**: IF you generated an SQL query to fulfill the user's natural language request (or translated Python to SQL), you MUST include this primary SQL query in a top-level field named "generatedQuery" in your JSON response. This field is SEPARATE from the 'dataSourceQuery' within individual elements. 'dataSourceQuery' should still contain the SQL specific to that element (which might be the same as 'generatedQuery', a part of it, or a different query if the element is not directly from the main generated SQL). If the user provided SQL directly, you should still place it in 'generatedQuery' as well as the relevant 'dataSourceQuery' fields.
9.  **Currency Conversion Requests**: If the user requests data in a different currency (e.g., 'total sales in INR' when data is in USD), your generated dashboard elements (KPIs, charts) should STILL display values using the original currency from the dataset. However, in the 'interpretation' field for that specific element, you MUST:
    a.  Acknowledge the user's request (e.g., 'User requested this value in INR.').
    b.  State clearly that the displayed value is in the original currency and that accurate conversion requires applying a real-time exchange rate, which is not done here.
    c.  Optionally, if the original currency is common (like USD) or clearly identifiable from column names (e.g., 'price_EUR'), you MAY provide a purely illustrative example using a HYPOTHETICAL/APPROXIMATE exchange rate (e.g., 'For example, if 1 USD is ~83 INR, then 100 USD would be roughly 8300 INR. This is illustrative and NOT a live financial conversion.').
    d.  DO NOT attempt to alter the 'dataSourceQuery' or metric operations to perform the conversion. The dashboard must reflect the source data as is.
10. **Handling Ambiguity**: If a user's question is ambiguous or the data seems unsuitable for the request, try to provide the best possible interpretation or explain why a direct answer/visualization isn't feasible, potentially suggesting alternatives or clarifications needed.
`,c=`
You are an AI assistant specialized in creating or refining insightful and visually appealing dashboard specifications from user queries and data.
Your SOLE output MUST be a single, valid JSON object adhering to the schema described below. DO NOT include any other text, explanations, apologies, or conversational elements.

Dataset Overview:
- The dataset is an array of JSON objects.
- **CRITICAL SQL RULE: ALL SQL queries you generate or process MUST refer to this dataset using 'FROM ?'. DO NOT use any other table name. ALWAYS use 'FROM ?'.**
- **CRITICAL SQL RULE for Column Names (MANDATORY):** You MUST enclose ALL column names in **BACKTICKS (\`)**. This is the most common source of errors.
  - **Example:** Instead of \`SELECT Store, Sales FROM ?\`, you MUST write \`SELECT \`Store\`, \`Sales\` FROM ?\`.
  - **Reason:** The SQL engine requires this for all columns, especially for names that are also SQL keywords (like 'Store', 'Date', 'Order') or contain spaces/special characters.
  - **Scope:** This rule applies to ALL column names in ALL parts of the SQL query: \`SELECT\`, \`WHERE\`, \`GROUP BY\`, \`ORDER BY\`, function arguments like \`SUM(\`Sales\`)\`, etc.
  - **JSON vs SQL:** Do not be confused by the sample data's JSON format which uses double quotes for keys (e.g., \`"Weekly_Sales"\`). In your SQL queries, you MUST use backticks (e.g., \`Weekly_Sales\`).
- Column names in SQL are case-sensitive.
- Available data columns in the original dataset: ${i}.
${o}

${s}

**Automated Analysis Insights (Incorporate into 'dashboardStory' and element 'interpretation' where relevant):**
   - **Descriptive Statistics:** For key numerical columns, summarize important statistics like mean (average), min, max, sum, and count. You can generate KPI elements for these (e.g., 'Average Sales Amount'). For median, if easily calculable via simple AlaSQL (\`MEDIAN(\`column_name\`)\`), you can suggest a KPI. For mode or variance, provide textual observations or insights rather than direct calculation unless it's a very simple case.
   - **Correlation Analysis:** Look for and mention potential strong positive or negative correlations between numerical columns in your textual summaries (e.g., 'Sales and Marketing Spend appear to be positively correlated.'). Suggest \`ScatterPlot\` elements to visually explore these potential relationships. Do not attempt to calculate or display correlation coefficients or covariance matrices.
   - **Trend Analysis:** For time-series data (e.g., in LineCharts or AreaCharts), explicitly identify and describe significant trends (e.g., upward, downward, cyclical, seasonal patterns) in your interpretations or the overall dashboard story.

**Date/Time Handling (AlaSQL Specific)**:
   - Our SQL engine (AlaSQL) handles dates as JavaScript Date objects if parsed as such, or as strings. Assume date columns might be strings.
   - For extracting parts of a date if it's a date object or a recognizable date string, use functions like \`YEAR(\`date_column\`)\`, \`MONTH(\`date_column\`)\` (1-indexed), \`DAY(\`date_column\`)\`.
   - **AVOID using \`STRFTIME()\` or other database-specific date formatting functions not common in basic SQL or AlaSQL. Also avoid \`RIGHT()\`, \`LEFT()\`, \`LPAD()\`, \`RPAD()\` if not standardly available; use \`SUBSTRING()\` and \`LENGTH()\` for such manipulations.**
   - **Type Conversion**: When concatenating numbers (like results from \`YEAR()\`, \`MONTH()()\`) with strings using \`CONCAT()\`, AlaSQL typically performs implicit conversion of the number to a string. Avoid using a separate \`STRING(value)\` function wrapper. If an explicit cast is ever needed, use \`CAST(value AS STRING)\`.
   - If you need to group by month in 'YYYY-MM' format (e.g., '2023-01'), you MUST construct it using available functions.
     For example, to get the right 2 characters of a string S (like a zero-padded month '0M' or '0MM'), use \`SUBSTRING(S, LENGTH(S)-1, 2)\`.
     Correct 'YYYY-MM' construction for a date column 'OrderDate':
     \`CONCAT(YEAR(\`OrderDate\`), '-', SUBSTRING(CONCAT('0', MONTH(\`OrderDate\`)), LENGTH(CONCAT('0', MONTH(\`OrderDate\`)))-1, 2)) AS SalesMonth\`.
   - Example for 'monthly sales' from a table with an 'OrderDate' column and 'Sales' column:
     \`SELECT CONCAT(YEAR(\`OrderDate\`), '-', SUBSTRING(CONCAT('0', MONTH(\`OrderDate\`)), LENGTH(CONCAT('0', MONTH(\`OrderDate\`)))-1, 2)) AS SalesMonth, SUM(\`Sales\`) AS TotalSales FROM ? GROUP BY SalesMonth ORDER BY SalesMonth\`
   - If a date column is a string in a non-standard format that \`YEAR()\` or \`MONTH()\` can't parse, you might need to use string functions like \`SUBSTRING()\` if the format is fixed and known, or advise that the date column needs pre-processing if it's too complex. Generally, prefer \`YEAR()\`, \`MONTH()\` assuming dates are somewhat standard.
   - **For columns containing long-form text**, consider their use in 'Table' elements for display, or for qualitative summaries in 'interpretation' fields, rather than direct aggregation in charts unless specifically requested (e.g., analysis of text length or keyword counts if feasible via SQL).

Handling User Input:

IF USER PROVIDES SQL:
- Use the user's SQL (it will use 'FROM ?'). Check for AlaSQL compatibility, especially date functions, and ensure column names are correctly quoted with backticks (e.g., \`My Column\`).
- Populate the top-level "generatedQuery" field with this user-provided SQL.
- Design elements based on its expected result structure. Column names in metrics/dimensions MUST match SQL aliases.
- Include the SQL in 'dataSourceQuery' for relevant elements. Set 'operation' to 'NONE' for pre-aggregated metrics.

IF USER PROVIDES PYTHON (pandas-like intent):
- Understand the Python logic.
- Translate it to an equivalent AlaSQL-compatible SQL query (MUST use 'FROM ?' and quote all column names with backticks, e.g., \`My Column\`). Alias aggregated columns. Adhere to AlaSQL date handling.
- Place this SQL in the top-level "generatedQuery" field.
- Place this SQL (or parts of it) in 'dataSourceQuery' for relevant elements.
- Define elements based on YOUR SQL's output structure. Metric/dimension columns MUST match YOUR SQL aliases. Set 'operation' to 'NONE' if pre-aggregated.

IF USER PROVIDES NATURAL LANGUAGE:
- Understand intent. Identify key insights.
- GENERATE an AlaSQL-compatible SQL query (MUST use 'FROM ?' and quote all column names with backticks, e.g., \`My Column\`).
  - **Leverage ADVANCED SQL FEATURES where compatible with AlaSQL**: Window functions (\`RANK()\`, \`SUM() OVER (...)\`), CTEs (\`WITH ... AS\`), \`CASE\` statements, aggregates (\`MEDIAN()\` might require subqueries or specific handling in AlaSQL). Use AlaSQL-compatible date/time functions as described above.
  - Alias aggregated columns in SQL.
- Place YOUR generated SQL in the top-level "generatedQuery" field.
- Place this SQL (or parts of it) in 'dataSourceQuery' for relevant elements.
- Metric/dimension columns MUST match YOUR SQL aliases. Operation usually 'NONE'.

Visual Element Types: 'KPI', 'BarChart', 'PieChart', 'LineChart', 'ScatterPlot', 'AreaChart', 'Table', 'Histogram', 'MapChart'.
Choose the MOST EFFECTIVE chart type to convey information. Think about visual appeal and clarity.
- **Histogram**: Use for visualizing the distribution of a single numerical column. Specify the column in the 'metrics' array (only one metric, operation 'NONE'). Binning is handled automatically. The 'dimension' field is not needed for a histogram.


**Enhanced Chart Selection Guidance & Advanced Rules (Apply these when choosing 'type' for elements):**

1.  **Time-Based Data & KPIs:**
    *   For visualizing trends of one or more metrics over time (e.g., 'monthly sales', 'daily active users', 'revenue growth over quarters'), **STRONGLY PREFER 'LineChart'**. 'AreaChart' can also be used if stacked trends are meaningful.
    *   If showing a single current value of a time-based KPI (e.g., 'Total Revenue YTD', 'Current Customer Count'), a 'KPI' element is appropriate.

2.  **Part-to-Whole Relationships:**
    *   When displaying how different categories contribute to a total (e.g., 'sales distribution by product category', 'market share by region'):
        *   If there are **FEWER than 5 categories**, a 'PieChart' is suitable. (Our PieChart is rendered as a Donut).
        *   If there are **5 OR MORE categories**, a 'BarChart' is generally more effective and readable. Avoid 'PieChart' for many categories.
    *   'Table' can also be used for detailed part-to-whole breakdowns, especially with many categories or multiple metrics per category.

3.  **Correlations & Relationships between Numerical Variables:**
    *   To explore or visualize the relationship or correlation between two numerical variables (e.g., 'advertising spend vs. sales', 'temperature vs. product defects'), you **MUST use a 'ScatterPlot'**. The first metric in the 'metrics' array will be the X-axis, the second will be the Y-axis. An optional third metric or a dimension can be used for color-coding points.
    *   In the 'interpretation' for such ScatterPlots, if appropriate (e.g., one axis represents time or there's a clear trend), you can mention that exploring this with a trend line or time-based animation would provide further insights.

4.  **Comparisons Across Categories or Segments:**
    *   'BarChart' is excellent for comparing metric values across different categories or segments (e.g., 'sales by region', 'customer count by segment', 'average profit per product').
    *   If comparing multiple metrics for each category, you can use multiple metrics in a single 'BarChart' specification to create grouped bars, or design separate BarCharts if that enhances clarity.

5.  **Distribution of a Single Numerical Variable:**
    *   To understand the distribution of values for a single numerical column (e.g., 'distribution of customer ages', 'product price distribution', 'exam score frequencies'), use a 'Histogram'.

6.  **Detailed Tabular Data & Rankings:**
    *   When the user needs to see raw data, detailed breakdowns with multiple specific attributes, or rankings (e.g., 'top 10 products by sales', 'list of all employees with their department and salary'), use a 'Table'.

7.  **Performance Against Targets (e.g., Profit Margin % vs. Goal, Inventory Turnover vs. Goal):**
    *   Use a 'KPI' element to show the actual value of the metric.
    *   In the 'interpretation' field for the KPI, clearly state the target value (if known or inferable from the query) and compare the actual to the target (e.g., "Actual profit margin is X%, which is Y% above/below the Z% target." or "Inventory turnover is A, compared to a goal of B. This is in/outside the desired range.").

8.  **Hierarchical Data (e.g., Sales by Category then Sub-Category):**
    *   A 'Treemap' is not an available chart type. If a treemap is implied by a request for hierarchical data (showing parts of a whole across multiple levels), use a 'BarChart' (possibly grouped, or by generating multiple charts for different levels if simple). You can also use a 'Table' for detailed hierarchical views.
    *   Explain this alternative in the 'interpretation', e.g., "Displaying sales by category using a Bar Chart. A treemap could also show this hierarchy effectively."

9.  **Funnels or Workflows (e.g., Conversion Funnel):**
    *   'FunnelChart' is not available. Represent conversion funnels or workflow stages using a series of 'KPI' elements (one for each stage count/percentage) or a 'BarChart' where each bar represents a stage and its value.
    *   In the 'interpretation', describe the flow and any drop-offs between stages.

10. **Geographic Data (e.g., Regional Performance on a Map):**
    *   'MapChart' IS NOW AVAILABLE. If you detect columns that look like latitude and longitude (e.g., 'lat', 'lon', 'latitude') OR geographic entities like cities or countries, you should consider using a 'MapChart'.
    *   **MapChart Requirements:** The \`dataSourceQuery\` for a \`MapChart\` MUST produce columns for latitude, longitude, and at least one metric.
    *   **Structure:**
        *   \`type\`: "MapChart"
        *   \`dimension\`: Optional, can be used for the label in the map marker popup.
        *   \`metrics\`: MUST contain at least 3 metrics. The first MUST be latitude, the second MUST be longitude, and the third is the value to display (which will control circle size/color).
        *   **Example metrics:** \`[{ "column": "lat", "operation": "NONE", "displayName": "Latitude" }, { "column": "lon", "operation": "NONE", "displayName": "Longitude" }, { "column": "sales_value", "operation": "NONE", "displayName": "Sales" }]\`
    *   If the user asks for a map but you cannot find latitude/longitude columns, you should FALLBACK to a 'BarChart' or 'Table' and mention in the 'interpretation' that a map could not be generated without coordinate data.

11. **Identifying Anomalies or Deviations (When Heatmaps are Implied):**
    *    'Heatmap' is not an available chart type. If a user asks to identify anomalies or deviations across two dimensions (e.g., 'show product defect rates by factory and month'), the best alternatives are:
        *   A 'Table' which can display the values, allowing users to spot deviations.
        *   A 'BarChart' or 'LineChart' if one dimension is categorical and the other is time or another category, highlighting unusual peaks or troughs.
    *   In the 'interpretation', suggest that a heatmap could be a powerful tool for this type of analysis, e.g., "This table shows defect rates. A heatmap visualizing these rates by factory and month could also effectively highlight anomalies."

12. **General Guidance on Chart Choice:**
    *   Always select the chart 'type' from the available list: 'KPI', 'BarChart', 'PieChart', 'LineChart', 'ScatterPlot', 'AreaChart', 'Table', 'Histogram', 'MapChart'.
    *   Prioritize clarity, readability, and effectiveness for the given data and user query.
    *   If a very specific chart type (like Sankey Diagram, Bullet Graph, Gauge, Animated Chart) is requested or implied but unavailable, choose the closest functional alternative from the list above. Then, use the 'interpretation' field to:
        a. Acknowledge the user's implicit request if a specific chart type was implied (e.g., "For visualizing product affinities like in a Sankey diagram...").
        b. Explain the alternative chosen (e.g., "...we are using a table to show related products.").
        c. Briefly state how the chosen alternative still provides relevant insights (e.g., "This table lists products frequently bought together.").
    *   If multiple distinct insights are requested or identifiable, generate multiple, focused dashboard elements rather than trying to cram too much into one.


JSON Output Structure:
{
  "title": "Dashboard Title (e.g., Sales Performance Overview)",
  "dashboardStory": "Overall narrative or key insight from the dashboard (optional, e.g., 'Q4 shows significant growth in online sales, driven by new marketing campaigns.')",
  "themeSuggestion": "Selected theme (e.g., 'ocean_breeze')",
  "generatedQuery": "SELECT ... FROM ? ... (This is the primary SQL query generated by you from natural language/Python, or the user's provided SQL. Include this field IF SQL was involved.)",
  "elements": [
    {
      "id": "unique_element_id_1", // e.g., "kpi_total_revenue"
      "type": "KPI" | "BarChart" | "PieChart" | "LineChart" | "Table" | "ScatterPlot" | "AreaChart" | "Histogram" | "MapChart",
      "title": "Element Title (e.g., Total Revenue YTD)",
      "interpretation": "Brief explanation of the element's significance (optional, e.g., 'Highlights the overall revenue achieved, indicating strong market presence.')",
      // "dataSourceQuery": "SELECT ... FROM ? ... (OPTIONAL: Your SQL or user's SQL. MUST use 'FROM ?', AlaSQL compatible)",
      // --- KPI specific ---
      // "metric": { "column": "sql_alias_or_col", "operation": "OP_OR_NONE", "displayName": "Metric Name" },
      // "valuePrefix": "$", "valueSuffix": "M",
      // --- Chart specific (Bar, Pie, Line, Area, Scatter) ---
      // "dimension": { "column": "sql_alias_or_col_for_x_or__category", "displayName": "X-Axis/Category Name" }, // For Pie, this is the 'nameKey'
      // "metrics": [ { "column": "sql_alias_or_col_for_y_or_value", "operation": "OP_OR_NONE", "displayName": "Y-Axis/Value Name" } ], // For Pie, this is 'valueKey'
      // --- Table specific ---
      // "metrics": [ { "column": "col_name_from_sql_or_original", "operation": "NONE", "displayName": "Header Name" } ]
      // --- Histogram specific ---
      // "metrics": [ { "column": "numerical_column_for_distribution", "operation": "NONE", "displayName": "Value" } ] // Only one metric for histogram
    }
    // ... more elements
  ]
}

CRITICAL JSON Formatting Rules (Strict Adherence Required):
- Your ENTIRE response MUST be ONLY the JSON object. No leading/trailing text, explanations, apologies, comments, or markdown fences (like \`\`\`json).
- ALL JSON keys and string values MUST be enclosed in double quotes. Use only English characters for keys.
- Escape double quotes or backslashes WITHIN strings (e.g., "value with \\"quote\\""). Newlines in strings as \\n.
- Numbers must not be quoted. Ensure correct array [] and object {} structures with commas. NO TRAILING COMMAS.
- Ensure 'generatedQuery' (if present) and 'dataSourceQuery' (if present) are complete, correctly quoted, AlaSQL-compatible, and contain 'FROM ?'.
- Ensure IDs are unique and descriptive. Titles and display names should be clear and engaging.
- Double-check your final JSON for validity before outputting.
`;console.log("System Instruction for Gemini (Dashboard Spec):",c.substring(0,500)+"...");try{const f=(await xf.models.generateContent({model:Kl,contents:t,config:{systemInstruction:c,responseMimeType:"application/json",temperature:.15}})).text.trim();let g;try{let y=f;const _=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,b=y.match(_);b&&b[2]&&(y=b[2].trim()),g=JSON.parse(y)}catch(y){return console.error("Failed to parse Gemini JSON response for dashboard spec:",y),console.error("Problematic JSON string for dashboard spec:",f),{title:"AI Specification Error",elements:[{id:"error_element_spec_parse",type:"Table",title:`Error: AI returned unparsable content. Details: ${y.message}.`,interpretation:`The AI's response was not valid JSON. This can happen with complex requests. Raw AI response logged to console. Try simplifying your query. (Raw: ${f.substring(0,100)}...)`,metrics:[{column:"message",operation:"NONE",displayName:"Error Details"}]}]}}return!g||!Array.isArray(g.elements)?(console.error("Gemini response is not a valid Dashboard specification structure:",g),{title:"AI Specification Error",elements:[{id:"error_element_spec_structure",type:"Table",title:"Error: AI response did not match expected dashboard structure.",interpretation:`The AI's response did not follow the required format. Full response logged to console. (Received: ${JSON.stringify(g).substring(0,100)}...)`,metrics:[{column:"message",operation:"NONE",displayName:"Error Details"}]}]}):(console.log("Parsed Gemini Dashboard Spec:",g),g)}catch(d){console.error("Error calling Gemini API for dashboard spec:",d);let f="An unknown error occurred while contacting the AI service.",g="AI Service Error",y="The AI service encountered an issue. Check console for details. Ensure API_KEY is valid. Try rephrasing or simplifying your query.";return d.message&&(f=d.message,f.includes("404")?(g="AI Model Not Found (404)",y=`The AI service reported that the requested model ('${Kl}') was not found. This could be due to a configuration issue. Details logged to console. Original error: ${f.substring(0,150)}...`):f.includes("500")||f.toLowerCase().includes("server error")||f.toLowerCase().includes("unknown")?(g="AI Service Internal Error (500)",y=`The AI service returned an internal error (often 500 status). This might be temporary or due to request complexity/size. Details logged to console. Original error: ${f.substring(0,150)}...`):f.includes("400")||f.toLowerCase().includes("bad request")?(g="AI Service Bad Request (400)",y=`The AI service indicated a 'Bad Request' (often 400 status). This usually means the query or data format was not understood. Details logged to console. Original error: ${f.substring(0,150)}...`):(f.includes("401")||f.includes("403")||f.toLowerCase().includes("unauthorized")||f.toLowerCase().includes("permission"))&&(g="AI Service Authentication/Permission Error",y=`There was an authentication or permission issue with the AI service (e.g., invalid API key). Please verify your API_KEY. Details logged to console. Original error: ${f.substring(0,150)}...`)),{title:g,elements:[{id:"error_element_api",type:"Table",title:g,interpretation:y,metrics:[{column:"message",operation:"NONE",displayName:"Error Details"}]}]}}},Kne=async(t,e,n,r,i)=>{var f,g;const o=e.data.slice(0,15),s=r.slice(0,3).map(y=>JSON.stringify(y)).join(`
`),c=`
You are an expert data analyst. Your task is to analyze the provided chart data, identify significant anomalies or outliers, and suggest potential explanations by considering other columns in the original dataset.
Output your findings as a well-formatted MARKDOWN string. Use headings for anomalies and bullet points for explanations. Be concise yet insightful.
`,d=`
Analyze the following chart data for anomalies:

**Chart Title:** ${t.title}
**Chart Type:** ${t.type}
**Dimension:** ${((f=t.dimension)==null?void 0:f.displayName)||((g=t.dimension)==null?void 0:g.column)||"N/A"}
**Metrics:** ${t.metrics.map(y=>y.displayName||y.column).join(", ")}

**Chart Data (Sample):**
\`\`\`json
${JSON.stringify(o,null,2)}
\`\`\`

**Context from Original Dataset:**
The original dataset from which this chart was derived contains the following columns: ${n.join(", ")}.
Here's a small sample of the original dataset (first 3 rows):
\`\`\`json
${s}
\`\`\`

**Your Task:**
1.  Identify 1 or 2 of the most significant anomalies, outliers, or unexpected patterns in the **Chart Data (Sample)**.
    Consider anomalies as data points that deviate significantly from the general trend, mean, or typical range of values (similar to how Z-scores or Interquartile Range methods identify outliers).
2.  For each identified anomaly:
    a.  Provide a clear, concise **description** of what the anomaly is (e.g., "Unexpected spike in sales for Product X in Q3").
    b.  Suggest 1-3 **potential contributing factors or business explanations**. CRITICALLY, these explanations should try to link the anomaly to other columns available in the **Original Dataset Sample** or the general **Original Dataset Columns** list if plausible connections can be inferred. For example, if 'Sales' dropped, was there a corresponding drop in 'Marketing Spend' or an increase in 'Customer Complaints' in related original data columns?
    c.  If relevant, mention the specific data point (e.g., dimension value) where the anomaly is most prominent.
3.  Format your entire response as a single MARKDOWN string. Use headings (e.g., \`## Anomaly in [Metric Name]\`) and bullet points for clarity. If no significant anomalies are found, state that clearly (e.g., "No significant anomalies were detected in the provided sample.").
DO NOT use JSON or any other format than Markdown for your final output.
`;console.log("System Instruction for Gemini (Anomaly Analysis):",c),console.log("User Prompt for Gemini (Anomaly Analysis) - Chart Data Sample:",o);try{const y=await xf.models.generateContentStream({model:Kl,contents:d,config:{systemInstruction:c,temperature:.3}});let _="";for await(const b of y){const P=b.text;P&&(_+=P,i(P))}console.log("Full Gemini Anomaly Insight (Markdown):",_),(!_||_.length<10&&!_.toLowerCase().includes("no significant anomalies"))&&i(`

## Analysis Incomplete
The AI returned a very short or potentially empty response. Please try again or check the console for the raw AI output.`)}catch(y){console.error("Error calling Gemini API for anomaly insights:",y);let _="An unknown error occurred while contacting the AI service for anomaly analysis.";y.message&&(_=y.message),i(`

## AI Analysis Error
An error occurred: ${_}. Please check the console and ensure your API key is valid.`)}},Zne=async(t,e)=>{const n=t.join(", ");let r="No sample data provided.";e&&e.length>0&&(r=`Here is a sample of the first ${e.length} data rows (column names are case-sensitive):
`,e.forEach(o=>{r+=JSON.stringify(o)+`
`}));const i=`
You are an AI data profiling assistant. Your task is to analyze the provided column names and sample data to generate a concise data profile.
Your SOLE output MUST be a single, valid JSON object adhering to the schema described below. DO NOT include any other text, explanations, apologies, or conversational elements.

Dataset Context:
- Available columns: ${n}
- ${r}

JSON Output Schema:
{
  "profile": {
    "overallSummary": "A brief (1-2 sentences) overall assessment of the data based on the profile. Mention any significant widespread issues like high missing values or inconsistent types if observed.",
    "columns": [
      {
        "columnName": "string", // Name of the column
        "inferredType": "string", // Best guess for the data type. Options: "Numerical", "Categorical", "Text", "Date", "Boolean", "Mixed", "Unknown"
        "missingPercentage": "number", // Percentage of missing/null values (0-100), calculated from the sample. Round to 1 decimal place.
        "uniqueValues": "number", // (Optional) Estimated count of unique values if easily determinable from sample and type is Categorical/Text. If too many or not applicable, omit this field.
        "valueRange": ["string_or_number", "string_or_number"], // (Optional) For "Numerical" or "Date" types, provide [min, max] observed in the sample. For "Categorical" with few unique values (<=5), provide up to 2 sample values like ["sample1", "sample2"]. Omit if not applicable.
        "notes": "string" // (Optional) Brief notes like "High cardinality", "Potential mixed types observed", "Likely ID column", "Seems suitable for direct use", "Predominantly null in sample".
      }
      // ... one object for each column in the dataset
    ]
  }
}

Guidelines for Profiling:
1.  **Iterate through ALL columns** provided in the 'Available columns' list.
2.  **inferredType**:
    *   "Numerical": Contains numbers (integers or decimals).
    *   "Categorical": Contains a limited set of distinct string or numerical values representing groups.
    *   "Text": Contains free-form strings, long descriptions.
    *   "Date": Contains recognizable date/time values.
    *   "Boolean": Contains true/false or 0/1 representing binary states.
    *   "Mixed": If a column appears to contain multiple data types in the sample (e.g., numbers and text).
    *   "Unknown": If type cannot be reasonably inferred from the sample.
3.  **missingPercentage**: Based on the provided sample, calculate the percentage of null, undefined, or empty string values for each column.
4.  **uniqueValues**: For Categorical or Text columns, if the number of unique values in the sample is small (e.g., <= 10), provide the count. If many unique values or not applicable (e.g., for purely numerical columns), omit this.
5.  **valueRange**:
    *   For Numerical types: [min_sample_value, max_sample_value].
    *   For Date types: [earliest_sample_date, latest_sample_date] (as strings).
    *   For Categorical types with very few unique values (e.g., 2-5 unique values in sample): list up to 2 example values, e.g., ["Active", "Inactive"].
    *   Omit for Text, Boolean, Mixed, Unknown types or if not meaningful.
6.  **notes**: Provide concise, useful observations. Prioritize warnings or actionable insights. If a column looks clean and straightforward, a simple note like "Appears to be clean categorical data" is fine.
7.  **overallSummary**: Concisely summarize the most important findings from the column profiles.

CRITICAL JSON Formatting Rules:
- Your ENTIRE response MUST be ONLY the JSON object. No leading/trailing text or markdown.
- ALL JSON keys and string values MUST be enclosed in double quotes.
- Numbers must not be quoted. Ensure correct array [] and object {} structures with commas. NO TRAILING COMMAS.
- Ensure all specified fields in the schema are present if applicable, or correctly omitted.
`;try{const s=(await xf.models.generateContent({model:Kl,contents:`Generate a data profile for the dataset with columns: ${n}.`,config:{systemInstruction:i,responseMimeType:"application/json",temperature:.1}})).text.trim();let c;try{let d=s;const f=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,g=d.match(f);g&&g[2]&&(d=g[2].trim()),c=JSON.parse(d)}catch(d){return console.error("Failed to parse Gemini JSON response for data profile:",d),console.error("Problematic JSON string for data profile:",s),{profile:{overallSummary:`Error: AI returned unparsable content for data profile. ${d.message}`,columns:t.map(f=>({columnName:f,inferredType:"Error",missingPercentage:0,notes:"Parsing failed."}))}}}return!c||!c.profile||!Array.isArray(c.profile.columns)?(console.error("Gemini response is not a valid DataProfile structure:",c),{profile:{overallSummary:"Error: AI response did not match expected data profile structure.",columns:t.map(d=>({columnName:d,inferredType:"Error",missingPercentage:0,notes:"Structure mismatch."}))}}):(console.log("Parsed AI Data Profile:",c),c)}catch(o){console.error("Error calling Gemini API for data profile:",o);let s="An unknown error occurred while contacting the AI service for data profiling.";return o.message&&(s=o.message),{profile:{overallSummary:`AI Profiling Error: ${s}. Check console for details.`,columns:t.map(c=>({columnName:c,inferredType:"Error",missingPercentage:0,notes:"API call failed."}))}}}},Jne=async(t,e)=>{const n=t.join(", ");let r="No sample data provided.";e&&e.length>0&&(r=`Here is a sample of the first ${e.length} data rows:
`,e.forEach(o=>{r+=JSON.stringify(o)+`
`}));const i=`
You are an AI assistant that suggests interesting questions to ask about a dataset.
Based on the provided column names and sample data, generate a list of 3 to 5 insightful questions a user could ask to generate a dashboard.
Focus on questions that would lead to interesting visualizations (trends, comparisons, distributions, correlations).
Your SOLE output MUST be a single, valid JSON object adhering to the schema:
{
  "suggestedPrompts": [
    "string"
  ]
}

CRITICAL JSON Formatting Rules:
- Your ENTIRE response MUST be ONLY the JSON object. No leading/trailing text, comments, or markdown fences.
- ALL JSON keys and string values MUST be enclosed in double quotes.
- NO TRAILING COMMAS.

Dataset Context:
- Available columns: ${n}
- ${r}
`;try{const s=(await xf.models.generateContent({model:Kl,contents:`Generate suggested prompts for the dataset with columns: ${n}.`,config:{systemInstruction:i,responseMimeType:"application/json",temperature:.5}})).text.trim();let c;try{let d=s;const f=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,g=d.match(f);g&&g[2]&&(d=g[2].trim()),c=JSON.parse(d)}catch(d){return console.error("Failed to parse Gemini JSON response for automated insights:",d),console.error("Problematic JSON string for automated insights:",s),{suggestedPrompts:[]}}return!c||!Array.isArray(c.suggestedPrompts)?(console.error("Gemini response is not a valid AIAutomatedInsightsResponse structure:",c),{suggestedPrompts:[]}):(console.log("Parsed AI Automated Insights:",c),c)}catch(o){return console.error("Error calling Gemini API for automated insights:",o),{suggestedPrompts:[]}}},Yne=async(t,e)=>{const n=e.data.slice(-20),r=e.dimensionKey,i=e.metricKeys;if(!r||i.length===0||n.length<2)return{forecastedData:[],forecastExplanation:"Forecasting requires at least two data points with a clear dimension and metric."};const o=`
You are an AI forecasting specialist. Your task is to analyze historical time-series data and provide a forecast for the next 5 periods.
Your SOLE output MUST be a single, valid JSON object adhering to the schema described below. DO NOT include any other text, explanations, or conversational markdown.

JSON Output Schema:
{
  "forecastedData": [
    // An array of 5 objects, each representing a forecasted data point.
    // The structure of each object MUST exactly match the historical data structure provided in the sample.
    // Use the same keys: "${r}" and "${i.join('", "')}".
    // Example: { "${r}": "Future_Period_1", "${i[0]}": 123.45 }
  ],
  "forecastExplanation": "A brief, 1-2 sentence explanation of the forecast trend (e.g., 'The forecast indicates continued growth based on the recent upward trend.')"
}

Historical Data Context:
- Chart Title: ${t.title}
- Dimension (X-axis): ${r}
- Metrics (Y-axis): ${i.join(", ")}
- Here is a sample of recent historical data (last ${n.length} points):
\`\`\`json
${JSON.stringify(n,null,2)}
\`\`\`

Your Task:
1.  Analyze the provided historical data to identify trends, seasonality, or other patterns.
2.  Generate a sensible forecast for the **next 5 periods** for each metric: ${i.join(", ")}.
3.  For the dimension "${r}", you must logically increment it. 
    - If it looks like a year-month ('YYYY-MM'), increment the month.
    - If it's a year ('YYYY'), increment the year.
    - If it's a number, increment the number.
    - If it's a quarter ('Q1 2023'), increment the quarter.
    - If it's a day, increment the day.
    - Otherwise, create logical future labels like "Forecast Period 1", "Forecast Period 2", etc.
4.  For the metric(s), predict the future values based on the historical trend.
5.  Format your entire response strictly as the JSON object defined in the schema. Ensure keys in \`forecastedData\` objects exactly match the keys from the historical data sample. Do not add extra keys. Ensure there are exactly 5 forecast points.
`;try{const c=(await xf.models.generateContent({model:Kl,contents:"Generate a 5-period forecast for the provided time-series data.",config:{systemInstruction:o,responseMimeType:"application/json",temperature:.2}})).text.trim();let d;try{let f=c;const g=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,y=f.match(g);y&&y[2]&&(f=y[2].trim()),d=JSON.parse(f)}catch(f){return console.error("Failed to parse Gemini JSON response for forecast:",f),console.error("Problematic JSON string for forecast:",c),{forecastedData:[],forecastExplanation:`Error: AI returned unparsable content for forecast. ${f.message}. See console for details.`}}return!d||!Array.isArray(d.forecastedData)?(console.error("Gemini forecast response did not match expected structure:",d),{forecastedData:[],forecastExplanation:"Error: AI forecast response did not match the expected structure. See console for details."}):(console.log("Parsed AI Forecast:",d),d)}catch(s){return console.error("Error calling Gemini API for forecast:",s),{forecastedData:[],forecastExplanation:`An error occurred while contacting the AI service for forecasting: ${s.message}`}}},vl=({message:t="Loading..."})=>M.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-8 w-8 text-primary-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),M.jsx("p",{className:"mt-2 text-slate-300",children:t})]}),Xne=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),gw=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{if(!t)return null;const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-full sm:max-w-3xl md:max-w-4xl lg:max-w-5xl xl:max-w-6xl"};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[9990] transition-opacity duration-300 ease-in-out",onClick:e,"aria-hidden":"true"}),M.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:M.jsxs("div",{className:`bg-slate-800/70 backdrop-blur-lg rounded-xl shadow-2xl w-full ${o[i]} flex flex-col max-h-[90vh] transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modalShow border border-slate-600/80`,children:[M.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b border-slate-600/80 sticky top-0 bg-slate-800/70 backdrop-blur-lg z-10 rounded-t-xl",children:[M.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-slate-100",children:n}),M.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md transition-colors","aria-label":"Close modal",children:M.jsx(Xne,{})})]}),M.jsx("div",{className:"p-4 md:p-5 flex-grow overflow-y-auto text-slate-300",children:r})]})}),M.jsx("style",{children:`
        @keyframes modalShow {
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-modalShow {
          animation: modalShow 0.3s forwards;
        }
      `})]})},Qne=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-white",children:[M.jsx("path",{d:"M7 4a3 3 0 0 1 6 0v6a3 3 0 1 1-6 0V4Z"}),M.jsx("path",{d:"M5.5 4.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-6Z",clipRule:"evenodd"}),M.jsx("path",{d:"M1.188 10.13a.75.75 0 0 1 1.06-1.06l1.357 1.356A4.503 4.503 0 0 0 8.5 11.5v.001A4.503 4.503 0 0 0 13.5 10c0-1.633-.898-3.067-2.205-3.812a.75.75 0 0 1 .51-1.404A5.999 5.999 0 0 1 15 10a6 6 0 0 1-6 6c-2.064 0-3.895-.98-5.023-2.522L2.25 14.75a.75.75 0 0 1-1.06-1.06l1.002-1.002-1.004-1.003Z"})]}),ere=({onRefine:t,disabled:e,onToggleListening:n,isListening:r,voiceError:i})=>{const[o,s]=X.useState(""),c=d=>{d.preventDefault(),o.trim()&&!e&&(t(o.trim()),s(""))};return M.jsxs("form",{onSubmit:c,className:"mt-6 p-4 bg-slate-800/50 backdrop-blur-sm shadow-xl rounded-xl border border-slate-600/50",children:[M.jsx("label",{htmlFor:"refine-prompt",className:"block text-sm font-medium text-slate-300 mb-2",children:"Refine this dashboard with a follow-up command:"}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("textarea",{id:"refine-prompt",value:o,onChange:d=>s(d.target.value),placeholder:r?"Listening...":"e.g., 'Change the pie chart to a bar chart', 'Only show data for North America', 'Add a KPI for average revenue'",rows:2,className:"flex-grow p-3 border border-slate-500 rounded-md shadow-sm focus:ring-2 focus:ring-accent-500 focus:border-accent-500 text-sm bg-slate-700 text-slate-200 placeholder-slate-400 disabled:opacity-50",disabled:e}),M.jsx("button",{type:"button",onClick:n,disabled:e,className:`p-2.5 rounded-md shadow-lg transition-all duration-200 self-stretch focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-accent-400 disabled:opacity-50 disabled:cursor-not-allowed ${r?"bg-red-600 animate-pulse":"bg-primary-600 hover:bg-primary-500"}`,title:r?"Stop Listening":"Start Voice Command",children:M.jsx(Qne,{})}),M.jsx("button",{type:"submit",disabled:e||!o.trim(),className:"bg-gradient-to-r from-primary-500 to-accent-500 hover:from-primary-600 hover:to-accent-600 text-white font-semibold py-2.5 px-4 rounded-md shadow-lg disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-700 focus:ring-accent-400 transition-all duration-200 self-stretch",title:"Refine Dashboard",children:"Refine"})]}),i&&M.jsx("p",{className:"text-xs text-red-400 mt-2",children:i})]})},M_=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 inline-block mr-1.5 align-text-bottom",children:M.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.39-3.468 3.468a.75.75 0 0 0 .53 1.28h1.841l.475 4.593.872 1.281c.321.472.996.472 1.317 0l.873-1.281.475-4.593h1.841a.75.75 0 0 0 .53-1.28l-3.468-3.468-4.753-.39-1.83-4.401Z",clipRule:"evenodd"})}),I_=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 inline-block mr-1.5 align-text-bottom",children:M.jsx("path",{fillRule:"evenodd",d:"M6.28 5.22a.75.75 0 0 1 0 1.06L3.56 9.25l2.72 2.97a.75.75 0 0 1-1.06 1.06L1.97 10.03a.75.75 0 0 1 0-1.06l3.25-3.5a.75.75 0 0 1 1.06 0Zm7.44 0a.75.75 0 0 1 1.06 0l3.25 3.5a.75.75 0 0 1 0 1.06l-3.25 3.5a.75.75 0 0 1-1.06-1.06L16.44 9.25l-2.72-2.97a.75.75 0 0 1 0-1.06ZM11.344 3.027a.75.75 0 0 1 .632 1.341l-2.5 11.5a.75.75 0 0 1-1.452-.314l2.5-11.5a.75.75 0 0 1 .82-.527Z",clipRule:"evenodd"})}),O_=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-1.5",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),nh=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-1.5",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),tre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1.5 text-slate-400",children:M.jsx("path",{d:"M10 2.5a.75.75 0 0 0-7.383 5.433c.23.033.463.05.707.05h13.352c.244 0 .477-.017.708-.05A.75.75 0 0 0 10 2.5ZM2.808 9.434c-.033-.24-.05-.48-.05-.734h14.484c0 .254-.017.494-.05.734A2.5 2.5 0 0 0 14.5 11.9a2.5 2.5 0 0 0 2.232 1.466c.033.24.05.48.05.734h-1.071a.75.75 0 0 0-.75.75c0 .414.336.75.75.75h.321V16a2.5 2.5 0 0 0-2.5-2.5h-1.53a.75.75 0 0 0-.75.75c0 .414.336.75.75.75H12A2.5 2.5 0 0 1 9.5 17h-1A2.5 2.5 0 0 1 6 14.5H5.25a.75.75 0 0 0-.75-.75.75.75 0 0 0-.75.75H3.429V14.1a.75.75 0 0 0 .75-.75.75.75 0 0 0 .75.75h.321a2.5 2.5 0 0 0 2.5-2.5h-1.53a.75.75 0 0 0-.75.75c0 .414.336.75.75.75H8A2.5 2.5 0 0 1 5.5 17h-1A2.5 2.5 0 0 1 2 14.5v-.434c0-.254.017-.494.05-.734A2.5 2.5 0 0 0 4.5 11.9a2.5 2.5 0 0 0-2.232-1.466Z"})}),BO=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-3.5 h-3.5",children:M.jsx("path",{d:"M2.22 2.22a.75.75 0 0 1 1.06 0L8 6.94l4.72-4.72a.75.75 0 1 1 1.06 1.06L9.06 8l4.72 4.72a.75.75 0 1 1-1.06 1.06L8 9.06l-4.72 4.72a.75.75 0 0 1-1.06-1.06L6.94 8 2.22 3.28a.75.75 0 0 1 0-1.06Z"})}),nre=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-1.5",children:[M.jsx("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),M.jsx("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"})]}),rre=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1.5",children:[M.jsx("path",{d:"M13 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM8.5 6a3.5 3.5 0 0 0-3.181 2.053.75.75 0 0 0 1.362.794A2.001 2.001 0 0 1 8.5 7.5h3a2.001 2.001 0 0 1 1.819 1.347.75.75 0 1 0 1.362-.794A3.5 3.5 0 0 0 11.5 6h-3Z"}),M.jsx("path",{d:"M15.5 11.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM5.5 11.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}),M.jsx("path",{d:"M10 12.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})]}),ire={default:"Default Vibrant",ocean_breeze:"Ocean Breeze",executive_dark:"Executive Dark",autumn_analytics:"Autumn Analytics",vibrant_growth:"Vibrant Growth",monochrome_professional:"Monochrome Pro",sunset_glow:"Sunset Glow",forest_depth:"Forest Depth",tech_circuitry:"Tech Circuitry",futuristic_dark:"Futuristic Dark"},ore=({dashboardData:t,rawData:e,originalFileData:n,isLoading:r,currentPrompt:i,activeFiltersCount:o=0,selectedTheme:s,onThemeChange:c,drillDownFilter:d,onChartElementClick:f,onClearDrillDownFilter:g,onFocusChart:y,onRefine:_,onSaveAndShare:b,onToggleListening:P,isListening:C,voiceError:A,onChartTypeChange:R})=>{const[N,k]=X.useState(null),[$,I]=X.useState(null),[D,F]=X.useState(null),[U,z]=X.useState(!1),[G,j]=X.useState("Copy SQL"),K=X.useRef(null),Q=X.useRef(null),[re,ie]=X.useState(!1),[ae,de]=X.useState(!1),[J,ce]=X.useState({}),[ne,V]=X.useState(null),ee=(t==null?void 0:t.themeSuggestion)==="futuristic_dark"?"futuristic_dark":s,ve=X.useMemo(()=>!(t!=null&&t.elements)||!e?[]:t.elements.map(Pe=>({spec:Pe,data:YR(e,Pe)})),[e,t]),Ce=X.useCallback(async(Pe,ze)=>{if(!n||!n.columns||!n.rows){F("Original data context is missing. Cannot perform anomaly analysis."),I({title:`Anomaly Analysis Error for ${Pe.title}`,content:"Original data context is missing."});return}k(Pe.id),F(null),I({title:`Anomaly Analysis: ${Pe.title}`,content:""});try{await Kne(Pe,ze,n.columns,n.rows,Ve=>{I(it=>it?{...it,content:it.content+Ve}:{title:`Anomaly Analysis: ${Pe.title}`,content:Ve})})}catch(Ve){console.error("Anomaly analysis error:",Ve);const it=Ve instanceof Error?Ve.message:String(Ve);F(`Failed to get anomaly insights: ${it}`),I(gt=>({...gt,content:gt.content+`

**Error:** ${it}`}))}},[n]),le=X.useCallback(async(Pe,ze)=>{if(!(ze!=null&&ze.data)||ze.data.length<2){alert("Not enough data to perform a forecast.");return}V(Pe.id);try{const{forecastedData:Ve,forecastExplanation:it}=await Yne(Pe,ze);Ve&&Ve.length>0?ce(gt=>({...gt,[Pe.id]:{data:Ve,explanation:it}})):alert(`AI could not generate a forecast. Reason: ${it||"No data returned."}`)}catch(Ve){const it=Ve instanceof Error?Ve.message:String(Ve);alert(`An error occurred while forecasting: ${it}`),console.error("Forecast error:",Ve)}finally{V(null)}},[]),pe=X.useCallback(Pe=>{ce(ze=>{const Ve={...ze};return delete Ve[Pe],Ve})},[]),Le=X.useCallback((Pe,ze)=>{const Ve=ze.replace(/[^a-z0-9]/gi,"_").toLowerCase();XR(Pe.data,`${Ve}.csv`)},[]),Oe=X.useCallback(async()=>{var Pe;if(!Q.current||typeof html2canvas>"u"){alert("Could not export dashboard. Element not found or export library missing.");return}ie(!0);try{await new Promise(Yt=>setTimeout(Yt,100));const Ve=(await html2canvas(Q.current,{backgroundColor:"#0f172a",scale:1.5,useCORS:!0,logging:!1})).toDataURL("image/png",1),it=document.createElement("a"),gt=((Pe=t==null?void 0:t.title)==null?void 0:Pe.replace(/[^a-z0-9]/gi,"_").toLowerCase())||"dashboard";it.href=Ve,it.download=`${gt}_export.png`,document.body.appendChild(it),it.click(),document.body.removeChild(it)}catch(ze){console.error("Error exporting dashboard as PNG:",ze),alert("Failed to export dashboard. See console for details.")}finally{ie(!1)}},[t==null?void 0:t.title]),_e=()=>{I(null),F(null),k(null)},ke=X.useCallback(()=>{var Pe;if(K.current&&(t!=null&&t.generatedQuery||((Pe=t==null?void 0:t.elements)==null?void 0:Pe.length)===0&&(t!=null&&t.generatedQuery))){const ze=t==null?void 0:t.generatedQuery;ze&&navigator.clipboard.writeText(ze).then(()=>{j("Copied!"),setTimeout(()=>j("Copy SQL"),2e3)}).catch(Ve=>{console.error("Failed to copy SQL: ",Ve),j("Error Copying"),setTimeout(()=>j("Copy SQL"),2e3)})}},[t==null?void 0:t.generatedQuery,t==null?void 0:t.elements]),He=()=>{const Pe=b();navigator.clipboard.writeText(Pe).then(()=>{de(!0),setTimeout(()=>de(!1),2e3)})};if(r&&!N&&!ne)return M.jsx(vl,{message:"Generating dashboard elements..."});const ge=t==null?void 0:t.elements,rt=(t==null?void 0:t.title)||(i?`Results for: "${i}"`:"Generated Dashboard"),Qe=t==null?void 0:t.dashboardStory,pt=t==null?void 0:t.generatedQuery;if(ge&&ge.length===1&&ge[0].id.startsWith("error_element_")){const Pe=ge[0];let ze="The AI encountered an issue generating the dashboard. ";Pe.id==="error_element_spec_parse"?ze+=`The AI's response was not in the correct format. (Details: ${Pe.title}). Please try rephrasing your query. Check the console for the raw AI response.`:Pe.id==="error_element_spec_structure"?ze+="The AI's response structure was invalid. Please try again. Check console for details.":Pe.id==="error_element_api"?ze+=`${Pe.title}. This could be due to API key issues, network problems, or an internal AI error. Please check the console.`:ze+="An unexpected error occurred with the AI. Please check the console.";const Ve=Pe.title&&!Pe.title.toLowerCase().includes("error:")?Pe.title:"AI Response Error",it={data:[{Message:ze}],metricKeys:["Message"],chartType:"Table",dimensionKey:void 0};return M.jsxs("div",{className:"p-4 md:p-6 h-full flex flex-col",children:[rt&&M.jsx("h1",{className:"text-3xl font-bold text-slate-100 mb-4 text-center flex-shrink-0",children:rt}),M.jsx("div",{className:"flex-grow",children:M.jsx(xI,{elementSpec:{...Pe,title:Ve},processedData:it,themeSuggestion:ee,onAnalyzeAnomaly:async()=>{},isAnalyzingAnomaly:!1,onChartElementClick:f,onFocusChart:y,onExportChartData:Le,onChartTypeChange:R,onForecast:le,onClearForecast:pe,isForecasting:!1,forecast:void 0})})]})}if(!ge||ge.length===0){let Pe="Upload data and ask a question to see your dashboard.",ze="The AI will generate visualizations based on your query.",Ve=!1;i&&n&&n.columns.length>0?(Pe=`The AI couldn't generate visual elements for your request: "${i}".`,ze="Consider rephrasing your query, checking your data, or reviewing any AI narrative or SQL shown below if available.",Ve=!0):n&&n.columns.length>0&&!i&&(Pe="Your data is loaded. Ask a question to generate a dashboard.",ze=`Using file: ${n.name}`);const it=t==null?void 0:t.dashboardStory,gt=t==null?void 0:t.generatedQuery;return M.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 md:p-8 text-center",children:[Ve&&it&&M.jsxs("div",{className:"mb-6 p-4 bg-accent-700/20 backdrop-blur-sm border border-accent-600/30 rounded-lg shadow-lg max-w-4xl w-full",children:[M.jsxs("h2",{className:"text-lg font-semibold text-accent-300 mb-2",children:[M.jsx(M_,{})," AI Narrative Overview"]}),M.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:it})]}),Ve&&gt&&M.jsxs("div",{className:"mb-6 p-4 bg-slate-700/40 backdrop-blur-sm border border-slate-600/50 rounded-lg shadow-lg max-w-4xl w-full",children:[M.jsxs("button",{onClick:()=>z(!U),className:"w-full flex items-center justify-between text-left text-md font-semibold text-slate-300 hover:text-primary-300 focus:outline-none py-2","aria-expanded":U,"aria-controls":"generated-sql-content-empty",children:[M.jsxs("span",{className:"flex items-center",children:[M.jsx(I_,{})," View AI-Attempted SQL Query"]}),M.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-200 ${U?"rotate-180":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:M.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),U&&M.jsxs("div",{id:"generated-sql-content-empty",className:"mt-3 pt-3 border-t border-slate-600",children:[M.jsx("pre",{className:"bg-slate-900 text-slate-200 p-3 rounded-md text-xs overflow-x-auto max-h-60 custom-scrollbar-dark",children:M.jsx("code",{ref:K,children:gt})}),M.jsxs("button",{onClick:ke,className:"mt-3 flex items-center px-3 py-1.5 text-xs bg-primary-600 hover:bg-primary-500 text-white font-medium rounded-md shadow-md disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-700 focus:ring-primary-400",disabled:G!=="Copy SQL",children:[G==="Copied!"?M.jsx(nh,{}):M.jsx(O_,{}),G]})]})]}),M.jsxs("div",{className:`w-full ${Ve&&(it||gt)?"mt-4":""} bg-slate-700/30 backdrop-blur-md rounded-xl shadow-xl border border-slate-600/50 p-8`,children:[M.jsx("svg",{className:"w-20 h-20 text-slate-500 mb-6 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7c0-1.1.9-2 2-2h10a2 2 0 012 2v8a2 2 0 01-2 2z"})}),M.jsx("h2",{className:"text-2xl font-semibold text-slate-100",children:Pe}),M.jsx("p",{className:"text-slate-400 mt-2",children:ze})]})]})}const mt=M.jsxs("div",{className:"p-2 sm:p-4 md:p-6 flex flex-col h-full items-center justify-center text-center",children:[rt&&M.jsx("h1",{className:"text-3xl font-bold text-slate-100 mb-3 text-center flex-shrink-0",children:rt}),d&&M.jsxs("div",{className:"mb-4 inline-flex items-center gap-2 px-3 py-1.5 bg-accent-600/40 text-accent-100 rounded-full text-sm font-medium shadow-md",children:[M.jsxs("span",{children:["Drilled down on: ",M.jsxs("strong",{children:[d.column," = ",String(d.value)]})]}),M.jsx("button",{onClick:g,className:"p-0.5 hover:bg-accent-500/50 rounded-full",title:"Clear drill-down filter","aria-label":"Clear drill-down filter",children:M.jsx(BO,{})})]}),Qe&&!d&&M.jsxs("div",{className:"mb-6 p-4 bg-accent-700/20 backdrop-blur-sm border border-accent-600/30 rounded-lg shadow-lg max-w-4xl mx-auto w-full",children:[M.jsxs("h2",{className:"text-lg font-semibold text-accent-300 mb-2",children:[M.jsx(M_,{})," AI Narrative Overview"]}),M.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:Qe})]}),pt&&!d&&M.jsxs("div",{className:"mb-6 p-4 bg-slate-700/40 backdrop-blur-sm border border-slate-600/50 rounded-lg shadow-lg max-w-4xl mx-auto w-full",children:[M.jsxs("button",{onClick:()=>z(!U),className:"w-full flex items-center justify-between text-left text-lg font-semibold text-slate-300 hover:text-primary-300 focus:outline-none","aria-expanded":U,"aria-controls":"generated-sql-content",children:[M.jsxs("span",{children:[M.jsx(I_,{})," AI Generated SQL Query"]}),M.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-200 ${U?"rotate-180":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:M.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),U&&M.jsxs("div",{id:"generated-sql-content",className:"mt-3 pt-3 border-t border-slate-600",children:[M.jsx("pre",{className:"bg-slate-900 text-slate-200 p-3 rounded-md text-xs overflow-x-auto max-h-60 custom-scrollbar-dark",children:M.jsx("code",{ref:K,children:pt})}),M.jsxs("button",{onClick:ke,className:"mt-3 flex items-center px-3 py-1.5 text-xs bg-primary-600 hover:bg-primary-500 text-white font-medium rounded-md shadow-md disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-700 focus:ring-primary-400",disabled:G!=="Copy SQL",children:[G==="Copied!"?M.jsx(nh,{}):M.jsx(O_,{}),G]})]})]}),M.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-slate-700/30 backdrop-blur-md rounded-lg shadow-xl border border-slate-600/50",children:[M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-primary-400 mb-4",children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h3m-3 0h-3m0 0V7.5m0 3v3"})]}),M.jsx("h2",{className:"text-xl font-semibold text-slate-100 mb-2",children:"No Data Matches Filters"}),M.jsx("p",{className:"text-slate-400",children:d?"The current drill-down combined with other filters results in no data.":"Try adjusting or clearing the applied filters to see dashboard elements."})]})]});return(o>0||d)&&(!e||e.length===0)?mt:M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"p-2 sm:p-4 md:p-6 flex flex-col h-full overflow-y-auto",children:[M.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row justify-between items-center gap-3",children:[rt&&M.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-100 text-center sm:text-left flex-shrink-0 order-1 sm:order-none",children:rt}),M.jsxs("div",{className:"flex items-center gap-2 order-none sm:order-1 self-center sm:self-auto",children:[M.jsxs("div",{className:"relative",children:[M.jsx("label",{htmlFor:"theme-selector",className:"sr-only",children:"Select Theme"}),M.jsxs("div",{className:"flex items-center bg-slate-700/50 backdrop-blur-sm border border-slate-600 rounded-md shadow-md px-2 py-1.5 hover:border-slate-500",children:[M.jsx(tre,{}),M.jsx("select",{id:"theme-selector",value:ee,onChange:Pe=>c(Pe.target.value),className:"text-xs text-slate-300 font-medium bg-transparent border-none focus:ring-0 focus:outline-none appearance-none pr-5 cursor-pointer",children:Object.entries(ire).map(([Pe,ze])=>M.jsx("option",{value:Pe,className:"bg-slate-700 text-slate-200",children:ze},Pe))}),M.jsx("svg",{className:"w-3 h-3 text-slate-400 absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none",fill:"currentColor",viewBox:"0 0 20 20",children:M.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),M.jsxs("button",{onClick:He,className:"flex items-center text-xs font-medium px-3 py-2 bg-slate-700/50 hover:bg-slate-600/70 backdrop-blur-sm text-slate-200 rounded-md shadow-md border border-slate-600 disabled:opacity-50 transition-colors",title:"Copy shareable link to dashboard",children:[ae?M.jsx(nh,{}):M.jsx(rre,{}),ae?"Link Copied!":"Share"]}),M.jsx("button",{onClick:Oe,disabled:re,className:"flex items-center text-xs font-medium px-3 py-2 bg-slate-700/50 hover:bg-slate-600/70 backdrop-blur-sm text-slate-200 rounded-md shadow-md border border-slate-600 disabled:opacity-50 disabled:cursor-wait transition-colors",title:"Export entire dashboard as PNG",children:re?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):M.jsxs(M.Fragment,{children:[M.jsx(nre,{}),"Export"]})})]})]}),d&&M.jsxs("div",{className:"mb-4 inline-flex items-center gap-2 px-3 py-1.5 bg-accent-600/40 text-accent-100 rounded-full text-sm font-medium shadow-md self-start",children:[M.jsxs("span",{children:["Drilled down on: ",M.jsxs("strong",{children:[d.column," = ",String(d.value)]})]}),M.jsx("button",{onClick:g,className:"p-0.5 hover:bg-accent-500/50 rounded-full",title:"Clear drill-down filter","aria-label":"Clear drill-down filter",children:M.jsx(BO,{})})]}),Qe&&M.jsxs("div",{className:"mb-6 p-4 bg-accent-700/20 backdrop-blur-sm border border-accent-600/30 rounded-lg shadow-lg max-w-4xl mx-auto w-full",children:[M.jsxs("h2",{className:"text-lg font-semibold text-accent-300 mb-2",children:[M.jsx(M_,{})," AI Narrative Overview"]}),M.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:Qe})]}),pt&&M.jsxs("div",{className:"mb-6 p-4 bg-slate-700/40 backdrop-blur-sm border border-slate-600/50 rounded-lg shadow-lg max-w-4xl mx-auto w-full",children:[M.jsxs("button",{onClick:()=>z(!U),className:"w-full flex items-center justify-between text-left text-md font-semibold text-slate-300 hover:text-primary-300 focus:outline-none py-2","aria-expanded":U,"aria-controls":"generated-sql-content-main",children:[M.jsxs("span",{className:"flex items-center",children:[M.jsx(I_,{})," View AI-Generated SQL Query"]}),M.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-200 ${U?"rotate-180":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:M.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),U&&M.jsxs("div",{id:"generated-sql-content-main",className:"mt-3 pt-3 border-t border-slate-600",children:[M.jsx("pre",{className:"bg-slate-900 text-slate-200 p-3 rounded-md text-xs overflow-x-auto max-h-60 custom-scrollbar-dark",children:M.jsx("code",{ref:K,children:pt})}),M.jsxs("button",{onClick:ke,className:"mt-3 flex items-center px-3 py-1.5 text-xs bg-primary-600 hover:bg-primary-500 text-white font-medium rounded-md shadow-md disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-700 focus:ring-primary-400",disabled:G!=="Copy SQL",children:[G==="Copied!"?M.jsx(nh,{}):M.jsx(O_,{}),G]})]})]}),M.jsx("div",{ref:Q,className:"grid grid-cols-1 md:grid-cols-6 lg:grid-cols-12 gap-4 md:gap-6 auto-rows-fr",children:ve.map(({spec:Pe,data:ze})=>{var it;let Ve="md:col-span-3 lg:col-span-4";switch(Pe.type){case"KPI":Ve="md:col-span-2 lg:col-span-3";break;case"Table":Ve="md:col-span-6 lg:col-span-12";break;case"PieChart":case"Histogram":Ve="md:col-span-3 lg:col-span-4";break;case"LineChart":case"BarChart":case"AreaChart":case"ScatterPlot":case"MapChart":Ve="md:col-span-6 lg:col-span-6",((it=ze==null?void 0:ze.data)==null?void 0:it.length)>20&&Pe.type!=="ScatterPlot"&&(Ve="md:col-span-6 lg:col-span-8");break;default:Ve="md:col-span-3 lg:col-span-4"}return M.jsx("div",{className:`${Ve}`,children:M.jsx(xI,{elementSpec:Pe,processedData:ze,themeSuggestion:ee,onAnalyzeAnomaly:Ce,isAnalyzingAnomaly:N===Pe.id,onChartElementClick:f,onFocusChart:y,onExportChartData:Le,onChartTypeChange:R,onForecast:le,onClearForecast:pe,isForecasting:ne===Pe.id,forecast:J[Pe.id]})},Pe.id)})}),ge&&ge.length>0&&M.jsx("div",{className:"mt-auto pt-6 flex-shrink-0",children:M.jsx(ere,{onRefine:_,disabled:r,onToggleListening:P,isListening:C,voiceError:A})})]}),M.jsxs(gw,{isOpen:!!$||!!D||!!N&&!$&&!D,onClose:_e,title:($==null?void 0:$.title)||(N?"Analyzing Anomalies...":"Anomaly Analysis"),size:"lg",children:[N&&!($!=null&&$.content)&&!D&&M.jsx(vl,{message:"AI is analyzing for anomalies..."}),D&&!N&&M.jsxs("div",{className:"text-red-400",children:[M.jsx("h4",{className:"font-semibold",children:"Error:"}),M.jsx("p",{children:D})]}),$&&M.jsx("div",{className:"prose prose-sm prose-invert max-w-none text-slate-300",dangerouslySetInnerHTML:{__html:marked.parse($.content)}})]}),M.jsx("style",{children:`
        .custom-scrollbar-dark::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar-dark::-webkit-scrollbar-track {
          background: #1e293b; /* slate-800 */
          border-radius: 3px;
        }
        .custom-scrollbar-dark::-webkit-scrollbar-thumb {
          background: #475569; /* slate-600 */
          border-radius: 3px;
        }
        .custom-scrollbar-dark::-webkit-scrollbar-thumb:hover {
          background: #64748b; /* slate-500 */
        }
        .prose-invert h1, .prose-invert h2, .prose-invert h3, .prose-invert h4, .prose-invert h5, .prose-invert h6 {
            color: #f1f5f9; /* slate-100 */
        }
        .prose-invert p, .prose-invert li, .prose-invert blockquote {
             color: #cbd5e1; /* slate-300 */
        }
        .prose-invert code { 
            color: #e2e8f0; /* slate-200 */
            background-color: #334155; /* slate-700 */
        }
        .prose-invert pre {
            background-color: #0f172a; /* slate-900 */
            color: #e2e8f0; /* slate-200 */
        }
        .prose-invert blockquote {
            border-left-color: #475569; /* slate-600 */
        }
      `})]})},are=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:M.jsx("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),sre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:M.jsx("path",{fillRule:"evenodd",d:"M14.78 11.78a.75.75 0 0 1-1.06 0L10 8.06l-3.72 3.72a.75.75 0 1 1-1.06-1.06l4.25-4.25a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"})}),lre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-slate-400",children:M.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"})}),ure=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-slate-400 hover:text-slate-200",children:M.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.707-11.707a1 1 0 0 0-1.414-1.414L10 8.586 7.707 6.293a1 1 0 0 0-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 1 0 1.414 1.414L10 11.414l2.293 2.293a1 1 0 0 0 1.414-1.414L11.414 10l2.293-2.293Z",clipRule:"evenodd"})}),cre=({filterConfig:t,activeFilterValue:e,onFilterChange:n,onClearFilter:r,disabled:i=!1})=>{const[o,s]=X.useState(!0),[c,d]=X.useState(""),{column:f,type:g,options:y,min:_,max:b}=t,P=X.useMemo(()=>g!=="categorical"||!y?[]:y.filter(k=>String(k??"").toLowerCase().includes(c.toLowerCase())),[y,c,g]),C=k=>{const $=e||[],I=$.includes(k)?$.filter(D=>D!==k):[...$,k];n(f,I)},A=k=>{k.target.checked?n(f,P):n(f,[])},R=(k,$)=>{const I=e||{},D=$.target.value===""?void 0:parseFloat($.target.value);n(f,{...I,[k]:D})},N=e!==void 0&&(Array.isArray(e)&&e.length>0||typeof e=="object"&&!Array.isArray(e)&&(e.min!==void 0||e.max!==void 0));return M.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm border border-slate-600 rounded-lg shadow-md",children:[M.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-slate-600/60 rounded-t-lg transition-colors",onClick:()=>s(!o),"aria-expanded":o,"aria-controls":`filter-content-${f}`,children:[M.jsx("span",{className:"text-sm font-medium text-slate-200 truncate",title:f,children:f}),M.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[N&&!i&&M.jsx("button",{onClick:k=>{k.stopPropagation(),r(f)},className:"p-0.5","aria-label":`Clear filter for ${f}`,children:M.jsx(ure,{})}),o?M.jsx(sre,{}):M.jsx(are,{})]})]}),o&&M.jsxs("div",{id:`filter-content-${f}`,className:"p-3 border-t border-slate-600",children:[g==="categorical"&&y&&M.jsxs("div",{className:"space-y-2",children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:"text",placeholder:"Search values...",value:c,onChange:k=>d(k.target.value),disabled:i,className:"w-full pl-8 pr-2 py-1.5 border border-slate-500 rounded-md text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500 bg-slate-700 text-slate-200 placeholder-slate-400 disabled:bg-slate-600 disabled:opacity-70"}),M.jsx("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none",children:M.jsx(lre,{})})]}),P.length>5&&M.jsxs("div",{className:"flex items-center",children:[M.jsx("input",{type:"checkbox",id:`select-all-${f}`,checked:P.length>0&&(e||[]).length===P.length,onChange:A,disabled:i||P.length===0,className:"h-4 w-4 text-primary-500 border-slate-500 rounded focus:ring-primary-500 disabled:opacity-50 bg-slate-600"}),M.jsx("label",{htmlFor:`select-all-${f}`,className:"ml-2 text-xs text-slate-300",children:"Select All (Visible)"})]}),M.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1 pr-1 custom-scrollbar-thin-dark",children:[P.map(k=>M.jsxs("div",{className:"flex items-center",children:[M.jsx("input",{type:"checkbox",id:`filter-${f}-${k}`,value:k,checked:(e||[]).includes(k),onChange:()=>C(k),disabled:i,className:"h-4 w-4 text-primary-500 border-slate-500 rounded focus:ring-primary-500 disabled:opacity-50 bg-slate-600"}),M.jsx("label",{htmlFor:`filter-${f}-${k}`,className:"ml-2 text-xs text-slate-300 truncate flex-1",title:k===""?"[Blank]":k,children:k==null||k===""?M.jsx("span",{className:"italic text-slate-400",children:"[Blank]"}):k})]},k)),P.length===0&&c&&M.jsx("p",{className:"text-xs text-slate-400 text-center py-2",children:"No matching values."})]})]}),g==="numerical"&&M.jsxs("div",{className:"space-y-2",children:[M.jsx("input",{type:"number",placeholder:`Min: ${(_==null?void 0:_.toLocaleString())??"auto"}`,value:(e==null?void 0:e.min)??"",onChange:k=>R("min",k),disabled:i,className:"w-full p-1.5 border border-slate-500 rounded-md text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500 bg-slate-700 text-slate-200 placeholder-slate-400 disabled:bg-slate-600 disabled:opacity-70",step:"any"}),M.jsx("input",{type:"number",placeholder:`Max: ${(b==null?void 0:b.toLocaleString())??"auto"}`,value:(e==null?void 0:e.max)??"",onChange:k=>R("max",k),disabled:i,className:"w-full p-1.5 border border-slate-500 rounded-md text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500 bg-slate-700 text-slate-200 placeholder-slate-400 disabled:bg-slate-600 disabled:opacity-70",step:"any"})]})]}),M.jsx("style",{children:`
        .custom-scrollbar-thin-dark::-webkit-scrollbar {
          width: 5px;
          height: 5px;
        }
        .custom-scrollbar-thin-dark::-webkit-scrollbar-track {
          background: #334155; /* slate-700 */
        }
        .custom-scrollbar-thin-dark::-webkit-scrollbar-thumb {
          background: #64748b; /* slate-500 */
          border-radius: 10px;
        }
        .custom-scrollbar-thin-dark::-webkit-scrollbar-thumb:hover {
          background: #94a3b8; /* slate-400 */
        }
      `})]})},fre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),dre=({isOpen:t,onClose:e,filterableColumns:n,activeFilters:r,onFilterChange:i,onClearIndividualFilter:o,onClearFilters:s,disabled:c=!1})=>n.length===0&&!t?null:M.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 md:w-96 bg-slate-800/70 backdrop-blur-lg shadow-2xl transform transition-transform duration-300 ease-in-out z-[500] flex flex-col border-l border-slate-600/80
                  ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"filter-pane-title",children:[M.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-600/80 sticky top-0 bg-slate-800/70 backdrop-blur-lg z-10",children:[M.jsx("h3",{id:"filter-pane-title",className:"text-xl font-semibold text-slate-100",children:"Filters"}),M.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md","aria-label":"Close filter pane",children:M.jsx(fre,{})})]}),n.length>0?M.jsx("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:n.map(d=>M.jsx(cre,{filterConfig:d,activeFilterValue:r[d.column],onFilterChange:i,onClearFilter:()=>o(d.column),disabled:c},d.column))}):M.jsx("div",{className:"flex-grow flex items-center justify-center p-4",children:M.jsx("p",{className:"text-slate-400 text-center",children:"No filterable columns identified in the current dataset."})}),n.length>0&&M.jsx("div",{className:"p-4 border-t border-slate-600/80 sticky bottom-0 bg-slate-800/70 backdrop-blur-lg z-10",children:M.jsx("button",{onClick:s,disabled:c||Object.keys(r).length===0,className:"w-full px-4 py-2 text-sm font-medium text-primary-300 hover:text-primary-200 border border-primary-500 hover:bg-primary-500/20 rounded-md disabled:text-slate-500 disabled:border-slate-600 disabled:cursor-not-allowed disabled:bg-transparent transition-colors",children:"Clear All Filters"})})]}),hre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-sky-400",children:M.jsx("path",{d:"M5.5 3.5A1.5 1.5 0 0 0 4 5v2.879a1.5 1.5 0 0 0 .44 1.06l1.88 1.88A1.5 1.5 0 1 0 8.202 9.28L6.322 7.4a.5.5 0 0 1-.141-.353V5a.5.5 0 0 1 .5-.5h2.879a.5.5 0 0 1 .353.141l1.88 1.88a1.5 1.5 0 1 0 1.536-2.617L9.47 1.94A1.5 1.5 0 0 0 7.378 1H5.5a2 2 0 0 0-2 2v6.879A2 2 0 0 0 5.378 12H12.5A1.5 1.5 0 0 0 14 10.5v-5A1.5 1.5 0 0 0 12.5 4H10V3.5a.5.5 0 0 1-.5-.5H7.621A1.5 1.5 0 0 0 5.5 3.5Z"})}),pre=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-violet-400",children:[M.jsx("path",{fillRule:"evenodd",d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h9A1.5 1.5 0 0 1 14 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 12.5v-9ZM3.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-9Z",clipRule:"evenodd"}),M.jsx("path",{d:"M4 5.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm4 0a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm-2 4a.5.5 0 0 1 .5-.5H10a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H6.5a.5.5 0 0 1-.5-.5v-2Z"})]}),mre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-emerald-400",children:M.jsx("path",{fillRule:"evenodd",d:"M4 1.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75V3h3V1.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75V3A1.75 1.75 0 0 1 14 4.75v1.586A2.254 2.254 0 0 0 12.25 6H3.75A2.254 2.254 0 0 0 2 6.336V4.75A1.75 1.75 0 0 1 3.75 3V1.75H2.75a.75.75 0 0 1-.75-.75V3.5h.75A.75.75 0 0 1 3.5 4V1H2A.75.75 0 0 1 2 1h1.5A.75.75 0 0 1 4 1.75ZM12.25 7.5a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5ZM9.75 7.5a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75V7.5h.008A.75.75 0 0 1 9.75 7.5ZM7.5 7.5a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5ZM5 8.25a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.75a.75.75 0 0 1-.75-.75V8.25ZM12.25 10.5a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5ZM9.75 10.5a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75V10.5h.008A.75.75 0 0 1 9.75 10.5ZM7.5 10.5a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5ZM2 7.836v5.414A1.75 1.75 0 0 0 3.75 15h8.5A1.75 1.75 0 0 0 14 13.25V7.836A2.254 2.254 0 0 0 12.25 7.5H3.75A2.254 2.254 0 0 0 2 7.836Z",clipRule:"evenodd"})}),gre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-orange-400",children:M.jsx("path",{d:"M3 4.75A.75.75 0 0 1 3.75 4h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 3 4.75ZM3 8a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 3 8Zm0 3.25a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75Z"})}),vre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-teal-400",children:M.jsx("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm10.25-1.06a.75.75 0 0 0-1.06-1.06L7 9.065 5.81 7.875a.75.75 0 1 0-1.06 1.06L6.47 10.653a.75.75 0 0 0 1.06 0l3.72-3.72Z",clipRule:"evenodd"})}),yre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-red-400",children:M.jsx("path",{fillRule:"evenodd",d:"M8.583.844a.754.754 0 0 0-1.166 0C6.678.369 5.03.047 3.25 0 1.472-.046 0 .973 0 2.755 0 7.324 7.03 15.068 7.53 15.429a.754.754 0 0 0 .94 0c.5-.36 7.53-8.104 7.53-12.674 0-1.782-1.472-2.8-3.25-2.755-1.78-.047-3.428.37-4.167.844ZM7.75 9.017V4.5a.75.75 0 0 1 1.5 0V9.01l1.96-2.015a.75.75 0 1 1 1.07 1.05l-2.495 2.562a.75.75 0 0 1-1.07 0L6.22 8.045a.75.75 0 1 1 1.07-1.05L9.25 9.017h-1.5Z",clipRule:"evenodd"})}),_re=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-slate-500",children:M.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm0-5.25a.75.75 0 0 0 .75-.75V6.32a.75.75 0 0 0-.433-.693A.755.755 0 0 0 8 5.54c-2.31 0-2.882 1.68-2.926 2.037a.75.75 0 1 0 1.493.153A1.513 1.513 0 0 1 8 6.533V8.5a.75.75 0 0 0 .75.75Zm.75 2.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z",clipRule:"evenodd"})}),qO=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-sky-400 inline mr-1 align-text-bottom",children:M.jsx("path",{fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-7.5 3.25a.75.75 0 0 0 .75.75h.01a.75.75 0 0 0 .75-.75V8.53a.75.75 0 0 0-.75-.75h-.01a.75.75 0 0 0-.75.75v2.97ZM8 5.75A.75.75 0 0 1 7.25 5h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75h-.01a.75.75 0 0 1-.75-.75v-.01Z",clipRule:"evenodd"})}),xre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-amber-400 inline mr-1 align-text-bottom",children:M.jsx("path",{fillRule:"evenodd",d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566ZM8 5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 5Zm0 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"})}),wre=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:[M.jsx("path",{d:"M9.834 3.033a.75.75 0 0 1 1.059.212l1.25 2.165a.75.75 0 0 1-.64 1.13H10.5v.75a.75.75 0 0 0 1.5 0V6.75h.193a.75.75 0 0 1 .64 1.13l-1.25 2.165a.75.75 0 0 1-1.06.212L9 9.22v1.51a.75.75 0 0 1-1.5 0V9.22l-1.533 1.03a.75.75 0 0 1-1.06-.212l-1.25-2.165a.75.75 0 0 1 .64-1.13H4.5v-.75a.75.75 0 0 0-1.5 0v.75H2.807a.75.75 0 0 1-.64-1.13l1.25-2.165a.75.75 0 0 1 1.06-.212L6 4.78V3.27a.75.75 0 0 1 1.5 0v1.51l1.834-1.24Z"}),M.jsx("path",{d:"M12.75 11.5a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75Z"}),M.jsx("path",{d:"M11.5 14.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75Z"}),M.jsx("path",{d:"M9.5 13.25a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75Z"})]}),bre=({type:t})=>{switch(t.toLowerCase()){case"numerical":return M.jsx(hre,{});case"categorical":return M.jsx(pre,{});case"date":return M.jsx(mre,{});case"text":return M.jsx(gre,{});case"boolean":return M.jsx(vre,{});case"mixed":return M.jsx(yre,{});default:return M.jsx(_re,{})}},UO=({profile:t,onCleanAction:e})=>{const[n,r]=X.useState(null);if(!t)return M.jsx("div",{className:"p-4 my-4 text-sm text-center text-slate-400 bg-slate-700/30 rounded-lg border border-slate-600/50",children:"No data profile available."});const{overallSummary:i,columns:o}=t,s=d=>{r(f=>f===d?null:d)},c=(d,f)=>{e(d,f),r(null)};return M.jsxs("div",{className:"my-4 p-4 bg-slate-700/30 backdrop-blur-sm rounded-xl border border-slate-600/50 shadow-lg",children:[M.jsx("h3",{className:"text-md font-semibold text-slate-100 mb-2",children:"AI Data Profile & Quality Check"}),i&&M.jsxs("div",{className:"mb-4 p-3 bg-primary-700/30 text-primary-200 text-sm rounded-md border border-primary-600/50 italic",children:[M.jsx(qO,{})," ",M.jsx("span",{className:"font-medium",children:"AI Summary:"})," ",i]}),M.jsx("div",{className:"overflow-x-auto max-h-80 custom-scrollbar-dark-thin",children:M.jsxs("table",{className:"min-w-full text-xs",children:[M.jsx("thead",{className:"bg-slate-600/50 backdrop-blur-sm sticky top-0 z-10",children:M.jsxs("tr",{children:[M.jsx("th",{className:"p-2 text-left font-medium text-slate-300",children:"Column Name"}),M.jsx("th",{className:"p-2 text-left font-medium text-slate-300",children:"Inferred Type"}),M.jsx("th",{className:"p-2 text-left font-medium text-slate-300",children:"Missing %"}),M.jsx("th",{className:"p-2 text-left font-medium text-slate-300",children:"Unique Values"}),M.jsx("th",{className:"p-2 text-left font-medium text-slate-300",children:"Value Range / Samples"}),M.jsx("th",{className:"p-2 text-left font-medium text-slate-300",children:"Notes"}),M.jsx("th",{className:"p-2 text-left font-medium text-slate-300",children:"Actions"})]})}),M.jsx("tbody",{className:"divide-y divide-slate-600",children:o.map((d,f)=>M.jsxs("tr",{className:"hover:bg-slate-600/40 transition-colors duration-150",children:[M.jsx("td",{className:"p-2 whitespace-nowrap font-medium text-slate-200",children:d.columnName}),M.jsx("td",{className:"p-2 whitespace-nowrap text-slate-300",children:M.jsxs("div",{className:"flex items-center gap-1.5",children:[M.jsx(bre,{type:d.inferredType}),d.inferredType]})}),M.jsxs("td",{className:`p-2 whitespace-nowrap text-slate-300 ${d.missingPercentage>20?"text-red-400 font-medium":""}`,children:[d.missingPercentage.toFixed(1),"%"]}),M.jsx("td",{className:"p-2 whitespace-nowrap text-slate-300",children:d.uniqueValues??"N/A"}),M.jsx("td",{className:"p-2 whitespace-nowrap text-slate-400 text-ellipsis overflow-hidden max-w-xs",title:Array.isArray(d.valueRange)?d.valueRange.join(" - "):String(d.valueRange??"N/A"),children:Array.isArray(d.valueRange)?d.valueRange.map(g=>typeof g=="number"?g.toLocaleString():g).join(" - "):d.valueRange??"N/A"}),M.jsx("td",{className:"p-2 text-slate-300 max-w-sm",children:d.notes&&(d.notes.toLowerCase().includes("error")||d.notes.toLowerCase().includes("warning")||d.notes.toLowerCase().includes("mixed")||d.notes.toLowerCase().includes("outlier"))?M.jsxs("span",{className:"flex items-center gap-1 text-amber-400",children:[M.jsx(xre,{})," ",d.notes]}):d.notes?M.jsxs("span",{className:"flex items-center gap-1 text-sky-300",children:[M.jsx(qO,{})," ",d.notes]}):M.jsx("span",{className:"text-slate-500 italic",children:"None"})}),M.jsx("td",{className:"p-2 whitespace-nowrap",children:d.missingPercentage>0&&M.jsxs("div",{className:"relative inline-block text-left",children:[M.jsxs("button",{onClick:()=>s(d.columnName),onBlur:()=>setTimeout(()=>r(null),200),className:"flex items-center px-2 py-1 text-xs bg-accent-600/50 text-accent-200 hover:bg-accent-500/60 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-400 focus:ring-offset-2 focus:ring-offset-slate-800 transition-colors",children:[M.jsx(wre,{}),M.jsx("span",{className:"ml-1",children:"Fix"})]}),n===d.columnName&&M.jsxs("div",{className:"absolute right-0 mt-2 w-56 origin-top-right bg-slate-700 border border-slate-600 rounded-md shadow-lg z-20 py-1",children:[M.jsx("button",{onClick:()=>c(d.columnName,"remove_missing"),className:"w-full text-left px-3 py-1.5 text-xs text-slate-200 hover:bg-primary-600",title:`Removes all rows where '${d.columnName}' is empty.`,children:"Remove Rows with Missing Values"}),d.inferredType==="Numerical"&&M.jsx("button",{onClick:()=>c(d.columnName,"fill_mean"),className:"w-full text-left px-3 py-1.5 text-xs text-slate-200 hover:bg-primary-600",title:`Fills empty cells in '${d.columnName}' with the column's average.`,children:"Fill Missing with Mean"})]})]})})]},f))})]})}),M.jsx("style",{children:`
        .custom-scrollbar-dark-thin::-webkit-scrollbar {
          width: 5px;
          height: 5px;
        }
        .custom-scrollbar-dark-thin::-webkit-scrollbar-track {
          background: #1e293b; /* slate-800 */
          border-radius: 10px;
        }
        .custom-scrollbar-dark-thin::-webkit-scrollbar-thumb {
          background: #475569; /* slate-600 */
          border-radius: 10px;
        }
        .custom-scrollbar-dark-thin::-webkit-scrollbar-thumb:hover {
          background: #64748b; /* slate-500 */
        }
      `})]})},Sre=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-2 text-amber-300",children:[M.jsx("path",{d:"M10 2a.75.75 0 0 1 .75.75v1.256a.75.75 0 0 1-.504.706C9.177 5.111 8.5 6.16 8.5 7.25V9.5a.75.75 0 0 0 1.5 0V8a1 1 0 0 1 1-1h.25a.75.75 0 0 0 .75-.75V2.75A.75.75 0 0 1 10 2Z"}),M.jsx("path",{d:"M4.75 9.5A5.25 5.25 0 0 0 10 14.75a5.25 5.25 0 0 0 5.25-5.25V8.5A5.25 5.25 0 0 0 10 3.25a5.25 5.25 0 0 0-5.25 5.25V9.5ZM10 18a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-1.5 0v1.5A.75.75 0 0 0 10 18Z"})]}),Tre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity",children:M.jsx("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),jO=({insights:t,isLoading:e,onPromptClick:n})=>e?M.jsx("div",{className:"p-4 my-4 bg-slate-700/30 rounded-lg border border-slate-600/50",children:M.jsx(vl,{message:"AI is discovering key insights..."})}):!t||t.length===0?null:M.jsxs("div",{className:"my-4 p-4 bg-slate-700/30 backdrop-blur-sm rounded-xl border border-slate-600/50 shadow-lg",children:[M.jsxs("h3",{className:"text-md font-semibold text-slate-100 mb-3 flex items-center",children:[M.jsx(Sre,{}),"AI Suggested Insights"]}),M.jsx("div",{className:"space-y-2",children:t.map((r,i)=>M.jsx("button",{onClick:()=>n(r),className:"group w-full text-left p-3 bg-slate-600/40 hover:bg-primary-600/50 border border-slate-600 hover:border-primary-500 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-400",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("p",{className:"text-sm text-slate-200 group-hover:text-white",children:r}),M.jsx(Tre,{})]})},i))})]}),Cre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-2 text-primary-300",children:M.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-13a.75.75 0 0 0-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 0 0 0-1.5h-3.25V5Z",clipRule:"evenodd"})}),Are=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity",children:M.jsx("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),Pre=({history:t,onPromptClick:e})=>!t||t.length===0?null:M.jsxs("div",{className:"my-4 p-4 bg-slate-700/30 backdrop-blur-sm rounded-xl border border-slate-600/50 shadow-lg",children:[M.jsxs("h3",{className:"text-md font-semibold text-slate-100 mb-3 flex items-center",children:[M.jsx(Cre,{}),"Analysis History"]}),M.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar-dark-thin pr-1",children:t.map((n,r)=>M.jsx("button",{onClick:()=>e(n),className:"group w-full text-left p-3 bg-slate-600/40 hover:bg-primary-600/50 border border-slate-600 hover:border-primary-500 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-400",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("p",{className:"text-sm text-slate-200 group-hover:text-white truncate",title:n,children:n}),M.jsx(Are,{})]})},r))}),M.jsx("style",{children:`
        .custom-scrollbar-dark-thin::-webkit-scrollbar {
          width: 5px;
          height: 5px;
        }
        .custom-scrollbar-dark-thin::-webkit-scrollbar-track {
          background: #1e293b;
          border-radius: 10px;
        }
        .custom-scrollbar-dark-thin::-webkit-scrollbar-thumb {
          background: #475569;
          border-radius: 10px;
        }
      `})]}),zO=!1,Ere=30,Mre=5,rh="default",Ire=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:M.jsx("path",{fillRule:"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.59L2.659 6.22A2.25 2.25 0 0 1 2 4.63V2.34a.75.75 0 0 1 .628-.74Z",clipRule:"evenodd"})}),Ore=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:M.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"})}),kre=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-2 text-primary-400",children:M.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"})}),Nre=()=>{const[t,e]=X.useState(null),[n,r]=X.useState(null),[i,o]=X.useState(!1),[s,c]=X.useState(!1),[d,f]=X.useState(null),[g,y]=X.useState(""),[_,b]=X.useState(rh),[P,C]=X.useState([]),[A,R]=X.useState(null),[N,k]=X.useState(!1),[$,I]=X.useState(null),[D,F]=X.useState(!1),[U,z]=X.useState([]),[G,j]=X.useState({}),[K,Q]=X.useState(null),[re,ie]=X.useState(!1),[ae,de]=X.useState(!1),[J,ce]=X.useState(null),[ne,V]=X.useState(null),[ee,ve]=X.useState(!1),[Ce,le]=X.useState(null),pe=X.useRef(null);X.useEffect(()=>{t!=null&&t.rows?Q(t.rows):Q(null),ce(null),V(null)},[t]),X.useEffect(()=>{(()=>{try{if(!window.location.hash||!window.location.hash.startsWith("#state="))return;const Te=window.location.hash.substring(7),Ee=atob(Te),We=new Uint8Array(Ee.split("").map(Et=>Et.charCodeAt(0))),ct=pako.inflate(We,{to:"string"}),st=JSON.parse(ct);st.fileData&&st.dashboardData&&(Le(st.fileData.name,st.fileData.columns,st.fileData.rows,!0).then(()=>{r(st.dashboardData),j(st.activeFilters||{}),ce(st.drillDownFilter||null),b(st.selectedTheme||rh),y(st.currentPrompt||""),C(st.promptHistory||[])}),window.history.replaceState(null,"",window.location.pathname+window.location.search))}catch(Te){console.error("Failed to load state from URL hash:",Te),window.history.replaceState(null,"",window.location.pathname+window.location.search)}})()},[]),X.useEffect(()=>{const De=[];if(t&&t.columns.length>0&&t.rows.length>0)for(const Te of t.columns){const Ee=t.rows[0][Te];if(typeof Ee=="number"){const We=t.rows.map(ct=>ct[Te]).filter(ct=>typeof ct=="number"&&!isNaN(ct));We.length>0&&De.push({column:Te,type:"numerical",min:Math.min(...We),max:Math.max(...We)})}else if((typeof Ee=="string"||Ee===null||Ee===void 0)&&t.rows.length>=Mre){const We=Array.from(new Set(t.rows.map(ct=>String(ct[Te]??""))));We.length>0&&We.length<=Ere&&De.push({column:Te,type:"categorical",options:We.sort()})}}z(De),j({}),ce(null),V(null)},[t]),X.useEffect(()=>{if(!(t!=null&&t.rows)){Q(null);return}let De=[...t.rows];if(J&&(De=De.filter(Te=>{const Ee=Te[J.column];return J.value===null||J.value===void 0||String(J.value).toLowerCase()==="[blank]"||String(J.value).toLowerCase()==="n/a"?Ee==null||String(Ee).trim()===""||String(Ee).toLowerCase()==="n/a":String(Ee)===String(J.value)})),Object.keys(G).length>0)for(const Te in G){const Ee=G[Te],We=U.find(ct=>ct.column===Te);if((We==null?void 0:We.type)==="categorical"&&Array.isArray(Ee)&&Ee.length>0)De=De.filter(ct=>{const st=String(ct[Te]??"");return Ee.includes(st)});else if((We==null?void 0:We.type)==="numerical"&&typeof Ee=="object"){const{min:ct,max:st}=Ee,Et=ct===""||ct===void 0?-1/0:Number(ct),Ti=st===""||st===void 0?1/0:Number(st);!isNaN(Et)&&!isNaN(Ti)&&(De=De.filter(cs=>{const Ci=Number(cs[Te]);return isNaN(Ci)?!1:Ci>=Et&&Ci<=Ti}))}}Q(De)},[G,t==null?void 0:t.rows,U,J]);const Le=X.useCallback(async(De,Te,Ee,We=!1)=>{if(e({name:De,columns:Te,rows:Ee}),f(null),We||(R(null),ce(null),V(null),I(null),r(null),C([])),Te.length>0&&Ee.length>0){k(!0);try{const st=await Zne(Te,Ee.slice(0,10));R(st.profile),st.profile.overallSummary.toLowerCase().includes("error:")?f(Et=>Et?`${Et}
Data Profile Note: ${st.profile.overallSummary}`:`Data Profile Note: ${st.profile.overallSummary}`):We||(F(!0),Jne(Te,Ee.slice(0,10)).then(Et=>{I(Et.suggestedPrompts)}).catch(Et=>{console.error("Error getting AI automated insights:",Et)}).finally(()=>{F(!1)}))}catch(st){console.error("Error getting AI data profile:",st),f(Et=>Et?`${Et}
Failed to generate AI data profile: ${st.message}`:`Failed to generate AI data profile: ${st.message}`),R(null)}finally{k(!1)}}else Te.length>0&&Ee.length===0?f(`File "${De}" has headers but no data rows. AI analysis might be limited.`):(e(null),f(`File "${De}" was processed but appears to be empty or has no usable data structure.`));We||r(null)},[]),Oe=X.useCallback((De,Te)=>{j(Ee=>{const We={...Ee};return Array.isArray(Te)&&Te.length===0||typeof Te=="object"&&!Array.isArray(Te)&&Te.min===void 0&&Te.max===void 0||typeof Te=="object"&&!Array.isArray(Te)&&Te.min===""&&Te.max===""?delete We[De]:We[De]=Te,We})},[]),_e=X.useCallback(De=>{j(Te=>{const Ee={...Te};return delete Ee[De],Ee})},[]),ke=X.useCallback(()=>{j({})},[]),He=X.useCallback(async De=>{if(!t||!t.columns||t.columns.length===0){f("Please upload and process a data file with valid headers and content first.");return}o(!0),f(null),y(De),C(Te=>[De,...Te.filter(Ee=>Ee!==De)].slice(0,10)),de(!1),ce(null),V(null);try{const Te=t.rows.slice(0,5),Ee=await FO(De,t.columns,Te,null);Ee&&Ee.elements&&Ee.elements.length===1&&Ee.elements[0].id.startsWith("error_element_")&&console.warn("Gemini service returned an error structure for dashboard specification:",Ee.elements[0].title),r(Ee),b(Ee.themeSuggestion||rh)}catch(Te){console.error("Error getting dashboard spec from service:",Te);const Ee=Te instanceof Error?Te.message:String(Te);f(`Failed to generate dashboard: ${Ee}`),r(null)}finally{o(!1)}},[t]),ge=X.useCallback(async De=>{if(!t||!t.columns||t.columns.length===0||!n){f("Cannot refine: Initial dashboard or data is missing.");return}o(!0),f(null),y(`Refining with: "${De}"`),C(Te=>[De,...Te.filter(Ee=>Ee!==De)].slice(0,10)),ce(null),V(null);try{const Te=t.rows.slice(0,5),Ee=await FO(De,t.columns,Te,n);Ee&&Ee.elements&&Ee.elements.length===1&&Ee.elements[0].id.startsWith("error_element_")&&console.warn("Gemini service returned an error structure during refinement:",Ee.elements[0].title),r(Ee),Ee.themeSuggestion&&b(Ee.themeSuggestion)}catch(Te){console.error("Error refining dashboard spec:",Te);const Ee=Te instanceof Error?Te.message:String(Te);f(`Failed to refine dashboard: ${Ee}`)}finally{o(!1)}},[t,n]),rt=X.useCallback((De,Te)=>{ce(Ee=>{const We=Te===""||Te===null||Te===void 0?"[Blank]":Te;return Ee&&Ee.column===De&&Ee.value===We?null:{column:De,value:We}})},[]),Qe=X.useCallback(()=>{ce(null)},[]),pt=X.useCallback((De,Te)=>{V({spec:De,data:Te})},[]),mt=X.useCallback(()=>{V(null)},[]),Pe=X.useCallback((De,Te)=>{rt(De,Te),mt()},[rt,mt]),ze=X.useCallback(De=>{He(De)},[He]),Ve=()=>{if(!t||!n)return alert("Cannot share, data or dashboard is missing."),"";const Te=JSON.stringify({fileData:t,dashboardData:n,activeFilters:G,drillDownFilter:J,selectedTheme:_,currentPrompt:g,promptHistory:P}),Ee=pako.deflate(Te),We=btoa(String.fromCharCode.apply(null,Ee)),ct=new URL(window.location.href);return ct.hash=`state=${We}`,ct.href},it=()=>{var Ee;if(ee){(Ee=pe.current)==null||Ee.stop();return}const De=window.SpeechRecognition||window.webkitSpeechRecognition;if(!De){le("Voice recognition is not supported by your browser.");return}const Te=new De;pe.current=Te,Te.continuous=!1,Te.interimResults=!1,Te.lang="en-US",Te.onstart=()=>{ve(!0),le(null)},Te.onend=()=>{ve(!1),pe.current=null},Te.onerror=We=>{le(`Voice recognition error: ${We.error}`),ve(!1)},Te.onresult=We=>{const ct=We.results[0][0].transcript;ct&&ge(ct)},Te.start()},gt=i||s||!t||!t.columns||t.columns.length===0||zO||N||D,Yt=i||s||!t||!t.rows||t.rows.length===0||U.length===0||N||D,Yn=Object.keys(G).length,Si=()=>{e(null),r(null),y(""),f(null),b(rh),R(null),k(!1),ce(null),j({}),z([]),V(null),I(null),F(!1),C([])},ri=X.useCallback((De,Te)=>{if(!t)return;let Ee=[];if(Te==="remove_missing")Ee=t.rows.filter(We=>We[De]!==null&&We[De]!==void 0&&String(We[De]).trim()!=="");else if(Te==="fill_mean"){const We=t.rows.map(st=>parseFloat(String(st[De]))).filter(st=>!isNaN(st));if(We.length===0){f(`Cannot fill with mean: No numeric values found in column "${De}".`);return}const ct=We.reduce((st,Et)=>st+Et,0)/We.length;Ee=t.rows.map(st=>{const Et=st[De];return Et==null||String(Et).trim()===""||isNaN(parseFloat(String(Et)))?{...st,[De]:ct}:st})}Ee.length!==t.rows.length&&(f(null),Le(t.name,t.columns,Ee),setTimeout(()=>alert(`${t.rows.length-Ee.length} rows affected by the cleaning action. Data has been re-profiled.`),100))},[t,Le]),po=X.useCallback((De,Te)=>{r(Ee=>{if(!Ee)return null;const We=Ee.elements.map(ct=>{if(ct.id===De&&ct.type!=="KPI"){const st={...ct,type:Te};return Te==="PieChart"&&ct.type,st}return ct});return{...Ee,elements:We}})},[]);return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"min-h-screen flex flex-col items-center p-2 md:p-4 selection:bg-accent-500 selection:text-white",children:[M.jsxs("header",{className:"w-full max-w-7xl text-center py-6 md:py-10",children:[M.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-primary-400 via-accent-500 to-sky-400",children:"AI-Powered Insight Engine"}),M.jsx("p",{className:"text-slate-400 mt-3 text-sm md:text-base max-w-2xl mx-auto",children:"Upload data, ask in natural language, SQL, or Python (for data logic), and transform it into stunning, insightful dashboards instantly. Apply filters, drill-down, get AI anomaly insights, and focus on visuals."})]}),zO,d&&!i&&!ae&&M.jsx("div",{className:"w-full max-w-4xl mb-4 p-2",children:M.jsx(rw,{message:d})}),M.jsx("main",{className:"w-full max-w-7xl px-2 flex-grow flex flex-col",children:M.jsxs("div",{className:"space-y-4 flex-grow flex flex-col",children:[t&&t.rows&&t.rows.length>0&&U.length>0&&M.jsx("div",{className:"flex justify-end mb-0",children:M.jsxs("button",{onClick:()=>ie(!0),disabled:Yt,className:"relative flex items-center gap-2 px-4 py-2 bg-primary-600/80 hover:bg-primary-500/90 backdrop-blur-sm text-white rounded-lg shadow-lg hover:shadow-primary-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-primary-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out",title:"Open Filters","aria-label":"Open filter panel",children:[M.jsx(Ire,{}),M.jsx("span",{className:"text-sm font-medium",children:"Filters"}),Yn>0&&M.jsx("span",{className:"absolute -top-2 -right-2 bg-accent-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md",children:Yn})]})}),M.jsx("div",{className:"bg-slate-800/60 backdrop-blur-md shadow-2xl rounded-xl border border-slate-700/50 flex-grow flex flex-col min-h-[400px] lg:min-h-[calc(100vh-320px)] max-h-[calc(100vh-180px)]",children:M.jsx(ore,{dashboardData:n,rawData:K,originalFileData:t,isLoading:i&&!s&&!N,currentPrompt:g,activeFiltersCount:Yn,selectedTheme:_,onThemeChange:b,drillDownFilter:J,onChartElementClick:rt,onClearDrillDownFilter:Qe,onFocusChart:pt,onRefine:ge,onSaveAndShare:Ve,onToggleListening:it,isListening:ee,voiceError:Ce,onChartTypeChange:po})})]})})]}),M.jsx("button",{onClick:()=>{f(null),de(!0)},className:"fixed bottom-6 right-6 md:bottom-8 md:right-8 bg-gradient-to-br from-accent-500 to-teal-500 hover:from-accent-600 hover:to-teal-600 text-white p-4 rounded-full shadow-2xl focus:outline-none focus:ring-4 focus:ring-accent-500/50 transition-all duration-200 ease-in-out hover:scale-110 z-[1000]",title:"Add Data & Ask Question","aria-label":"Add Data and Ask Question",children:M.jsx(Ore,{})}),M.jsx(gw,{isOpen:ae,onClose:()=>de(!1),title:t?"Data Hub & AI Query":"Upload Data & Query AI",size:"lg",children:M.jsxs("div",{className:"space-y-6 p-1 md:p-2",children:[d&&M.jsx("div",{className:"mb-0",children:M.jsx(rw,{message:d,title:"Input Issue"})}),t&&t.columns.length>0?M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"p-4 bg-slate-700/50 border border-slate-600 rounded-xl shadow",children:[M.jsxs("div",{className:"flex items-start",children:[M.jsx(kre,{}),M.jsxs("div",{children:[M.jsxs("p",{className:"text-sm font-medium text-primary-300",children:["Active Data Source: ",M.jsx("span",{className:"font-semibold text-primary-200",children:t.name})]}),M.jsxs("p",{className:"text-xs text-slate-400",children:[t.rows.length," rows, ",t.columns.length," columns."]})]})]}),M.jsx("button",{onClick:Si,className:"mt-3 text-xs text-accent-400 hover:text-accent-300 font-medium focus:outline-none underline",children:"Upload a different file"})]}),N&&M.jsx(vl,{message:"AI is analyzing data structure..."}),A&&!N&&M.jsx(UO,{profile:A,onCleanAction:ri}),M.jsx(Pre,{history:P,onPromptClick:ze}),M.jsx(jO,{insights:$,isLoading:D,onPromptClick:ze}),M.jsx(pS,{onSubmit:He,disabled:gt})]}):M.jsxs(M.Fragment,{children:[M.jsx(QR,{onDataLoaded:(De,Te,Ee)=>Le(De,Te,Ee),setLoading:c,setError:De=>{f(De),e(null),r(null),R(null)}}),s&&M.jsx(vl,{message:"Processing file..."}),N&&M.jsx(vl,{message:"AI is analyzing data structure..."}),A&&!N&&M.jsx(UO,{profile:A,onCleanAction:ri}),M.jsx(jO,{insights:$,isLoading:D,onPromptClick:ze}),M.jsx(pS,{onSubmit:He,disabled:gt})]})]})}),M.jsx(dre,{isOpen:re,onClose:()=>ie(!1),filterableColumns:U,activeFilters:G,onFilterChange:Oe,onClearIndividualFilter:_e,onClearFilters:ke,disabled:i||s||N}),ne&&M.jsxs(gw,{isOpen:!!ne,onClose:mt,title:`Focus View: ${ne.spec.title}`,size:"xl",children:[M.jsx("div",{className:"w-full h-[70vh] min-h-[400px] p-1 bg-slate-700/30 rounded-lg",children:M.jsx(A5,{processedData:ne.data,themeSuggestion:_,onChartElementClick:Pe})}),ne.spec.interpretation&&M.jsx("div",{className:"mt-4 p-3 bg-slate-700/50 border-t border-slate-600 text-sm text-slate-300 rounded-b-xl",children:M.jsxs("p",{children:[M.jsx("span",{className:"font-semibold text-primary-300",children:"AI Interpretation:"})," ",ne.spec.interpretation]})})]})]})},rR=document.getElementById("root");if(!rR)throw new Error("Could not find root element to mount to");const Rre=WR.createRoot(rR);Rre.render(M.jsx(H.StrictMode,{children:M.jsx(Nre,{})}));
